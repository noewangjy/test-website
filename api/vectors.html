<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>Vectors Â· spaCy API Documentation</title><meta name="description" content="Store, save and load word vectors"/><meta property="og:title" content="Vectors Â· spaCy API Documentation"/><meta property="og:description" content="Store, save and load word vectors"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Vectors"/><meta property="og:image" content="[object Object]"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="[object Object]"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="Vectors Â· spaCy API Documentation"/><meta name="twitter:description" content="Store, save and load word vectors"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ee1fab0e25bb912e.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_buildManifest.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-green"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>ðŸ’¥ Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage">Usage</option><option value="/models">Models</option><option value="/api" selected="">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Other</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/api">Overview<!-- --> â€º <!-- -->Library Architecture</option><option value="/api/architectures">Overview<!-- --> â€º <!-- -->Model Architectures</option><option value="/api/data-formats">Overview<!-- --> â€º <!-- -->Data Formats</option><option value="/api/cli">Overview<!-- --> â€º <!-- -->Command Line</option><option value="/api/top-level">Overview<!-- --> â€º <!-- -->Functions</option><option value="/api/doc">Containers<!-- --> â€º <!-- -->Doc</option><option value="/api/docbin">Containers<!-- --> â€º <!-- -->DocBin</option><option value="/api/example">Containers<!-- --> â€º <!-- -->Example</option><option value="/api/language">Containers<!-- --> â€º <!-- -->Language</option><option value="/api/lexeme">Containers<!-- --> â€º <!-- -->Lexeme</option><option value="/api/span">Containers<!-- --> â€º <!-- -->Span</option><option value="/api/spangroup">Containers<!-- --> â€º <!-- -->SpanGroup</option><option value="/api/token">Containers<!-- --> â€º <!-- -->Token</option><option value="/api/attributeruler">Pipeline<!-- --> â€º <!-- -->AttributeRuler</option><option value="/api/coref">Pipeline<!-- --> â€º <!-- -->CoreferenceResolver</option><option value="/api/dependencyparser">Pipeline<!-- --> â€º <!-- -->DependencyParser</option><option value="/api/edittreelemmatizer">Pipeline<!-- --> â€º <!-- -->EditTreeLemmatizer</option><option value="/api/entitylinker">Pipeline<!-- --> â€º <!-- -->EntityLinker</option><option value="/api/entityrecognizer">Pipeline<!-- --> â€º <!-- -->EntityRecognizer</option><option value="/api/entityruler">Pipeline<!-- --> â€º <!-- -->EntityRuler</option><option value="/api/lemmatizer">Pipeline<!-- --> â€º <!-- -->Lemmatizer</option><option value="/api/morphologizer">Pipeline<!-- --> â€º <!-- -->Morphologizer</option><option value="/api/sentencerecognizer">Pipeline<!-- --> â€º <!-- -->SentenceRecognizer</option><option value="/api/sentencizer">Pipeline<!-- --> â€º <!-- -->Sentencizer</option><option value="/api/spancategorizer">Pipeline<!-- --> â€º <!-- -->SpanCategorizer</option><option value="/api/span-resolver">Pipeline<!-- --> â€º <!-- -->SpanResolver</option><option value="/api/spanruler">Pipeline<!-- --> â€º <!-- -->SpanRuler</option><option value="/api/tagger">Pipeline<!-- --> â€º <!-- -->Tagger</option><option value="/api/textcategorizer">Pipeline<!-- --> â€º <!-- -->TextCategorizer</option><option value="/api/tok2vec">Pipeline<!-- --> â€º <!-- -->Tok2Vec</option><option value="/api/tokenizer">Pipeline<!-- --> â€º <!-- -->Tokenizer</option><option value="/api/pipe">Pipeline<!-- --> â€º <!-- -->TrainablePipe</option><option value="/api/transformer">Pipeline<!-- --> â€º <!-- -->Transformer</option><option value="/api/pipeline-functions">Pipeline<!-- --> â€º <!-- -->Other Functions</option><option value="/api/dependencymatcher">Matchers<!-- --> â€º <!-- -->DependencyMatcher</option><option value="/api/matcher">Matchers<!-- --> â€º <!-- -->Matcher</option><option value="/api/phrasematcher">Matchers<!-- --> â€º <!-- -->PhraseMatcher</option><option value="/api/attributes">Other<!-- --> â€º <!-- -->Attributes</option><option value="/api/corpus">Other<!-- --> â€º <!-- -->Corpus</option><option value="/api/inmemorylookupkb">Other<!-- --> â€º <!-- -->InMemoryLookupKB</option><option value="/api/kb">Other<!-- --> â€º <!-- -->KnowledgeBase</option><option value="/api/lookups">Other<!-- --> â€º <!-- -->Lookups</option><option value="/api/morphology#morphanalysis">Other<!-- --> â€º <!-- -->MorphAnalysis</option><option value="/api/morphology">Other<!-- --> â€º <!-- -->Morphology</option><option value="/api/scorer">Other<!-- --> â€º <!-- -->Scorer</option><option value="/api/stringstore">Other<!-- --> â€º <!-- -->StringStore</option><option value="/api/vectors" selected="">Other<!-- --> â€º <!-- -->Vectors</option><option value="/api/vocab">Other<!-- --> â€º <!-- -->Vocab</option><option value="/api/cython">Cython<!-- --> â€º <!-- -->Architecture</option><option value="/api/cython-classes">Cython<!-- --> â€º <!-- -->Classes</option><option value="/api/cython-structs">Cython<!-- --> â€º <!-- -->Structs</option><option value="/api/legacy">Legacy<!-- --> â€º <!-- -->Legacy functions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Overview</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api">Library Architecture</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/architectures">Model Architectures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/data-formats">Data Formats</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cli">Command Line</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/top-level">Functions</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Containers</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/doc">Doc</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/docbin">DocBin</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/example">Example</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/language">Language</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lexeme">Lexeme</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/span">Span</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spangroup">SpanGroup</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/token">Token</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Pipeline</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/attributeruler">AttributeRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/coref">CoreferenceResolver</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/dependencyparser">DependencyParser</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/edittreelemmatizer">EditTreeLemmatizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entitylinker">EntityLinker</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entityrecognizer">EntityRecognizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entityruler">EntityRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lemmatizer">Lemmatizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphologizer">Morphologizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/sentencerecognizer">SentenceRecognizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/sentencizer">Sentencizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spancategorizer">SpanCategorizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/span-resolver">SpanResolver</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spanruler">SpanRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tagger">Tagger</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/textcategorizer">TextCategorizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tok2vec">Tok2Vec</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tokenizer">Tokenizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/pipe">TrainablePipe</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/transformer">Transformer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/pipeline-functions">Other Functions</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Matchers</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/dependencymatcher">DependencyMatcher</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/matcher">Matcher</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/phrasematcher">PhraseMatcher</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Other</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/attributes">Attributes</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/corpus">Corpus</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/inmemorylookupkb">InMemoryLookupKB</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/kb">KnowledgeBase</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lookups">Lookups</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphology#morphanalysis">MorphAnalysis</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphology">Morphology</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/scorer">Scorer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/stringstore">StringStore</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/api/vectors">Vectors</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/vocab">Vocab</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Cython</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython">Architecture</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython-classes">Classes</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython-structs">Structs</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Legacy</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/legacy">Legacy functions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><div class="title_corner__S0Hac"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/vectors.pyx">Source</a></div><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">Vectors<!-- --> </span></h1><div class="title_tags__PljaK"><span class="tag_root__NTSnK tag_spaced__Q9amH">class</span></div><div class="heading-teaser title_teaser__QhwCH">Store, save and load word vectors</div></header><section class="section_root__k1hUl"><p>Vectors data is kept in the <code class="code_inline-code__Bq7ot">Vectors.data</code> attribute, which should be an
instance of <code class="code_inline-code__Bq7ot">numpy.ndarray</code> (for CPU vectors) or <code class="code_inline-code__Bq7ot">cupy.ndarray</code> (for GPU
vectors).</p><p>As of spaCy v3.2, <code class="code_inline-code__Bq7ot">Vectors</code> supports two types of vector tables:</p><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><code class="code_inline-code__Bq7ot">default</code>: A standard vector table (as in spaCy v3.1 and earlier) where each
key is mapped to one row in the vector table. Multiple keys can be mapped to
the same vector, and not all of the rows in the table need to be assigned â€“ so
<code class="code_inline-code__Bq7ot">vectors.n_keys</code> may be greater or smaller than <code class="code_inline-code__Bq7ot">vectors.shape[0]</code>.</li>
<li class="list_li__sfx_z"><code class="code_inline-code__Bq7ot">floret</code>: Only supports vectors trained with
<a class="link_root__1Me7D link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/floret"><span class="link_source-text__VDP74">floret</span></a>, an extended version of
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://fasttext.cc">fastText</a> that produces compact vector tables by
combining fastTextâ€™s subword ngrams with Bloom embeddings. The compact tables
are similar to the <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-layers#hashembed"><code class="code_inline-code__Bq7ot">HashEmbed</code></a>
embeddings already used in many spaCy components. Each word is represented as
the sum of one or more rows as determined by the settings related to character
ngrams and the hash table.</li>
</ul></section>
<section id="section-init" class="section_root__k1hUl"><h2 id="init" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#init" class="heading-text typography_permalink__UiIRy">Vectors.__init__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Create a new vector store. With the default mode, you can set the vector values
and keys directly on initialization, or supply a <code class="code_inline-code__Bq7ot">shape</code> keyword argument to
create an empty table you can add vectors to later. In floret mode, the complete
vector data and settings must be provided on initialization and cannot be
modified later.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_divider__DRQHe"><td class="table_td__rmpJx"><em>keyword-only</em></td><td class="table_td__rmpJx"></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">strings</code></td><td class="table_td__rmpJx">The string store. A new string store is created if one is not provided. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/stringstore">StringStore</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">shape</code></td><td class="table_td__rmpJx">Size of the table as <code class="code_inline-code__Bq7ot">(n_entries, n_columns)</code>, the number of entries and number of columns. Not required if youâ€™re initializing the object with <code class="code_inline-code__Bq7ot">data</code> and <code class="code_inline-code__Bq7ot">keys</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">data</code></td><td class="table_td__rmpJx">The vector data. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=2<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">keys</code></td><td class="table_td__rmpJx">A sequence of keys aligned with the data. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Iterable<span class="code_cli-arg-subtle__IgB5m">[</span>Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">name</code></td><td class="table_td__rmpJx">A name to identify the vectors table. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">mode</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">Vectors mode: <code class="code_inline-code__Bq7ot">&quot;default&quot;</code> or <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/floret"><code class="code_inline-code__Bq7ot">&quot;floret&quot;</code></a> (default: <code class="code_inline-code__Bq7ot">&quot;default&quot;</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">minn</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">The floret char ngram minn (default: <code class="code_inline-code__Bq7ot">0</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">maxn</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">The floret char ngram maxn (default: <code class="code_inline-code__Bq7ot">0</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">hash_count</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">The floret hash count. Supported values: 1â€”4 (default: <code class="code_inline-code__Bq7ot">1</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">hash_seed</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">The floret hash seed (default: <code class="code_inline-code__Bq7ot">0</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">bow</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">The floret BOW string (default: <code class="code_inline-code__Bq7ot">&quot;&lt;&quot;</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">eow</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></td><td class="table_td__rmpJx">The floret EOW string (default: <code class="code_inline-code__Bq7ot">&quot;&gt;&quot;</code>). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr></tbody></table></section>
<section id="section-getitem" class="section_root__k1hUl"><h2 id="getitem" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#getitem" class="heading-text typography_permalink__UiIRy">Vectors.__getitem__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Get a vector by key. If the key is not found in the table, a <code class="code_inline-code__Bq7ot">KeyError</code> is
raised.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key</code></td><td class="table_td__rmpJx">The key to get the vector for. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The vector for the key. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-setitem" class="section_root__k1hUl"><h2 id="setitem" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#setitem" class="heading-text typography_permalink__UiIRy">Vectors.__setitem__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Set a vector for the given key. Not supported for <code class="code_inline-code__Bq7ot">floret</code> mode.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key</code></td><td class="table_td__rmpJx">The key to set the vector for. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">vector</code></td><td class="table_td__rmpJx">The vector to set. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-iter" class="section_root__k1hUl"><h2 id="iter" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#iter" class="heading-text typography_permalink__UiIRy">Vectors.__iter__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Iterate over the keys in the table. In <code class="code_inline-code__Bq7ot">floret</code> mode, the keys table is not
used.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>YIELDS</strong></td><td class="table_td__rmpJx">A key in the table. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr></tbody></table></section>
<section id="section-len" class="section_root__k1hUl"><h2 id="len" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#len" class="heading-text typography_permalink__UiIRy">Vectors.__len__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Return the number of vectors in the table.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The number of vectors in the table. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr></tbody></table></section>
<section id="section-contains" class="section_root__k1hUl"><h2 id="contains" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#contains" class="heading-text typography_permalink__UiIRy">Vectors.__contains__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Check whether a key has been mapped to a vector entry in the table. In <code class="code_inline-code__Bq7ot">floret</code>
mode, returns <code class="code_inline-code__Bq7ot">True</code> for all keys.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key</code></td><td class="table_td__rmpJx">The key to check. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">Whether the key has a vector entry. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr></tbody></table></section>
<section id="section-add" class="section_root__k1hUl"><h2 id="add" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#add" class="heading-text typography_permalink__UiIRy">Vectors.add <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Add a key to the table, optionally setting a vector value as well. Keys can be
mapped to an existing vector by setting <code class="code_inline-code__Bq7ot">row</code>, or a new vector can be added. Not
supported for <code class="code_inline-code__Bq7ot">floret</code> mode.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key</code></td><td class="table_td__rmpJx">The key to add. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF table_divider__DRQHe"><td class="table_td__rmpJx"><em>keyword-only</em></td><td class="table_td__rmpJx"></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">vector</code></td><td class="table_td__rmpJx">An optional vector to add for the key. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">row</code></td><td class="table_td__rmpJx">An optional row number of a vector to map the key to. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The row the vector was added to. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr></tbody></table></section>
<section id="section-resize" class="section_root__k1hUl"><h2 id="resize" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#resize" class="heading-text typography_permalink__UiIRy">Vectors.resize <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Resize the underlying vectors array. If <code class="code_inline-code__Bq7ot">inplace=True</code>, the memory is
reallocated. This may cause other references to the data to become invalid, so
only use <code class="code_inline-code__Bq7ot">inplace=True</code> if youâ€™re sure thatâ€™s what you want. If the number of
vectors is reduced, keys mapped to rows that have been deleted are removed.
These removed items are returned as a list of <code class="code_inline-code__Bq7ot">(key, row)</code> tuples. Not supported
for <code class="code_inline-code__Bq7ot">floret</code> mode.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">shape</code></td><td class="table_td__rmpJx">A <code class="code_inline-code__Bq7ot">(rows, dims)</code> tuple describing the number of rows and dimensions. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">inplace</code></td><td class="table_td__rmpJx">Reallocate the memory. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The removed items as a list of <code class="code_inline-code__Bq7ot">(key, row)</code> tuples. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">List<span class="code_cli-arg-subtle__IgB5m">[</span>Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-keys" class="section_root__k1hUl"><h2 id="keys" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#keys" class="heading-text typography_permalink__UiIRy">Vectors.keys <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>A sequence of the keys in the table. In <code class="code_inline-code__Bq7ot">floret</code> mode, the keys table is not
used.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The keys. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Iterable<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-values" class="section_root__k1hUl"><h2 id="values" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#values" class="heading-text typography_permalink__UiIRy">Vectors.values <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Iterate over vectors that have been assigned to at least one key. Note that some
vectors may be unassigned, so the number of vectors returned may be less than
the length of the vectors table. In <code class="code_inline-code__Bq7ot">floret</code> mode, the keys table is not used.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>YIELDS</strong></td><td class="table_td__rmpJx">A vector in the table. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-items" class="section_root__k1hUl"><h2 id="items" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#items" class="heading-text typography_permalink__UiIRy">Vectors.items <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Iterate over <code class="code_inline-code__Bq7ot">(key, vector)</code> pairs, in order. In <code class="code_inline-code__Bq7ot">floret</code> mode, the keys table
is empty.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>YIELDS</strong></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">(key, vector)</code> pairs, in order. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-find" class="section_root__k1hUl"><h2 id="find" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#find" class="heading-text typography_permalink__UiIRy">Vectors.find <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Look up one or more keys by row, or vice versa. Not supported for <code class="code_inline-code__Bq7ot">floret</code> mode.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_divider__DRQHe"><td class="table_td__rmpJx"><em>keyword-only</em></td><td class="table_td__rmpJx"></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key</code></td><td class="table_td__rmpJx">Find the row that the given key points to. Returns int, <code class="code_inline-code__Bq7ot">-1</code> if missing. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">keys</code></td><td class="table_td__rmpJx">Find rows that the keys point to. Returns <code class="code_inline-code__Bq7ot">numpy.ndarray</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Iterable<span class="code_cli-arg-subtle__IgB5m">[</span>Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">row</code></td><td class="table_td__rmpJx">Find the first key that points to the row. Returns integer. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">rows</code></td><td class="table_td__rmpJx">Find the keys that point to the rows. Returns <code class="code_inline-code__Bq7ot">numpy.ndarray</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Iterable<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The requested key, keys, row or rows. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-shape" class="section_root__k1hUl"><h2 id="shape" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#shape" class="heading-text typography_permalink__UiIRy">Vectors.shape <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>Get <code class="code_inline-code__Bq7ot">(rows, dims)</code> tuples of number of rows and number of dimensions in the
vector table.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">A <code class="code_inline-code__Bq7ot">(rows, dims)</code> pair. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-size" class="section_root__k1hUl"><h2 id="size" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#size" class="heading-text typography_permalink__UiIRy">Vectors.size <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>The vector size, i.e. <code class="code_inline-code__Bq7ot">rows * dims</code>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The vector size. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr></tbody></table></section>
<section id="section-is_full" class="section_root__k1hUl"><h2 id="is_full" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#is_full" class="heading-text typography_permalink__UiIRy">Vectors.is_full <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>Whether the vectors table is full and has no slots are available for new keys.
If a table is full, it can be resized using
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#resize"><code class="code_inline-code__Bq7ot">Vectors.resize</code></a>. In <code class="code_inline-code__Bq7ot">floret</code> mode, the table is always
full and cannot be resized.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">Whether the vectors table is full. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr></tbody></table></section>
<section id="section-n_keys" class="section_root__k1hUl"><h2 id="n_keys" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#n_keys" class="heading-text typography_permalink__UiIRy">Vectors.n_keys <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>Get the number of keys in the table. Note that this is the number of <em>all</em> keys,
not just unique vectors. If several keys are mapped to the same vectors, they
will be counted individually. In <code class="code_inline-code__Bq7ot">floret</code> mode, the keys table is not used.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The number of all keys in the table. Returns <code class="code_inline-code__Bq7ot">-1</code> for floret vectors. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr></tbody></table></section>
<section id="section-most_similar" class="section_root__k1hUl"><h2 id="most_similar" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#most_similar" class="heading-text typography_permalink__UiIRy">Vectors.most_similar <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>For each of the given vectors, find the <code class="code_inline-code__Bq7ot">n</code> most similar entries to it by
cosine. Queries are by vector. Results are returned as a
<code class="code_inline-code__Bq7ot">(keys, best_rows, scores)</code> tuple. If <code class="code_inline-code__Bq7ot">queries</code> is large, the calculations are
performed in chunks to avoid consuming too much memory. You can set the
<code class="code_inline-code__Bq7ot">batch_size</code> to control the size/space trade-off during the calculations. Not
supported for <code class="code_inline-code__Bq7ot">floret</code> mode.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">queries</code></td><td class="table_td__rmpJx">An array with one or more vectors. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a></span></td></tr><tr class="table_tr__K_tkF table_divider__DRQHe"><td class="table_td__rmpJx"><em>keyword-only</em></td><td class="table_td__rmpJx"></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">batch_size</code></td><td class="table_td__rmpJx">The batch size to use. Default to <code class="code_inline-code__Bq7ot">1024</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">n</code></td><td class="table_td__rmpJx">The number of entries to return for each query. Defaults to <code class="code_inline-code__Bq7ot">1</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">sort</code></td><td class="table_td__rmpJx">Whether to sort the entries returned by score. Defaults to <code class="code_inline-code__Bq7ot">True</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The most similar entries as a <code class="code_inline-code__Bq7ot">(keys, best_rows, scores)</code> tuple. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-get_batch" class="section_root__k1hUl"><h2 id="get_batch" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#get_batch" class="heading-text typography_permalink__UiIRy">Vectors.get_batch <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span><span class="tag_root__NTSnK tag_spaced__Q9amH" data-tooltip="This feature is new and was introduced in spaCy v3.2">v<!-- -->3.2</span></h2><p>Get the vectors for the provided keys efficiently as a batch.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">keys</code></td><td class="table_td__rmpJx">The keys. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Iterable<span class="code_cli-arg-subtle__IgB5m">[</span>Union<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-to_ops" class="section_root__k1hUl"><h2 id="to_ops" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#to_ops" class="heading-text typography_permalink__UiIRy">Vectors.to_ops <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Change the embedding matrix to use different Thinc ops.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">ops</code></td><td class="table_td__rmpJx">The Thinc ops to switch the embedding matrix to. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-backends#ops">Ops</a></span></td></tr></tbody></table></section>
<section id="section-to_disk" class="section_root__k1hUl"><h2 id="to_disk" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#to_disk" class="heading-text typography_permalink__UiIRy">Vectors.to_disk <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Save the current state to a directory.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">path</code></td><td class="table_td__rmpJx">A path to a directory, which will be created if it doesnâ€™t exist. Paths may be either strings or <code class="code_inline-code__Bq7ot">Path</code>-like objects. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://docs.python.org/3/library/pathlib.html">Path</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-from_disk" class="section_root__k1hUl"><h2 id="from_disk" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#from_disk" class="heading-text typography_permalink__UiIRy">Vectors.from_disk <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Loads state from a directory. Modifies the object in place and returns it.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">path</code></td><td class="table_td__rmpJx">A path to a directory. Paths may be either strings or <code class="code_inline-code__Bq7ot">Path</code>-like objects. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://docs.python.org/3/library/pathlib.html">Path</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The modified <code class="code_inline-code__Bq7ot">Vectors</code> object. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/vectors">Vectors</a></span></td></tr></tbody></table></section>
<section id="section-to_bytes" class="section_root__k1hUl"><h2 id="to_bytes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#to_bytes" class="heading-text typography_permalink__UiIRy">Vectors.to_bytes <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Serialize the current state to a binary string.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The serialized form of the <code class="code_inline-code__Bq7ot">Vectors</code> object. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bytes</span></td></tr></tbody></table></section>
<section id="section-from_bytes" class="section_root__k1hUl"><h2 id="from_bytes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#from_bytes" class="heading-text typography_permalink__UiIRy">Vectors.from_bytes <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Load state from a binary string.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">data</code></td><td class="table_td__rmpJx">The data to load from. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bytes</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The <code class="code_inline-code__Bq7ot">Vectors</code> object. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/vectors">Vectors</a></span></td></tr></tbody></table></section>
<section id="section-attributes" class="section_root__k1hUl"><h2 id="attributes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#attributes" class="heading-text typography_permalink__UiIRy">Attributes <!-- --> </a></h2><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">data</code></td><td class="table_td__rmpJx">Stored vectors data. <code class="code_inline-code__Bq7ot">numpy</code> is used for CPU vectors, <code class="code_inline-code__Bq7ot">cupy</code> for GPU vectors. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> cupy.ndarray<span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key2row</code></td><td class="table_td__rmpJx">Dictionary mapping word hashes to rows in the <code class="code_inline-code__Bq7ot">Vectors.data</code> table. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Dict<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> int<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">keys</code></td><td class="table_td__rmpJx">Array keeping the keys in order, such that <code class="code_inline-code__Bq7ot code_wrap__b41os">keys[vectors.key2row[key]] == key</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a><span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> cupy.ndarray<span class="code_cli-arg-subtle__IgB5m">[</span>ndim=1<span class="code_cli-arg-subtle__IgB5m">,</span> dtype=float32<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/api/vectors.mdx">Suggest edits</a></div></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_green.92f07e1d.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>Â© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Vectors","teaser":"Store, save and load word vectors","tag":"class","source":"spacy/vectors.pyx","version":2,"slug":"/api/vectors","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    pre: \"pre\",\n    code: \"code\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    em: \"em\",\n    del: \"del\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {InlineCode, Tag} = _components;\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  if (!Tag) _missingMdxReference(\"Tag\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      children: [_jsxs(_components.p, {\n        children: [\"Vectors data is kept in the \", _jsx(InlineCode, {\n          children: \"Vectors.data\"\n        }), \" attribute, which should be an\\ninstance of \", _jsx(InlineCode, {\n          children: \"numpy.ndarray\"\n        }), \" (for CPU vectors) or \", _jsx(InlineCode, {\n          children: \"cupy.ndarray\"\n        }), \" (for GPU\\nvectors).\"]\n      }), _jsxs(_components.p, {\n        children: [\"As of spaCy v3.2, \", _jsx(InlineCode, {\n          children: \"Vectors\"\n        }), \" supports two types of vector tables:\"]\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [_jsx(InlineCode, {\n            children: \"default\"\n          }), \": A standard vector table (as in spaCy v3.1 and earlier) where each\\nkey is mapped to one row in the vector table. Multiple keys can be mapped to\\nthe same vector, and not all of the rows in the table need to be assigned â€“ so\\n\", _jsx(InlineCode, {\n            children: \"vectors.n_keys\"\n          }), \" may be greater or smaller than \", _jsx(InlineCode, {\n            children: \"vectors.shape[0]\"\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(InlineCode, {\n            children: \"floret\"\n          }), \": Only supports vectors trained with\\n\", _jsx(_components.a, {\n            href: \"https://github.com/explosion/floret\",\n            children: \"floret\"\n          }), \", an extended version of\\n\", _jsx(_components.a, {\n            href: \"https://fasttext.cc\",\n            children: \"fastText\"\n          }), \" that produces compact vector tables by\\ncombining fastTextâ€™s subword ngrams with Bloom embeddings. The compact tables\\nare similar to the \", _jsx(_components.a, {\n            href: \"https://thinc.ai/docs/api-layers#hashembed\",\n            children: _jsx(InlineCode, {\n              children: \"HashEmbed\"\n            })\n          }), \"\\nembeddings already used in many spaCy components. Each word is represented as\\nthe sum of one or more rows as determined by the settings related to character\\nngrams and the hash table.\"]\n        }), \"\\n\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-init\",\n      children: [_jsx(_components.h2, {\n        id: \"init\",\n        tag: \"method\",\n        children: \"Vectors.__init__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Create a new vector store. With the default mode, you can set the vector values\\nand keys directly on initialization, or supply a \", _jsx(InlineCode, {\n          children: \"shape\"\n        }), \" keyword argument to\\ncreate an empty table you can add vectors to later. In floret mode, the complete\\nvector data and settings must be provided on initialization and cannot be\\nmodified later.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from spacy.vectors import Vectors\\n\\nempty_vectors = Vectors(shape=(10000, 300))\\n\\ndata = numpy.zeros((3, 300), dtype='f')\\nkeys = [\\\"cat\\\", \\\"dog\\\", \\\"rat\\\"]\\nvectors = Vectors(data=data, keys=keys)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.em, {\n                children: \"keyword-only\"\n              })\n            }), _jsx(_components.td, {})]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"strings\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The string store. A new string store is created if one is not provided. Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[StringStore]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"shape\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Size of the table as \", _jsx(InlineCode, {\n                children: \"(n_entries, n_columns)\"\n              }), \", the number of entries and number of columns. Not required if youâ€™re initializing the object with \", _jsx(InlineCode, {\n                children: \"data\"\n              }), \" and \", _jsx(InlineCode, {\n                children: \"keys\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Tuple[int, int]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"data\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The vector data. \", _jsx(_components.del, {\n                children: \"numpy.ndarray[ndim=2, dtype=float32]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"keys\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A sequence of keys aligned with the data. \", _jsx(_components.del, {\n                children: \"Iterable[Union[str, int]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"name\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A name to identify the vectors table. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"mode\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"Vectors mode: \", _jsx(InlineCode, {\n                children: \"\\\"default\\\"\"\n              }), \" or \", _jsx(_components.a, {\n                href: \"https://github.com/explosion/floret\",\n                children: _jsx(InlineCode, {\n                  children: \"\\\"floret\\\"\"\n                })\n              }), \" (default: \", _jsx(InlineCode, {\n                children: \"\\\"default\\\"\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"minn\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The floret char ngram minn (default: \", _jsx(InlineCode, {\n                children: \"0\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"maxn\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The floret char ngram maxn (default: \", _jsx(InlineCode, {\n                children: \"0\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"hash_count\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The floret hash count. Supported values: 1â€”4 (default: \", _jsx(InlineCode, {\n                children: \"1\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"hash_seed\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The floret hash seed (default: \", _jsx(InlineCode, {\n                children: \"0\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"bow\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The floret BOW string (default: \", _jsx(InlineCode, {\n                children: \"\\\"\u003c\\\"\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"eow\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The floret EOW string (default: \", _jsx(InlineCode, {\n                children: \"\\\"\u003e\\\"\"\n              }), \"). \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-getitem\",\n      children: [_jsx(_components.h2, {\n        id: \"getitem\",\n        tag: \"method\",\n        children: \"Vectors.__getitem__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Get a vector by key. If the key is not found in the table, a \", _jsx(InlineCode, {\n          children: \"KeyError\"\n        }), \" is\\nraised.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"cat_id = nlp.vocab.strings[\\\"cat\\\"]\\ncat_vector = nlp.vocab.vectors[cat_id]\\nassert cat_vector == nlp.vocab[\\\"cat\\\"].vector\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The key to get the vector for. \", _jsx(_components.del, {\n                children: \"Union[int, str]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The vector for the key. \", _jsx(_components.del, {\n                children: \"numpy.ndarray[ndim=1, dtype=float32]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-setitem\",\n      children: [_jsx(_components.h2, {\n        id: \"setitem\",\n        tag: \"method\",\n        children: \"Vectors.__setitem__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Set a vector for the given key. Not supported for \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"cat_id = nlp.vocab.strings[\\\"cat\\\"]\\nvector = numpy.random.uniform(-1, 1, (300,))\\nnlp.vocab.vectors[cat_id] = vector\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The key to set the vector for. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"vector\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The vector to set. \", _jsx(_components.del, {\n                children: \"numpy.ndarray[ndim=1, dtype=float32]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-iter\",\n      children: [_jsx(_components.h2, {\n        id: \"iter\",\n        tag: \"method\",\n        children: \"Vectors.__iter__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Iterate over the keys in the table. In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode, the keys table is not\\nused.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"for key in nlp.vocab.vectors:\\n   print(key, nlp.vocab.strings[key])\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"YIELDS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A key in the table. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-len\",\n      children: [_jsx(_components.h2, {\n        id: \"len\",\n        tag: \"method\",\n        children: \"Vectors.__len__ \"\n      }), _jsx(_components.p, {\n        children: \"Return the number of vectors in the table.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors = Vectors(shape=(3, 300))\\nassert len(vectors) == 3\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The number of vectors in the table. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-contains\",\n      children: [_jsx(_components.h2, {\n        id: \"contains\",\n        tag: \"method\",\n        children: \"Vectors.__contains__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Check whether a key has been mapped to a vector entry in the table. In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \"\\nmode, returns \", _jsx(InlineCode, {\n          children: \"True\"\n        }), \" for all keys.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"cat_id = nlp.vocab.strings[\\\"cat\\\"]\\nnlp.vocab.vectors.add(cat_id, numpy.random.uniform(-1, 1, (300,)))\\nassert cat_id in vectors\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The key to check. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether the key has a vector entry. \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-add\",\n      children: [_jsx(_components.h2, {\n        id: \"add\",\n        tag: \"method\",\n        children: \"Vectors.add \"\n      }), _jsxs(_components.p, {\n        children: [\"Add a key to the table, optionally setting a vector value as well. Keys can be\\nmapped to an existing vector by setting \", _jsx(InlineCode, {\n          children: \"row\"\n        }), \", or a new vector can be added. Not\\nsupported for \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vector = numpy.random.uniform(-1, 1, (300,))\\ncat_id = nlp.vocab.strings[\\\"cat\\\"]\\nnlp.vocab.vectors.add(cat_id, vector=vector)\\nnlp.vocab.vectors.add(\\\"dog\\\", row=0)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The key to add. \", _jsx(_components.del, {\n                children: \"Union[str, int]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.em, {\n                children: \"keyword-only\"\n              })\n            }), _jsx(_components.td, {})]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"vector\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional vector to add for the key. \", _jsx(_components.del, {\n                children: \"numpy.ndarray[ndim=1, dtype=float32]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"row\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional row number of a vector to map the key to. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The row the vector was added to. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-resize\",\n      children: [_jsx(_components.h2, {\n        id: \"resize\",\n        tag: \"method\",\n        children: \"Vectors.resize \"\n      }), _jsxs(_components.p, {\n        children: [\"Resize the underlying vectors array. If \", _jsx(InlineCode, {\n          children: \"inplace=True\"\n        }), \", the memory is\\nreallocated. This may cause other references to the data to become invalid, so\\nonly use \", _jsx(InlineCode, {\n          children: \"inplace=True\"\n        }), \" if youâ€™re sure thatâ€™s what you want. If the number of\\nvectors is reduced, keys mapped to rows that have been deleted are removed.\\nThese removed items are returned as a list of \", _jsx(InlineCode, {\n          children: \"(key, row)\"\n        }), \" tuples. Not supported\\nfor \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"removed = nlp.vocab.vectors.resize((10000, 300))\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"shape\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A \", _jsx(InlineCode, {\n                children: \"(rows, dims)\"\n              }), \" tuple describing the number of rows and dimensions. \", _jsx(_components.del, {\n                children: \"Tuple[int, int]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"inplace\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Reallocate the memory. \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The removed items as a list of \", _jsx(InlineCode, {\n                children: \"(key, row)\"\n              }), \" tuples. \", _jsx(_components.del, {\n                children: \"List[Tuple[int, int]]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-keys\",\n      children: [_jsx(_components.h2, {\n        id: \"keys\",\n        tag: \"method\",\n        children: \"Vectors.keys \"\n      }), _jsxs(_components.p, {\n        children: [\"A sequence of the keys in the table. In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode, the keys table is not\\nused.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"for key in nlp.vocab.vectors.keys():\\n    print(key, nlp.vocab.strings[key])\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The keys. \", _jsx(_components.del, {\n                children: \"Iterable[int]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-values\",\n      children: [_jsx(_components.h2, {\n        id: \"values\",\n        tag: \"method\",\n        children: \"Vectors.values \"\n      }), _jsxs(_components.p, {\n        children: [\"Iterate over vectors that have been assigned to at least one key. Note that some\\nvectors may be unassigned, so the number of vectors returned may be less than\\nthe length of the vectors table. In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode, the keys table is not used.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"for vector in nlp.vocab.vectors.values():\\n    print(vector)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"YIELDS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A vector in the table. \", _jsx(_components.del, {\n                children: \"numpy.ndarray[ndim=1, dtype=float32]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-items\",\n      children: [_jsx(_components.h2, {\n        id: \"items\",\n        tag: \"method\",\n        children: \"Vectors.items \"\n      }), _jsxs(_components.p, {\n        children: [\"Iterate over \", _jsx(InlineCode, {\n          children: \"(key, vector)\"\n        }), \" pairs, in order. In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode, the keys table\\nis empty.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"for key, vector in nlp.vocab.vectors.items():\\n   print(key, nlp.vocab.strings[key], vector)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"YIELDS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"(key, vector)\"\n              }), \" pairs, in order. \", _jsx(_components.del, {\n                children: \"Tuple[int, numpy.ndarray[ndim=1, dtype=float32]]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-find\",\n      children: [_jsx(_components.h2, {\n        id: \"find\",\n        tag: \"method\",\n        children: \"Vectors.find \"\n      }), _jsxs(_components.p, {\n        children: [\"Look up one or more keys by row, or vice versa. Not supported for \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"row = nlp.vocab.vectors.find(key=\\\"cat\\\")\\nrows = nlp.vocab.vectors.find(keys=[\\\"cat\\\", \\\"dog\\\"])\\nkey = nlp.vocab.vectors.find(row=256)\\nkeys = nlp.vocab.vectors.find(rows=[18, 256, 985])\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.em, {\n                children: \"keyword-only\"\n              })\n            }), _jsx(_components.td, {})]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Find the row that the given key points to. Returns int, \", _jsx(InlineCode, {\n                children: \"-1\"\n              }), \" if missing. \", _jsx(_components.del, {\n                children: \"Union[str, int]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"keys\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Find rows that the keys point to. Returns \", _jsx(InlineCode, {\n                children: \"numpy.ndarray\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Iterable[Union[str, int]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"row\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Find the first key that points to the row. Returns integer. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"rows\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Find the keys that point to the rows. Returns \", _jsx(InlineCode, {\n                children: \"numpy.ndarray\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Iterable[int]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The requested key, keys, row or rows. \", _jsx(_components.del, {\n                children: \"Union[int, numpy.ndarray[ndim=1, dtype=float32]]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-shape\",\n      children: [_jsx(_components.h2, {\n        id: \"shape\",\n        tag: \"property\",\n        children: \"Vectors.shape \"\n      }), _jsxs(_components.p, {\n        children: [\"Get \", _jsx(InlineCode, {\n          children: \"(rows, dims)\"\n        }), \" tuples of number of rows and number of dimensions in the\\nvector table.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors = Vectors(shape(1, 300))\\nvectors.add(\\\"cat\\\", numpy.random.uniform(-1, 1, (300,)))\\nrows, dims = vectors.shape\\nassert rows == 1\\nassert dims == 300\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A \", _jsx(InlineCode, {\n                children: \"(rows, dims)\"\n              }), \" pair. \", _jsx(_components.del, {\n                children: \"Tuple[int, int]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-size\",\n      children: [_jsx(_components.h2, {\n        id: \"size\",\n        tag: \"property\",\n        children: \"Vectors.size \"\n      }), _jsxs(_components.p, {\n        children: [\"The vector size, i.e. \", _jsx(InlineCode, {\n          children: \"rows * dims\"\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors = Vectors(shape=(500, 300))\\nassert vectors.size == 150000\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The vector size. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-is_full\",\n      children: [_jsx(_components.h2, {\n        id: \"is_full\",\n        tag: \"property\",\n        children: \"Vectors.is_full \"\n      }), _jsxs(_components.p, {\n        children: [\"Whether the vectors table is full and has no slots are available for new keys.\\nIf a table is full, it can be resized using\\n\", _jsx(_components.a, {\n          href: \"/api/vectors#resize\",\n          children: _jsx(InlineCode, {\n            children: \"Vectors.resize\"\n          })\n        }), \". In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode, the table is always\\nfull and cannot be resized.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors = Vectors(shape=(1, 300))\\nvectors.add(\\\"cat\\\", numpy.random.uniform(-1, 1, (300,)))\\nassert vectors.is_full\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether the vectors table is full. \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-n_keys\",\n      children: [_jsx(_components.h2, {\n        id: \"n_keys\",\n        tag: \"property\",\n        children: \"Vectors.n_keys \"\n      }), _jsxs(_components.p, {\n        children: [\"Get the number of keys in the table. Note that this is the number of \", _jsx(_components.em, {\n          children: \"all\"\n        }), \" keys,\\nnot just unique vectors. If several keys are mapped to the same vectors, they\\nwill be counted individually. In \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode, the keys table is not used.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors = Vectors(shape=(10, 300))\\nassert len(vectors) == 10\\nassert vectors.n_keys == 0\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The number of all keys in the table. Returns \", _jsx(InlineCode, {\n                children: \"-1\"\n              }), \" for floret vectors. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-most_similar\",\n      children: [_jsx(_components.h2, {\n        id: \"most_similar\",\n        tag: \"method\",\n        children: \"Vectors.most_similar \"\n      }), _jsxs(_components.p, {\n        children: [\"For each of the given vectors, find the \", _jsx(InlineCode, {\n          children: \"n\"\n        }), \" most similar entries to it by\\ncosine. Queries are by vector. Results are returned as a\\n\", _jsx(InlineCode, {\n          children: \"(keys, best_rows, scores)\"\n        }), \" tuple. If \", _jsx(InlineCode, {\n          children: \"queries\"\n        }), \" is large, the calculations are\\nperformed in chunks to avoid consuming too much memory. You can set the\\n\", _jsx(InlineCode, {\n          children: \"batch_size\"\n        }), \" to control the size/space trade-off during the calculations. Not\\nsupported for \", _jsx(InlineCode, {\n          children: \"floret\"\n        }), \" mode.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"queries = numpy.asarray([numpy.random.uniform(-1, 1, (300,))])\\nmost_similar = nlp.vocab.vectors.most_similar(queries, n=10)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"queries\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An array with one or more vectors. \", _jsx(_components.del, {\n                children: \"numpy.ndarray\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.em, {\n                children: \"keyword-only\"\n              })\n            }), _jsx(_components.td, {})]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"batch_size\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The batch size to use. Default to \", _jsx(InlineCode, {\n                children: \"1024\"\n              }), \". \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"n\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The number of entries to return for each query. Defaults to \", _jsx(InlineCode, {\n                children: \"1\"\n              }), \". \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"sort\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether to sort the entries returned by score. Defaults to \", _jsx(InlineCode, {\n                children: \"True\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The most similar entries as a \", _jsx(InlineCode, {\n                children: \"(keys, best_rows, scores)\"\n              }), \" tuple. \", _jsx(_components.del, {\n                children: \"Tuple[numpy.ndarray, numpy.ndarray, numpy.ndarray]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-get_batch\",\n      children: [_jsx(_components.h2, {\n        id: \"get_batch\",\n        tag: \"method\",\n        version: \"3.2\",\n        children: \"Vectors.get_batch \"\n      }), _jsx(_components.p, {\n        children: \"Get the vectors for the provided keys efficiently as a batch.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"words = [\\\"cat\\\", \\\"dog\\\"]\\nvectors = nlp.vocab.vectors.get_batch(words)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"keys\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The keys. \", _jsx(_components.del, {\n                children: \"Iterable[Union[int, str]]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-to_ops\",\n      children: [_jsx(_components.h2, {\n        id: \"to_ops\",\n        tag: \"method\",\n        children: \"Vectors.to_ops \"\n      }), _jsx(_components.p, {\n        children: \"Change the embedding matrix to use different Thinc ops.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from thinc.api import NumpyOps\\n\\nvectors.to_ops(NumpyOps())\\n\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"ops\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The Thinc ops to switch the embedding matrix to. \", _jsx(_components.del, {\n                children: \"Ops\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-to_disk\",\n      children: [_jsx(_components.h2, {\n        id: \"to_disk\",\n        tag: \"method\",\n        children: \"Vectors.to_disk \"\n      }), _jsx(_components.p, {\n        children: \"Save the current state to a directory.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors.to_disk(\\\"/path/to/vectors\\\")\\n\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"path\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A path to a directory, which will be created if it doesnâ€™t exist. Paths may be either strings or \", _jsx(InlineCode, {\n                children: \"Path\"\n              }), \"-like objects. \", _jsx(_components.del, {\n                children: \"Union[str, Path]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-from_disk\",\n      children: [_jsx(_components.h2, {\n        id: \"from_disk\",\n        tag: \"method\",\n        children: \"Vectors.from_disk \"\n      }), _jsx(_components.p, {\n        children: \"Loads state from a directory. Modifies the object in place and returns it.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors = Vectors(StringStore())\\nvectors.from_disk(\\\"/path/to/vectors\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"path\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A path to a directory. Paths may be either strings or \", _jsx(InlineCode, {\n                children: \"Path\"\n              }), \"-like objects. \", _jsx(_components.del, {\n                children: \"Union[str, Path]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The modified \", _jsx(InlineCode, {\n                children: \"Vectors\"\n              }), \" object. \", _jsx(_components.del, {\n                children: \"Vectors\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-to_bytes\",\n      children: [_jsx(_components.h2, {\n        id: \"to_bytes\",\n        tag: \"method\",\n        children: \"Vectors.to_bytes \"\n      }), _jsx(_components.p, {\n        children: \"Serialize the current state to a binary string.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"vectors_bytes = vectors.to_bytes()\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The serialized form of the \", _jsx(InlineCode, {\n                children: \"Vectors\"\n              }), \" object. \", _jsx(_components.del, {\n                children: \"bytes\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-from_bytes\",\n      children: [_jsx(_components.h2, {\n        id: \"from_bytes\",\n        tag: \"method\",\n        children: \"Vectors.from_bytes \"\n      }), _jsx(_components.p, {\n        children: \"Load state from a binary string.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"fron spacy.vectors import Vectors\\nvectors_bytes = vectors.to_bytes()\\nnew_vectors = Vectors(StringStore())\\nnew_vectors.from_bytes(vectors_bytes)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"data\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The data to load from. \", _jsx(_components.del, {\n                children: \"bytes\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The \", _jsx(InlineCode, {\n                children: \"Vectors\"\n              }), \" object. \", _jsx(_components.del, {\n                children: \"Vectors\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-attributes\",\n      children: [_jsx(_components.h2, {\n        id: \"attributes\",\n        children: \"Attributes \"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"data\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Stored vectors data. \", _jsx(InlineCode, {\n                children: \"numpy\"\n              }), \" is used for CPU vectors, \", _jsx(InlineCode, {\n                children: \"cupy\"\n              }), \" for GPU vectors. \", _jsx(_components.del, {\n                children: \"Union[numpy.ndarray[ndim=1, dtype=float32], cupy.ndarray[ndim=1, dtype=float32]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key2row\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Dictionary mapping word hashes to rows in the \", _jsx(InlineCode, {\n                children: \"Vectors.data\"\n              }), \" table. \", _jsx(_components.del, {\n                children: \"Dict[int, int]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"keys\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Array keeping the keys in order, such that \", _jsx(InlineCode, {\n                children: \"keys[vectors.key2row[key]] == key\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Union[numpy.ndarray[ndim=1, dtype=float32], cupy.ndarray[ndim=1, dtype=float32]]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"Vectors","teaser":"Store, save and load word vectors","tag":"class","source":"spacy/vectors.pyx","version":2},"scope":{}},"sectionTitle":"API Documentation","theme":"green","section":"api","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":null},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["api","vectors"]},"buildId":"2lY2cUyEfZosk4VLgkHb2","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>