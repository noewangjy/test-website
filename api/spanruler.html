<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>SpanRuler Â· spaCy API Documentation</title><meta name="description" content="Pipeline component for rule-based span and named entity recognition"/><meta property="og:title" content="SpanRuler Â· spaCy API Documentation"/><meta property="og:description" content="Pipeline component for rule-based span and named entity recognition"/><meta property="og:type" content="website"/><meta property="og:site_name" content="SpanRuler"/><meta property="og:image" content="[object Object]"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="[object Object]"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="SpanRuler Â· spaCy API Documentation"/><meta name="twitter:description" content="Pipeline component for rule-based span and named entity recognition"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-eb3ea1261af64e73.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/Ugre-usgT1EZhnSeYcBR9/_buildManifest.js" defer=""></script><script src="/_next/static/Ugre-usgT1EZhnSeYcBR9/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-green"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>ðŸ’¥ Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage">Usage</option><option value="/models">Models</option><option value="/api" selected="">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Pipeline</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/api">Overview<!-- --> â€º <!-- -->Library Architecture</option><option value="/api/architectures">Overview<!-- --> â€º <!-- -->Model Architectures</option><option value="/api/data-formats">Overview<!-- --> â€º <!-- -->Data Formats</option><option value="/api/cli">Overview<!-- --> â€º <!-- -->Command Line</option><option value="/api/top-level">Overview<!-- --> â€º <!-- -->Functions</option><option value="/api/doc">Containers<!-- --> â€º <!-- -->Doc</option><option value="/api/docbin">Containers<!-- --> â€º <!-- -->DocBin</option><option value="/api/example">Containers<!-- --> â€º <!-- -->Example</option><option value="/api/language">Containers<!-- --> â€º <!-- -->Language</option><option value="/api/lexeme">Containers<!-- --> â€º <!-- -->Lexeme</option><option value="/api/span">Containers<!-- --> â€º <!-- -->Span</option><option value="/api/spangroup">Containers<!-- --> â€º <!-- -->SpanGroup</option><option value="/api/token">Containers<!-- --> â€º <!-- -->Token</option><option value="/api/attributeruler">Pipeline<!-- --> â€º <!-- -->AttributeRuler</option><option value="/api/coref">Pipeline<!-- --> â€º <!-- -->CoreferenceResolver</option><option value="/api/dependencyparser">Pipeline<!-- --> â€º <!-- -->DependencyParser</option><option value="/api/edittreelemmatizer">Pipeline<!-- --> â€º <!-- -->EditTreeLemmatizer</option><option value="/api/entitylinker">Pipeline<!-- --> â€º <!-- -->EntityLinker</option><option value="/api/entityrecognizer">Pipeline<!-- --> â€º <!-- -->EntityRecognizer</option><option value="/api/entityruler">Pipeline<!-- --> â€º <!-- -->EntityRuler</option><option value="/api/lemmatizer">Pipeline<!-- --> â€º <!-- -->Lemmatizer</option><option value="/api/morphologizer">Pipeline<!-- --> â€º <!-- -->Morphologizer</option><option value="/api/sentencerecognizer">Pipeline<!-- --> â€º <!-- -->SentenceRecognizer</option><option value="/api/sentencizer">Pipeline<!-- --> â€º <!-- -->Sentencizer</option><option value="/api/spancategorizer">Pipeline<!-- --> â€º <!-- -->SpanCategorizer</option><option value="/api/span-resolver">Pipeline<!-- --> â€º <!-- -->SpanResolver</option><option value="/api/spanruler" selected="">Pipeline<!-- --> â€º <!-- -->SpanRuler</option><option value="/api/tagger">Pipeline<!-- --> â€º <!-- -->Tagger</option><option value="/api/textcategorizer">Pipeline<!-- --> â€º <!-- -->TextCategorizer</option><option value="/api/tok2vec">Pipeline<!-- --> â€º <!-- -->Tok2Vec</option><option value="/api/tokenizer">Pipeline<!-- --> â€º <!-- -->Tokenizer</option><option value="/api/pipe">Pipeline<!-- --> â€º <!-- -->TrainablePipe</option><option value="/api/transformer">Pipeline<!-- --> â€º <!-- -->Transformer</option><option value="/api/pipeline-functions">Pipeline<!-- --> â€º <!-- -->Other Functions</option><option value="/api/dependencymatcher">Matchers<!-- --> â€º <!-- -->DependencyMatcher</option><option value="/api/matcher">Matchers<!-- --> â€º <!-- -->Matcher</option><option value="/api/phrasematcher">Matchers<!-- --> â€º <!-- -->PhraseMatcher</option><option value="/api/attributes">Other<!-- --> â€º <!-- -->Attributes</option><option value="/api/corpus">Other<!-- --> â€º <!-- -->Corpus</option><option value="/api/inmemorylookupkb">Other<!-- --> â€º <!-- -->InMemoryLookupKB</option><option value="/api/kb">Other<!-- --> â€º <!-- -->KnowledgeBase</option><option value="/api/lookups">Other<!-- --> â€º <!-- -->Lookups</option><option value="/api/morphology#morphanalysis">Other<!-- --> â€º <!-- -->MorphAnalysis</option><option value="/api/morphology">Other<!-- --> â€º <!-- -->Morphology</option><option value="/api/scorer">Other<!-- --> â€º <!-- -->Scorer</option><option value="/api/stringstore">Other<!-- --> â€º <!-- -->StringStore</option><option value="/api/vectors">Other<!-- --> â€º <!-- -->Vectors</option><option value="/api/vocab">Other<!-- --> â€º <!-- -->Vocab</option><option value="/api/cython">Cython<!-- --> â€º <!-- -->Architecture</option><option value="/api/cython-classes">Cython<!-- --> â€º <!-- -->Classes</option><option value="/api/cython-structs">Cython<!-- --> â€º <!-- -->Structs</option><option value="/api/legacy">Legacy<!-- --> â€º <!-- -->Legacy functions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Overview</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api">Library Architecture</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/architectures">Model Architectures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/data-formats">Data Formats</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cli">Command Line</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/top-level">Functions</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Containers</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/doc">Doc</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/docbin">DocBin</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/example">Example</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/language">Language</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lexeme">Lexeme</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/span">Span</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spangroup">SpanGroup</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/token">Token</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Pipeline</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/attributeruler">AttributeRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/coref">CoreferenceResolver</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/dependencyparser">DependencyParser</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/edittreelemmatizer">EditTreeLemmatizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entitylinker">EntityLinker</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entityrecognizer">EntityRecognizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entityruler">EntityRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lemmatizer">Lemmatizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphologizer">Morphologizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/sentencerecognizer">SentenceRecognizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/sentencizer">Sentencizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spancategorizer">SpanCategorizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/span-resolver">SpanResolver</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/api/spanruler">SpanRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tagger">Tagger</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/textcategorizer">TextCategorizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tok2vec">Tok2Vec</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tokenizer">Tokenizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/pipe">TrainablePipe</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/transformer">Transformer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/pipeline-functions">Other Functions</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Matchers</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/dependencymatcher">DependencyMatcher</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/matcher">Matcher</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/phrasematcher">PhraseMatcher</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Other</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/attributes">Attributes</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/corpus">Corpus</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/inmemorylookupkb">InMemoryLookupKB</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/kb">KnowledgeBase</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lookups">Lookups</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphology#morphanalysis">MorphAnalysis</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphology">Morphology</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/scorer">Scorer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/stringstore">StringStore</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/vectors">Vectors</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/vocab">Vocab</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Cython</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython">Architecture</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython-classes">Classes</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython-structs">Structs</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Legacy</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/legacy">Legacy functions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><div class="title_corner__S0Hac"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/pipeline/span_ruler.py">Source</a></div><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">SpanRuler<!-- --> </span></h1><div class="title_tags__PljaK"><span class="tag_root__NTSnK tag_spaced__Q9amH">class</span><span class="tag_root__NTSnK tag_spaced__Q9amH" data-tooltip="This feature is new and was introduced in spaCy v3.3">v<!-- -->3.3</span></div><div class="typography_inline-list__B7N9X title_teaser__QhwCH"><span><span class="typography_label__l_oVJ title_label__r2BOW">String name<!-- -->:</span><code class="code_inline-code__Bq7ot">span_ruler</code></span><span><span class="typography_label__l_oVJ title_label__r2BOW">Trainable<!-- -->:</span><span aria-label="no"></span></span></div><div class="heading-teaser title_teaser__QhwCH">Pipeline component for rule-based span and named entity recognition</div></header><section class="section_root__k1hUl"><p>The span ruler lets you add spans to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#spans"><code class="code_inline-code__Bq7ot">Doc.spans</code></a> and/or
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#ents"><code class="code_inline-code__Bq7ot">Doc.ents</code></a> using token-based rules or exact phrase matches. For
usage examples, see the docs on
<a class="link_root__1Me7D" href="/usage/rule-based-matching#spanruler">rule-based span matching</a>.</p></section>
<section id="section-assigned-attributes" class="section_root__k1hUl"><h2 id="assigned-attributes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#assigned-attributes" class="heading-text typography_permalink__UiIRy">Assigned Attributes <!-- --> </a></h2><p>Matches will be saved to <code class="code_inline-code__Bq7ot">Doc.spans[spans_key]</code> as a
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/spangroup"><code class="code_inline-code__Bq7ot">SpanGroup</code></a> and/or to <code class="code_inline-code__Bq7ot">Doc.ents</code>, where the annotation is
saved in the <code class="code_inline-code__Bq7ot">Token.ent_type</code> and <code class="code_inline-code__Bq7ot">Token.ent_iob</code> fields.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Location</th><th class="table_th__QJ9F8">Value</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Doc.spans[spans_key]</code></td><td class="table_td__rmpJx">The annotated spans. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/spangroup">SpanGroup</a></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Doc.ents</code></td><td class="table_td__rmpJx">The annotated spans. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Token.ent_iob</code></td><td class="table_td__rmpJx">An enum encoding of the IOB part of the named entity tag. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Token.ent_iob_</code></td><td class="table_td__rmpJx">The IOB part of the named entity tag. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Token.ent_type</code></td><td class="table_td__rmpJx">The label part of the named entity tag (hash). <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Token.ent_type_</code></td><td class="table_td__rmpJx">The label part of the named entity tag. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr></tbody></table></section>
<section id="section-config" class="section_root__k1hUl"><h2 id="config" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#config" class="heading-text typography_permalink__UiIRy">Config and implementation <!-- --> </a></h2><p>The default config is defined by the pipeline component factory and describes
how the component should be configured. You can override its settings via the
<code class="code_inline-code__Bq7ot">config</code> argument on <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a> or in your
<a class="link_root__1Me7D" href="/usage/training#config"><code class="code_inline-code__Bq7ot">config.cfg</code></a>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Setting</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spans_key</code></td><td class="table_td__rmpJx">The spans key to save the spans under. If <code class="code_inline-code__Bq7ot">None</code>, no spans are saved. Defaults to <code class="code_inline-code__Bq7ot">&quot;ruler&quot;</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spans_filter</code></td><td class="table_td__rmpJx">The optional method to filter spans before they are assigned to doc.spans. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Callable<span class="code_cli-arg-subtle__IgB5m">[</span><span class="code_cli-arg-subtle__IgB5m">[</span>Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> List<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">annotate_ents</code></td><td class="table_td__rmpJx">Whether to save spans to doc.ents. Defaults to <code class="code_inline-code__Bq7ot">False</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">ents_filter</code></td><td class="table_td__rmpJx">The method to filter spans before they are assigned to doc.ents. Defaults to <code class="code_inline-code__Bq7ot">util.filter_chain_spans</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Callable<span class="code_cli-arg-subtle__IgB5m">[</span><span class="code_cli-arg-subtle__IgB5m">[</span>Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> List<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">phrase_matcher_attr</code></td><td class="table_td__rmpJx">Token attribute to match on, passed to the internal <code class="code_inline-code__Bq7ot">PhraseMatcher</code> as <code class="code_inline-code__Bq7ot">attr</code>. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Union<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">matcher_fuzzy_compare</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.5">v<!-- -->3.5</span></td><td class="table_td__rmpJx">The fuzzy comparison method, passed on to the internal <code class="code_inline-code__Bq7ot">Matcher</code>. Defaults to <code class="code_inline-code__Bq7ot code_wrap__b41os">spacy.matcher.levenshtein.levenshtein_compare</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Callable</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">validate</code></td><td class="table_td__rmpJx">Whether patterns should be validated, passed to <code class="code_inline-code__Bq7ot">Matcher</code> and <code class="code_inline-code__Bq7ot">PhraseMatcher</code> as <code class="code_inline-code__Bq7ot">validate</code>. Defaults to <code class="code_inline-code__Bq7ot">False</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">overwrite</code></td><td class="table_td__rmpJx">Whether to remove any existing spans under <code class="code_inline-code__Bq7ot">Doc.spans[spans key]</code> if <code class="code_inline-code__Bq7ot">spans_key</code> is set, or to remove any ents under <code class="code_inline-code__Bq7ot">Doc.ents</code> if <code class="code_inline-code__Bq7ot">annotate_ents</code> is set. Defaults to <code class="code_inline-code__Bq7ot">True</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">scorer</code></td><td class="table_td__rmpJx">The scoring method. Defaults to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/scorer#score_spans"><code class="code_inline-code__Bq7ot">Scorer.score_spans</code></a> for <code class="code_inline-code__Bq7ot">Doc.spans[spans_key]</code> with overlapping spans allowed. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Callable<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table><pre class="code_pre__kzg60"><header class="code_header__Jc0Q1"><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/pipeline/span_ruler.py"><code class="code_inline-code__Bq7ot code_inline-code-dark__ZEbch">explosion/spaCy/master/spacy/pipeline/span_ruler.py</code></a></header><code class="code_code__CILJL code_code__CILJL code_max-height__093k6 code_code__CILJL language-python language-python code_max-height__093k6 language-python"></code></pre></section>
<section id="section-init" class="section_root__k1hUl"><h2 id="init" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#init" class="heading-text typography_permalink__UiIRy">SpanRuler.__init__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Initialize the span ruler. If patterns are supplied here, they need to be a list
of dictionaries with a <code class="code_inline-code__Bq7ot">&quot;label&quot;</code> and <code class="code_inline-code__Bq7ot">&quot;pattern&quot;</code> key. A pattern can either be a
token pattern (list) or a phrase pattern (string). For example:
<code class="code_inline-code__Bq7ot code_wrap__b41os">{&quot;label&quot;: &quot;ORG&quot;, &quot;pattern&quot;: &quot;Apple&quot;}</code>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">nlp</code></td><td class="table_td__rmpJx">The shared nlp object to pass the vocab to the matchers and process phrase patterns. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/language">Language</a></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">name</code></td><td class="table_td__rmpJx">Instance name of the current pipeline component. Typically passed in automatically from the factory when the component is added. Used to disable the current span ruler while creating phrase patterns with the nlp object. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF table_divider__DRQHe"><td class="table_td__rmpJx"><em>keyword-only</em></td><td class="table_td__rmpJx"></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spans_key</code></td><td class="table_td__rmpJx">The spans key to save the spans under. If <code class="code_inline-code__Bq7ot">None</code>, no spans are saved. Defaults to <code class="code_inline-code__Bq7ot">&quot;ruler&quot;</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spans_filter</code></td><td class="table_td__rmpJx">The optional method to filter spans before they are assigned to doc.spans. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Callable<span class="code_cli-arg-subtle__IgB5m">[</span><span class="code_cli-arg-subtle__IgB5m">[</span>Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> List<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">annotate_ents</code></td><td class="table_td__rmpJx">Whether to save spans to doc.ents. Defaults to <code class="code_inline-code__Bq7ot">False</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">ents_filter</code></td><td class="table_td__rmpJx">The method to filter spans before they are assigned to doc.ents. Defaults to <code class="code_inline-code__Bq7ot">util.filter_chain_spans</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Callable<span class="code_cli-arg-subtle__IgB5m">[</span><span class="code_cli-arg-subtle__IgB5m">[</span>Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> List<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/span">Span</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">phrase_matcher_attr</code></td><td class="table_td__rmpJx">Token attribute to match on, passed to the internal PhraseMatcher as <code class="code_inline-code__Bq7ot">attr</code>. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Union<span class="code_cli-arg-subtle__IgB5m">[</span>int<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">matcher_fuzzy_compare</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.5">v<!-- -->3.5</span></td><td class="table_td__rmpJx">The fuzzy comparison method, passed on to the internal <code class="code_inline-code__Bq7ot">Matcher</code>. Defaults to <code class="code_inline-code__Bq7ot code_wrap__b41os">spacy.matcher.levenshtein.levenshtein_compare</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Callable</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">validate</code></td><td class="table_td__rmpJx">Whether patterns should be validated, passed to Matcher and PhraseMatcher as <code class="code_inline-code__Bq7ot">validate</code>. Defaults to <code class="code_inline-code__Bq7ot">False</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">overwrite</code></td><td class="table_td__rmpJx">Whether to remove any existing spans under <code class="code_inline-code__Bq7ot">Doc.spans[spans key]</code> if <code class="code_inline-code__Bq7ot">spans_key</code> is set, or to remove any ents under <code class="code_inline-code__Bq7ot">Doc.ents</code> if <code class="code_inline-code__Bq7ot">annotate_ents</code> is set. Defaults to <code class="code_inline-code__Bq7ot">True</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">scorer</code></td><td class="table_td__rmpJx">The scoring method. Defaults to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/scorer#score_spans"><code class="code_inline-code__Bq7ot">Scorer.score_spans</code></a> for <code class="code_inline-code__Bq7ot">Doc.spans[spans_key]</code> with overlapping spans allowed. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Callable<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-initialize" class="section_root__k1hUl"><h2 id="initialize" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#initialize" class="heading-text typography_permalink__UiIRy">SpanRuler.initialize <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Initialize the component with data and used before training to load in rules
from a <a class="link_root__1Me7D" href="/usage/rule-based-matching#spanruler-files">pattern file</a>. This method
is typically called by <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#initialize"><code class="code_inline-code__Bq7ot">Language.initialize</code></a> and
lets you customize arguments it receives via the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#config-initialize"><code class="code_inline-code__Bq7ot">[initialize.components]</code></a> block in the
config. Any existing patterns are removed on initialization.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
<pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">config.cfg</h4><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">get_examples</code></td><td class="table_td__rmpJx">Function that returns gold-standard annotations in the form of <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example"><code class="code_inline-code__Bq7ot">Example</code></a> objects. Not used by the <code class="code_inline-code__Bq7ot">SpanRuler</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Callable<span class="code_cli-arg-subtle__IgB5m">[</span><span class="code_cli-arg-subtle__IgB5m">[</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">,</span> Iterable<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/example">Example</a><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF table_divider__DRQHe"><td class="table_td__rmpJx"><em>keyword-only</em></td><td class="table_td__rmpJx"></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">nlp</code></td><td class="table_td__rmpJx">The current <code class="code_inline-code__Bq7ot">nlp</code> object. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span><a class="link_root__1Me7D" href="/api/language">Language</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">patterns</code></td><td class="table_td__rmpJx">The list of patterns. Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Sequence<span class="code_cli-arg-subtle__IgB5m">[</span>Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> List<span class="code_cli-arg-subtle__IgB5m">[</span>Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> Any<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-len" class="section_root__k1hUl"><h2 id="len" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#len" class="heading-text typography_permalink__UiIRy">SpanRuler.__len__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>The number of all patterns added to the span ruler.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The number of patterns. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">int</span></td></tr></tbody></table></section>
<section id="section-contains" class="section_root__k1hUl"><h2 id="contains" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#contains" class="heading-text typography_permalink__UiIRy">SpanRuler.__contains__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Whether a label is present in the patterns.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">label</code></td><td class="table_td__rmpJx">The label to check. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">Whether the span ruler contains the label. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr></tbody></table></section>
<section id="section-call" class="section_root__k1hUl"><h2 id="call" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#call" class="heading-text typography_permalink__UiIRy">SpanRuler.__call__ <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Find matches in the <code class="code_inline-code__Bq7ot">Doc</code> and add them to <code class="code_inline-code__Bq7ot">doc.spans[span_key]</code> and/or
<code class="code_inline-code__Bq7ot">doc.ents</code>. Typically, this happens automatically after the component has been
added to the pipeline using <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a>. If the
span ruler was initialized with <code class="code_inline-code__Bq7ot">overwrite=True</code>, existing spans and entities
will be removed.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">doc</code></td><td class="table_td__rmpJx">The <code class="code_inline-code__Bq7ot">Doc</code> object to process, e.g. the <code class="code_inline-code__Bq7ot">Doc</code> in the pipeline. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/doc">Doc</a></span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The modified <code class="code_inline-code__Bq7ot">Doc</code> with added spans/entities. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/doc">Doc</a></span></td></tr></tbody></table></section>
<section id="section-add_patterns" class="section_root__k1hUl"><h2 id="add_patterns" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#add_patterns" class="heading-text typography_permalink__UiIRy">SpanRuler.add_patterns <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Add patterns to the span ruler. A pattern can either be a token pattern (list of
dicts) or a phrase pattern (string). For more details, see the usage guide on
<a class="link_root__1Me7D" href="/usage/rule-based-matching">rule-based matching</a>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">patterns</code></td><td class="table_td__rmpJx">The patterns to add. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">List<span class="code_cli-arg-subtle__IgB5m">[</span>Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> List<span class="code_cli-arg-subtle__IgB5m">[</span>dict<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-remove" class="section_root__k1hUl"><h2 id="remove" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#remove" class="heading-text typography_permalink__UiIRy">SpanRuler.remove <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Remove patterns by label from the span ruler. A <code class="code_inline-code__Bq7ot">ValueError</code> is raised if the
label does not exist in any patterns.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">label</code></td><td class="table_td__rmpJx">The label of the pattern rule. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr></tbody></table></section>
<section id="section-remove_by_id" class="section_root__k1hUl"><h2 id="remove_by_id" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#remove_by_id" class="heading-text typography_permalink__UiIRy">SpanRuler.remove_by_id <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Remove patterns by ID from the span ruler. A <code class="code_inline-code__Bq7ot">ValueError</code> is raised if the ID
does not exist in any patterns.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">pattern_id</code></td><td class="table_td__rmpJx">The ID of the pattern rule. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr></tbody></table></section>
<section id="section-clear" class="section_root__k1hUl"><h2 id="clear" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#clear" class="heading-text typography_permalink__UiIRy">SpanRuler.clear <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Remove all patterns the span ruler.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside></section>
<section id="section-to_disk" class="section_root__k1hUl"><h2 id="to_disk" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#to_disk" class="heading-text typography_permalink__UiIRy">SpanRuler.to_disk <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Save the span ruler patterns to a directory. The patterns will be saved as
newline-delimited JSON (JSONL).</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">path</code></td><td class="table_td__rmpJx">A path to a directory, which will be created if it doesnâ€™t exist. Paths may be either strings or <code class="code_inline-code__Bq7ot">Path</code>-like objects. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://docs.python.org/3/library/pathlib.html">Path</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-from_disk" class="section_root__k1hUl"><h2 id="from_disk" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#from_disk" class="heading-text typography_permalink__UiIRy">SpanRuler.from_disk <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Load the span ruler from a path.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">path</code></td><td class="table_td__rmpJx">A path to a directory. Paths may be either strings or <code class="code_inline-code__Bq7ot">Path</code>-like objects. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://docs.python.org/3/library/pathlib.html">Path</a><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The modified <code class="code_inline-code__Bq7ot">SpanRuler</code> object. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">SpanRuler</span></td></tr></tbody></table></section>
<section id="section-to_bytes" class="section_root__k1hUl"><h2 id="to_bytes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#to_bytes" class="heading-text typography_permalink__UiIRy">SpanRuler.to_bytes <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Serialize the span ruler to a bytestring.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The serialized patterns. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bytes</span></td></tr></tbody></table></section>
<section id="section-from_bytes" class="section_root__k1hUl"><h2 id="from_bytes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#from_bytes" class="heading-text typography_permalink__UiIRy">SpanRuler.from_bytes <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">method</span></h2><p>Load the pipe from a bytestring. Modifies the object in place and returns it.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">bytes_data</code></td><td class="table_td__rmpJx">The bytestring to load. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bytes</span></td></tr><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The modified <code class="code_inline-code__Bq7ot">SpanRuler</code> object. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">SpanRuler</span></td></tr></tbody></table></section>
<section id="section-labels" class="section_root__k1hUl"><h2 id="labels" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#labels" class="heading-text typography_permalink__UiIRy">SpanRuler.labels <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>All labels present in the match patterns.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The string labels. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> â€¦<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-ids" class="section_root__k1hUl"><h2 id="ids" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#ids" class="heading-text typography_permalink__UiIRy">SpanRuler.ids <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>All IDs present in the <code class="code_inline-code__Bq7ot">id</code> property of the match patterns.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The string IDs. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Tuple<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> â€¦<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-patterns" class="section_root__k1hUl"><h2 id="patterns" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#patterns" class="heading-text typography_permalink__UiIRy">SpanRuler.patterns <!-- --> </a><span class="tag_root__NTSnK tag_spaced__Q9amH">property</span></h2><p>All patterns that were added to the span ruler.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF table_footer__gJRIy table-footer"><td class="table_td__rmpJx"><strong>RETURNS</strong></td><td class="table_td__rmpJx">The original patterns, one dictionary per pattern. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM code_wrap__b41os" role="code" aria-label="Type annotation">List<span class="code_cli-arg-subtle__IgB5m">[</span>Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> Union<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> dict<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table></section>
<section id="section-attributes" class="section_root__k1hUl"><h2 id="attributes" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#attributes" class="heading-text typography_permalink__UiIRy">Attributes <!-- --> </a></h2><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">key</code></td><td class="table_td__rmpJx">The spans key that spans are saved under. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">matcher</code></td><td class="table_td__rmpJx">The underlying matcher used to process token patterns. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/matcher">Matcher</a></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">phrase_matcher</code></td><td class="table_td__rmpJx">The underlying phrase matcher used to process phrase patterns. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation"><a class="link_root__1Me7D" href="/api/phrasematcher">PhraseMatcher</a></span></td></tr></tbody></table></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/api/spanruler.mdx">Suggest edits</a></div></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_green.92f07e1d.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>Â© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"SpanRuler","tag":"class","source":"spacy/pipeline/span_ruler.py","version":3.3,"teaser":"Pipeline component for rule-based span and named entity recognition","api_string_name":"span_ruler","api_trainable":false,"slug":"/api/spanruler","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    del: \"del\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    pre: \"pre\",\n    code: \"code\",\n    em: \"em\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {InlineCode, Tag} = _components;\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  if (!Tag) _missingMdxReference(\"Tag\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.section, {\n      children: _jsxs(_components.p, {\n        children: [\"The span ruler lets you add spans to \", _jsx(_components.a, {\n          href: \"/api/doc#spans\",\n          children: _jsx(InlineCode, {\n            children: \"Doc.spans\"\n          })\n        }), \" and/or\\n\", _jsx(_components.a, {\n          href: \"/api/doc#ents\",\n          children: _jsx(InlineCode, {\n            children: \"Doc.ents\"\n          })\n        }), \" using token-based rules or exact phrase matches. For\\nusage examples, see the docs on\\n\", _jsx(_components.a, {\n          href: \"/usage/rule-based-matching#spanruler\",\n          children: \"rule-based span matching\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-assigned-attributes\",\n      children: [_jsx(_components.h2, {\n        id: \"assigned-attributes\",\n        children: \"Assigned Attributes \"\n      }), _jsxs(_components.p, {\n        children: [\"Matches will be saved to \", _jsx(InlineCode, {\n          children: \"Doc.spans[spans_key]\"\n        }), \" as a\\n\", _jsx(_components.a, {\n          href: \"/api/spangroup\",\n          children: _jsx(InlineCode, {\n            children: \"SpanGroup\"\n          })\n        }), \" and/or to \", _jsx(InlineCode, {\n          children: \"Doc.ents\"\n        }), \", where the annotation is\\nsaved in the \", _jsx(InlineCode, {\n          children: \"Token.ent_type\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"Token.ent_iob\"\n        }), \" fields.\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Location\"\n            }), _jsx(_components.th, {\n              children: \"Value\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Doc.spans[spans_key]\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The annotated spans. \", _jsx(_components.del, {\n                children: \"SpanGroup\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Doc.ents\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The annotated spans. \", _jsx(_components.del, {\n                children: \"Tuple[Span]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Token.ent_iob\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An enum encoding of the IOB part of the named entity tag. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Token.ent_iob_\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The IOB part of the named entity tag. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Token.ent_type\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The label part of the named entity tag (hash). \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Token.ent_type_\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The label part of the named entity tag. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-config\",\n      children: [_jsx(_components.h2, {\n        id: \"config\",\n        children: \"Config and implementation \"\n      }), _jsxs(_components.p, {\n        children: [\"The default config is defined by the pipeline component factory and describes\\nhow the component should be configured. You can override its settings via the\\n\", _jsx(InlineCode, {\n          children: \"config\"\n        }), \" argument on \", _jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.add_pipe\"\n          })\n        }), \" or in your\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: _jsx(InlineCode, {\n            children: \"config.cfg\"\n          })\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"config = {\\n   \\\"spans_key\\\": \\\"my_spans\\\",\\n   \\\"validate\\\": True,\\n   \\\"overwrite\\\": False,\\n}\\nnlp.add_pipe(\\\"span_ruler\\\", config=config)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Setting\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spans_key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The spans key to save the spans under. If \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \", no spans are saved. Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"ruler\\\"\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[str]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spans_filter\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The optional method to filter spans before they are assigned to doc.spans. Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[Callable[[Iterable[Span], Iterable[Span]], List[Span]]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"annotate_ents\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether to save spans to doc.ents. Defaults to \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"ents_filter\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The method to filter spans before they are assigned to doc.ents. Defaults to \", _jsx(InlineCode, {\n                children: \"util.filter_chain_spans\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Callable[[Iterable[Span], Iterable[Span]], List[Span]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"phrase_matcher_attr\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Token attribute to match on, passed to the internal \", _jsx(InlineCode, {\n                children: \"PhraseMatcher\"\n              }), \" as \", _jsx(InlineCode, {\n                children: \"attr\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[Union[int, str]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"matcher_fuzzy_compare\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.5\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The fuzzy comparison method, passed on to the internal \", _jsx(InlineCode, {\n                children: \"Matcher\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"spacy.matcher.levenshtein.levenshtein_compare\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Callable\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"validate\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether patterns should be validated, passed to \", _jsx(InlineCode, {\n                children: \"Matcher\"\n              }), \" and \", _jsx(InlineCode, {\n                children: \"PhraseMatcher\"\n              }), \" as \", _jsx(InlineCode, {\n                children: \"validate\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"overwrite\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether to remove any existing spans under \", _jsx(InlineCode, {\n                children: \"Doc.spans[spans key]\"\n              }), \" if \", _jsx(InlineCode, {\n                children: \"spans_key\"\n              }), \" is set, or to remove any ents under \", _jsx(InlineCode, {\n                children: \"Doc.ents\"\n              }), \" if \", _jsx(InlineCode, {\n                children: \"annotate_ents\"\n              }), \" is set. Defaults to \", _jsx(InlineCode, {\n                children: \"True\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"scorer\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The scoring method. Defaults to \", _jsx(_components.a, {\n                href: \"/api/scorer#score_spans\",\n                children: _jsx(InlineCode, {\n                  children: \"Scorer.score_spans\"\n                })\n              }), \" for \", _jsx(InlineCode, {\n                children: \"Doc.spans[spans_key]\"\n              }), \" with overlapping spans allowed. \", _jsx(_components.del, {\n                children: \"Optional[Callable]\"\n              })]\n            })]\n          })]\n        })]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          github: \"https://github.com/explosion/spaCy/tree/master/spacy/pipeline/span_ruler.py\",\n          children: \"https://github.com/explosion/spaCy/tree/master/spacy/pipeline/span_ruler.py\\n\"\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-init\",\n      children: [_jsx(_components.h2, {\n        id: \"init\",\n        tag: \"method\",\n        children: \"SpanRuler.__init__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Initialize the span ruler. If patterns are supplied here, they need to be a list\\nof dictionaries with a \", _jsx(InlineCode, {\n          children: \"\\\"label\\\"\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"\\\"pattern\\\"\"\n        }), \" key. A pattern can either be a\\ntoken pattern (list) or a phrase pattern (string). For example:\\n\", _jsx(InlineCode, {\n          children: \"{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\"}\"\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"# Construction via add_pipe\\nruler = nlp.add_pipe(\\\"span_ruler\\\")\\n\\n# Construction from class\\nfrom spacy.pipeline import SpanRuler\\nruler = SpanRuler(nlp, overwrite=True)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"nlp\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The shared nlp object to pass the vocab to the matchers and process phrase patterns. \", _jsx(_components.del, {\n                children: \"Language\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"name\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Instance name of the current pipeline component. Typically passed in automatically from the factory when the component is added. Used to disable the current span ruler while creating phrase patterns with the nlp object. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.em, {\n                children: \"keyword-only\"\n              })\n            }), _jsx(_components.td, {})]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spans_key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The spans key to save the spans under. If \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \", no spans are saved. Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"ruler\\\"\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[str]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spans_filter\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The optional method to filter spans before they are assigned to doc.spans. Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[Callable[[Iterable[Span], Iterable[Span]], List[Span]]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"annotate_ents\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether to save spans to doc.ents. Defaults to \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"ents_filter\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The method to filter spans before they are assigned to doc.ents. Defaults to \", _jsx(InlineCode, {\n                children: \"util.filter_chain_spans\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Callable[[Iterable[Span], Iterable[Span]], List[Span]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"phrase_matcher_attr\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Token attribute to match on, passed to the internal PhraseMatcher as \", _jsx(InlineCode, {\n                children: \"attr\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[Union[int, str]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"matcher_fuzzy_compare\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.5\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"The fuzzy comparison method, passed on to the internal \", _jsx(InlineCode, {\n                children: \"Matcher\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"spacy.matcher.levenshtein.levenshtein_compare\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Callable\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"validate\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether patterns should be validated, passed to Matcher and PhraseMatcher as \", _jsx(InlineCode, {\n                children: \"validate\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"overwrite\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether to remove any existing spans under \", _jsx(InlineCode, {\n                children: \"Doc.spans[spans key]\"\n              }), \" if \", _jsx(InlineCode, {\n                children: \"spans_key\"\n              }), \" is set, or to remove any ents under \", _jsx(InlineCode, {\n                children: \"Doc.ents\"\n              }), \" if \", _jsx(InlineCode, {\n                children: \"annotate_ents\"\n              }), \" is set. Defaults to \", _jsx(InlineCode, {\n                children: \"True\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"scorer\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The scoring method. Defaults to \", _jsx(_components.a, {\n                href: \"/api/scorer#score_spans\",\n                children: _jsx(InlineCode, {\n                  children: \"Scorer.score_spans\"\n                })\n              }), \" for \", _jsx(InlineCode, {\n                children: \"Doc.spans[spans_key]\"\n              }), \" with overlapping spans allowed. \", _jsx(_components.del, {\n                children: \"Optional[Callable]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-initialize\",\n      children: [_jsx(_components.h2, {\n        id: \"initialize\",\n        tag: \"method\",\n        children: \"SpanRuler.initialize \"\n      }), _jsxs(_components.p, {\n        children: [\"Initialize the component with data and used before training to load in rules\\nfrom a \", _jsx(_components.a, {\n          href: \"/usage/rule-based-matching/#spanruler-files\",\n          children: \"pattern file\"\n        }), \". This method\\nis typically called by \", _jsx(_components.a, {\n          href: \"/api/language#initialize\",\n          children: _jsx(InlineCode, {\n            children: \"Language.initialize\"\n          })\n        }), \" and\\nlets you customize arguments it receives via the\\n\", _jsx(_components.a, {\n          href: \"/api/data-formats#config-initialize\",\n          children: _jsx(InlineCode, {\n            children: \"[initialize.components]\"\n          })\n        }), \" block in the\\nconfig. Any existing patterns are removed on initialization.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"span_ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nspan_ruler.initialize(lambda: [], nlp=nlp, patterns=patterns)\\n\"\n          })\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            title: \"config.cfg\",\n            children: \"[initialize.components.span_ruler]\\n\\n[initialize.components.span_ruler.patterns]\\n@readers = \\\"srsly.read_jsonl.v1\\\"\\npath = \\\"corpus/span_ruler_patterns.jsonl\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"get_examples\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Function that returns gold-standard annotations in the form of \", _jsx(_components.a, {\n                href: \"/api/example\",\n                children: _jsx(InlineCode, {\n                  children: \"Example\"\n                })\n              }), \" objects. Not used by the \", _jsx(InlineCode, {\n                children: \"SpanRuler\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Callable[[], Iterable[Example]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.em, {\n                children: \"keyword-only\"\n              })\n            }), _jsx(_components.td, {})]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"nlp\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The current \", _jsx(InlineCode, {\n                children: \"nlp\"\n              }), \" object. Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[Language]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"patterns\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The list of patterns. Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[Sequence[Dict[str, Union[str, List[Dict[str, Any]]]]]]\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-len\",\n      children: [_jsx(_components.h2, {\n        id: \"len\",\n        tag: \"method\",\n        children: \"SpanRuler.__len__ \"\n      }), _jsx(_components.p, {\n        children: \"The number of all patterns added to the span ruler.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nassert len(ruler) == 0\\nruler.add_patterns([{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\"}])\\nassert len(ruler) == 1\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The number of patterns. \", _jsx(_components.del, {\n                children: \"int\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-contains\",\n      children: [_jsx(_components.h2, {\n        id: \"contains\",\n        tag: \"method\",\n        children: \"SpanRuler.__contains__ \"\n      }), _jsx(_components.p, {\n        children: \"Whether a label is present in the patterns.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.add_patterns([{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\"}])\\nassert \\\"ORG\\\" in ruler\\nassert not \\\"PERSON\\\" in ruler\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"label\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The label to check. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Whether the span ruler contains the label. \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-call\",\n      children: [_jsx(_components.h2, {\n        id: \"call\",\n        tag: \"method\",\n        children: \"SpanRuler.__call__ \"\n      }), _jsxs(_components.p, {\n        children: [\"Find matches in the \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" and add them to \", _jsx(InlineCode, {\n          children: \"doc.spans[span_key]\"\n        }), \" and/or\\n\", _jsx(InlineCode, {\n          children: \"doc.ents\"\n        }), \". Typically, this happens automatically after the component has been\\nadded to the pipeline using \", _jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.add_pipe\"\n          })\n        }), \". If the\\nspan ruler was initialized with \", _jsx(InlineCode, {\n          children: \"overwrite=True\"\n        }), \", existing spans and entities\\nwill be removed.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.add_patterns([{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\"}])\\n\\ndoc = nlp(\\\"A text about Apple.\\\")\\nspans = [(span.text, span.label_) for span in doc.spans[\\\"ruler\\\"]]\\nassert spans == [(\\\"Apple\\\", \\\"ORG\\\")]\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"doc\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The \", _jsx(InlineCode, {\n                children: \"Doc\"\n              }), \" object to process, e.g. the \", _jsx(InlineCode, {\n                children: \"Doc\"\n              }), \" in the pipeline. \", _jsx(_components.del, {\n                children: \"Doc\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The modified \", _jsx(InlineCode, {\n                children: \"Doc\"\n              }), \" with added spans/entities. \", _jsx(_components.del, {\n                children: \"Doc\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-add_patterns\",\n      children: [_jsx(_components.h2, {\n        id: \"add_patterns\",\n        tag: \"method\",\n        children: \"SpanRuler.add_patterns \"\n      }), _jsxs(_components.p, {\n        children: [\"Add patterns to the span ruler. A pattern can either be a token pattern (list of\\ndicts) or a phrase pattern (string). For more details, see the usage guide on\\n\", _jsx(_components.a, {\n          href: \"/usage/rule-based-matching\",\n          children: \"rule-based matching\"\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"patterns = [\\n    {\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\"},\\n    {\\\"label\\\": \\\"GPE\\\", \\\"pattern\\\": [{\\\"lower\\\": \\\"san\\\"}, {\\\"lower\\\": \\\"francisco\\\"}]}\\n]\\nruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.add_patterns(patterns)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"patterns\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The patterns to add. \", _jsx(_components.del, {\n                children: \"List[Dict[str, Union[str, List[dict]]]]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-remove\",\n      children: [_jsx(_components.h2, {\n        id: \"remove\",\n        tag: \"method\",\n        children: \"SpanRuler.remove \"\n      }), _jsxs(_components.p, {\n        children: [\"Remove patterns by label from the span ruler. A \", _jsx(InlineCode, {\n          children: \"ValueError\"\n        }), \" is raised if the\\nlabel does not exist in any patterns.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"patterns = [{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\", \\\"id\\\": \\\"apple\\\"}]\\nruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.add_patterns(patterns)\\nruler.remove(\\\"ORG\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"label\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The label of the pattern rule. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-remove_by_id\",\n      children: [_jsx(_components.h2, {\n        id: \"remove_by_id\",\n        tag: \"method\",\n        children: \"SpanRuler.remove_by_id \"\n      }), _jsxs(_components.p, {\n        children: [\"Remove patterns by ID from the span ruler. A \", _jsx(InlineCode, {\n          children: \"ValueError\"\n        }), \" is raised if the ID\\ndoes not exist in any patterns.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"patterns = [{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\", \\\"id\\\": \\\"apple\\\"}]\\nruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.add_patterns(patterns)\\nruler.remove_by_id(\\\"apple\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"pattern_id\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The ID of the pattern rule. \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-clear\",\n      children: [_jsx(_components.h2, {\n        id: \"clear\",\n        tag: \"method\",\n        children: \"SpanRuler.clear \"\n      }), _jsx(_components.p, {\n        children: \"Remove all patterns the span ruler.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"patterns = [{\\\"label\\\": \\\"ORG\\\", \\\"pattern\\\": \\\"Apple\\\", \\\"id\\\": \\\"apple\\\"}]\\nruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.add_patterns(patterns)\\nruler.clear()\\n\"\n          })\n        }), \"\\n\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-to_disk\",\n      children: [_jsx(_components.h2, {\n        id: \"to_disk\",\n        tag: \"method\",\n        children: \"SpanRuler.to_disk \"\n      }), _jsx(_components.p, {\n        children: \"Save the span ruler patterns to a directory. The patterns will be saved as\\nnewline-delimited JSON (JSONL).\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.to_disk(\\\"/path/to/span_ruler\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"path\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A path to a directory, which will be created if it doesnâ€™t exist. Paths may be either strings or \", _jsx(InlineCode, {\n                children: \"Path\"\n              }), \"-like objects. \", _jsx(_components.del, {\n                children: \"Union[str, Path]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-from_disk\",\n      children: [_jsx(_components.h2, {\n        id: \"from_disk\",\n        tag: \"method\",\n        children: \"SpanRuler.from_disk \"\n      }), _jsx(_components.p, {\n        children: \"Load the span ruler from a path.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.from_disk(\\\"/path/to/span_ruler\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"path\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A path to a directory. Paths may be either strings or \", _jsx(InlineCode, {\n                children: \"Path\"\n              }), \"-like objects. \", _jsx(_components.del, {\n                children: \"Union[str, Path]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The modified \", _jsx(InlineCode, {\n                children: \"SpanRuler\"\n              }), \" object. \", _jsx(_components.del, {\n                children: \"SpanRuler\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-to_bytes\",\n      children: [_jsx(_components.h2, {\n        id: \"to_bytes\",\n        tag: \"method\",\n        children: \"SpanRuler.to_bytes \"\n      }), _jsx(_components.p, {\n        children: \"Serialize the span ruler to a bytestring.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler_bytes = ruler.to_bytes()\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The serialized patterns. \", _jsx(_components.del, {\n                children: \"bytes\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-from_bytes\",\n      children: [_jsx(_components.h2, {\n        id: \"from_bytes\",\n        tag: \"method\",\n        children: \"SpanRuler.from_bytes \"\n      }), _jsx(_components.p, {\n        children: \"Load the pipe from a bytestring. Modifies the object in place and returns it.\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ruler_bytes = ruler.to_bytes()\\nruler = nlp.add_pipe(\\\"span_ruler\\\")\\nruler.from_bytes(ruler_bytes)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"bytes_data\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The bytestring to load. \", _jsx(_components.del, {\n                children: \"bytes\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The modified \", _jsx(InlineCode, {\n                children: \"SpanRuler\"\n              }), \" object. \", _jsx(_components.del, {\n                children: \"SpanRuler\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-labels\",\n      children: [_jsx(_components.h2, {\n        id: \"labels\",\n        tag: \"property\",\n        children: \"SpanRuler.labels \"\n      }), _jsx(_components.p, {\n        children: \"All labels present in the match patterns.\"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The string labels. \", _jsx(_components.del, {\n                children: \"Tuple[str, â€¦]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-ids\",\n      children: [_jsx(_components.h2, {\n        id: \"ids\",\n        tag: \"property\",\n        children: \"SpanRuler.ids \"\n      }), _jsxs(_components.p, {\n        children: [\"All IDs present in the \", _jsx(InlineCode, {\n          children: \"id\"\n        }), \" property of the match patterns.\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The string IDs. \", _jsx(_components.del, {\n                children: \"Tuple[str, â€¦]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-patterns\",\n      children: [_jsx(_components.h2, {\n        id: \"patterns\",\n        tag: \"property\",\n        children: \"SpanRuler.patterns \"\n      }), _jsx(_components.p, {\n        children: \"All patterns that were added to the span ruler.\"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsx(_components.tbody, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.strong, {\n                children: \"RETURNS\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The original patterns, one dictionary per pattern. \", _jsx(_components.del, {\n                children: \"List[Dict[str, Union[str, dict]]]\"\n              })]\n            })]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-attributes\",\n      children: [_jsx(_components.h2, {\n        id: \"attributes\",\n        children: \"Attributes \"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The spans key that spans are saved under. \", _jsx(_components.del, {\n                children: \"Optional[str]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"matcher\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The underlying matcher used to process token patterns. \", _jsx(_components.del, {\n                children: \"Matcher\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"phrase_matcher\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The underlying phrase matcher used to process phrase patterns. \", _jsx(_components.del, {\n                children: \"PhraseMatcher\"\n              })]\n            })]\n          })]\n        })]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"SpanRuler","tag":"class","source":"spacy/pipeline/span_ruler.py","version":3.3,"teaser":"Pipeline component for rule-based span and named entity recognition","api_string_name":"span_ruler","api_trainable":false},"scope":{}},"sectionTitle":"API Documentation","theme":"green","section":"api","apiDetails":{"stringName":"span_ruler","baseClass":null,"trainable":false},"isIndex":false,"next":null},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["api","spanruler"]},"buildId":"Ugre-usgT1EZhnSeYcBR9","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>