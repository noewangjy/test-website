<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>Library Architecture · spaCy API Documentation</title><meta name="description" content="spaCy is a free open-source library for Natural Language Processing in Python. It features NER, POS tagging, dependency parsing, word vectors and more."/><meta property="og:title" content="Library Architecture · spaCy API Documentation"/><meta property="og:description" content="spaCy is a free open-source library for Natural Language Processing in Python. It features NER, POS tagging, dependency parsing, word vectors and more."/><meta property="og:type" content="website"/><meta property="og:site_name" content="Library Architecture"/><meta property="og:image" content="[object Object]"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="[object Object]"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="Library Architecture · spaCy API Documentation"/><meta name="twitter:description" content="spaCy is a free open-source library for Natural Language Processing in Python. It features NER, POS tagging, dependency parsing, word vectors and more."/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ee1fab0e25bb912e.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_buildManifest.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-green"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>💥 Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage">Usage</option><option value="/models">Models</option><option value="/api" selected="">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Overview</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/api" selected="">Overview<!-- --> › <!-- -->Library Architecture</option><option value="/api/architectures">Overview<!-- --> › <!-- -->Model Architectures</option><option value="/api/data-formats">Overview<!-- --> › <!-- -->Data Formats</option><option value="/api/cli">Overview<!-- --> › <!-- -->Command Line</option><option value="/api/top-level">Overview<!-- --> › <!-- -->Functions</option><option value="/api/doc">Containers<!-- --> › <!-- -->Doc</option><option value="/api/docbin">Containers<!-- --> › <!-- -->DocBin</option><option value="/api/example">Containers<!-- --> › <!-- -->Example</option><option value="/api/language">Containers<!-- --> › <!-- -->Language</option><option value="/api/lexeme">Containers<!-- --> › <!-- -->Lexeme</option><option value="/api/span">Containers<!-- --> › <!-- -->Span</option><option value="/api/spangroup">Containers<!-- --> › <!-- -->SpanGroup</option><option value="/api/token">Containers<!-- --> › <!-- -->Token</option><option value="/api/attributeruler">Pipeline<!-- --> › <!-- -->AttributeRuler</option><option value="/api/coref">Pipeline<!-- --> › <!-- -->CoreferenceResolver</option><option value="/api/dependencyparser">Pipeline<!-- --> › <!-- -->DependencyParser</option><option value="/api/edittreelemmatizer">Pipeline<!-- --> › <!-- -->EditTreeLemmatizer</option><option value="/api/entitylinker">Pipeline<!-- --> › <!-- -->EntityLinker</option><option value="/api/entityrecognizer">Pipeline<!-- --> › <!-- -->EntityRecognizer</option><option value="/api/entityruler">Pipeline<!-- --> › <!-- -->EntityRuler</option><option value="/api/lemmatizer">Pipeline<!-- --> › <!-- -->Lemmatizer</option><option value="/api/morphologizer">Pipeline<!-- --> › <!-- -->Morphologizer</option><option value="/api/sentencerecognizer">Pipeline<!-- --> › <!-- -->SentenceRecognizer</option><option value="/api/sentencizer">Pipeline<!-- --> › <!-- -->Sentencizer</option><option value="/api/spancategorizer">Pipeline<!-- --> › <!-- -->SpanCategorizer</option><option value="/api/span-resolver">Pipeline<!-- --> › <!-- -->SpanResolver</option><option value="/api/spanruler">Pipeline<!-- --> › <!-- -->SpanRuler</option><option value="/api/tagger">Pipeline<!-- --> › <!-- -->Tagger</option><option value="/api/textcategorizer">Pipeline<!-- --> › <!-- -->TextCategorizer</option><option value="/api/tok2vec">Pipeline<!-- --> › <!-- -->Tok2Vec</option><option value="/api/tokenizer">Pipeline<!-- --> › <!-- -->Tokenizer</option><option value="/api/pipe">Pipeline<!-- --> › <!-- -->TrainablePipe</option><option value="/api/transformer">Pipeline<!-- --> › <!-- -->Transformer</option><option value="/api/pipeline-functions">Pipeline<!-- --> › <!-- -->Other Functions</option><option value="/api/dependencymatcher">Matchers<!-- --> › <!-- -->DependencyMatcher</option><option value="/api/matcher">Matchers<!-- --> › <!-- -->Matcher</option><option value="/api/phrasematcher">Matchers<!-- --> › <!-- -->PhraseMatcher</option><option value="/api/attributes">Other<!-- --> › <!-- -->Attributes</option><option value="/api/corpus">Other<!-- --> › <!-- -->Corpus</option><option value="/api/inmemorylookupkb">Other<!-- --> › <!-- -->InMemoryLookupKB</option><option value="/api/kb">Other<!-- --> › <!-- -->KnowledgeBase</option><option value="/api/lookups">Other<!-- --> › <!-- -->Lookups</option><option value="/api/morphology#morphanalysis">Other<!-- --> › <!-- -->MorphAnalysis</option><option value="/api/morphology">Other<!-- --> › <!-- -->Morphology</option><option value="/api/scorer">Other<!-- --> › <!-- -->Scorer</option><option value="/api/stringstore">Other<!-- --> › <!-- -->StringStore</option><option value="/api/vectors">Other<!-- --> › <!-- -->Vectors</option><option value="/api/vocab">Other<!-- --> › <!-- -->Vocab</option><option value="/api/cython">Cython<!-- --> › <!-- -->Architecture</option><option value="/api/cython-classes">Cython<!-- --> › <!-- -->Classes</option><option value="/api/cython-structs">Cython<!-- --> › <!-- -->Structs</option><option value="/api/legacy">Legacy<!-- --> › <!-- -->Legacy functions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Overview</li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/api">Library Architecture</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/architectures">Model Architectures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/data-formats">Data Formats</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cli">Command Line</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/top-level">Functions</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Containers</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/doc">Doc</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/docbin">DocBin</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/example">Example</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/language">Language</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lexeme">Lexeme</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/span">Span</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spangroup">SpanGroup</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/token">Token</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Pipeline</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/attributeruler">AttributeRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/coref">CoreferenceResolver</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/dependencyparser">DependencyParser</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/edittreelemmatizer">EditTreeLemmatizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entitylinker">EntityLinker</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entityrecognizer">EntityRecognizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/entityruler">EntityRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lemmatizer">Lemmatizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphologizer">Morphologizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/sentencerecognizer">SentenceRecognizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/sentencizer">Sentencizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spancategorizer">SpanCategorizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/span-resolver">SpanResolver</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/spanruler">SpanRuler</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tagger">Tagger</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/textcategorizer">TextCategorizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tok2vec">Tok2Vec</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/tokenizer">Tokenizer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/pipe">TrainablePipe</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/transformer">Transformer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/pipeline-functions">Other Functions</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Matchers</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/dependencymatcher">DependencyMatcher</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/matcher">Matcher</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/phrasematcher">PhraseMatcher</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Other</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/attributes">Attributes</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/corpus">Corpus</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/inmemorylookupkb">InMemoryLookupKB</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/kb">KnowledgeBase</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/lookups">Lookups</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphology#morphanalysis">MorphAnalysis</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/morphology">Morphology</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/scorer">Scorer</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/stringstore">StringStore</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/vectors">Vectors</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/vocab">Vocab</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Cython</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython">Architecture</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython-classes">Classes</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/cython-structs">Structs</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Legacy</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/api/legacy">Legacy functions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">Library Architecture<!-- --> </span></h1></header><p>The central data structures in spaCy are the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language"><code class="code_inline-code__Bq7ot">Language</code></a> class,
the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab"><code class="code_inline-code__Bq7ot">Vocab</code></a> and the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a> object. The <code class="code_inline-code__Bq7ot">Language</code> class
is used to process a text and turn it into a <code class="code_inline-code__Bq7ot">Doc</code> object. It’s typically stored
as a variable called <code class="code_inline-code__Bq7ot">nlp</code>. The <code class="code_inline-code__Bq7ot">Doc</code> object owns the <strong>sequence of tokens</strong> and
all their annotations. By centralizing strings, word vectors and lexical
attributes in the <code class="code_inline-code__Bq7ot">Vocab</code>, we avoid storing multiple copies of this data. This
saves memory, and ensures there’s a <strong>single source of truth</strong>.</p>
<p>Text annotations are also designed to allow a single source of truth: the <code class="code_inline-code__Bq7ot">Doc</code>
object owns the data, and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/span"><code class="code_inline-code__Bq7ot">Span</code></a> and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token"><code class="code_inline-code__Bq7ot">Token</code></a> are
<strong>views that point into it</strong>. The <code class="code_inline-code__Bq7ot">Doc</code> object is constructed by the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tokenizer"><code class="code_inline-code__Bq7ot">Tokenizer</code></a>, and then <strong>modified in place</strong> by the components
of the pipeline. The <code class="code_inline-code__Bq7ot">Language</code> object coordinates these components. It takes
raw text and sends it through the pipeline, returning an <strong>annotated document</strong>.
It also orchestrates training and serialization.</p>
<figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/architecture.svg" alt="Library architecture {w:1080, h:1254}" width="650" height="auto"/></figure>
<h3 id="architecture-containers" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#architecture-containers" class="heading-text typography_permalink__UiIRy">Container objects <!-- --> </a></h3>
<table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a></td><td class="table_td__rmpJx">A container for accessing linguistic annotations.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/docbin"><code class="code_inline-code__Bq7ot">DocBin</code></a></td><td class="table_td__rmpJx">A collection of <code class="code_inline-code__Bq7ot">Doc</code> objects for efficient binary serialization. Also used for <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/data-formats#binary-training"><span class="link_source-text__VDP74">training data</span></a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example"><code class="code_inline-code__Bq7ot">Example</code></a></td><td class="table_td__rmpJx">A collection of training annotations, containing two <code class="code_inline-code__Bq7ot">Doc</code> objects: the reference data and the predictions.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language"><code class="code_inline-code__Bq7ot">Language</code></a></td><td class="table_td__rmpJx">Processing class that turns text into <code class="code_inline-code__Bq7ot">Doc</code> objects. Different languages implement their own subclasses of it. The variable is typically called <code class="code_inline-code__Bq7ot">nlp</code>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lexeme"><code class="code_inline-code__Bq7ot">Lexeme</code></a></td><td class="table_td__rmpJx">An entry in the vocabulary. It’s a word type with no context, as opposed to a word token. It therefore has no part-of-speech tag, dependency parse etc.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/span"><code class="code_inline-code__Bq7ot">Span</code></a></td><td class="table_td__rmpJx">A slice from a <code class="code_inline-code__Bq7ot">Doc</code> object.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/spangroup"><code class="code_inline-code__Bq7ot">SpanGroup</code></a></td><td class="table_td__rmpJx">A named collection of spans belonging to a <code class="code_inline-code__Bq7ot">Doc</code>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token"><code class="code_inline-code__Bq7ot">Token</code></a></td><td class="table_td__rmpJx">An individual token — i.e. a word, punctuation symbol, whitespace, etc.</td></tr></tbody></table>
<h3 id="architecture-pipeline" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#architecture-pipeline" class="heading-text typography_permalink__UiIRy">Processing pipeline <!-- --> </a></h3>
<p>The processing pipeline consists of one or more <strong>pipeline components</strong> that are
called on the <code class="code_inline-code__Bq7ot">Doc</code> in order. The tokenizer runs before the components. Pipeline
components can be added using <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">Language.add_pipe</code></a>.
They can contain a statistical model and trained weights, or only make
rule-based modifications to the <code class="code_inline-code__Bq7ot">Doc</code>. spaCy provides a range of built-in
components for different language processing tasks and also allows adding
<a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components">custom components</a>.</p>
<figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/pipeline.svg" alt="The processing pipeline" width="650" height="auto"/></figure>
<table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler"><code class="code_inline-code__Bq7ot">AttributeRuler</code></a></td><td class="table_td__rmpJx">Set token attributes using matcher rules.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencyparser"><code class="code_inline-code__Bq7ot">DependencyParser</code></a></td><td class="table_td__rmpJx">Predict syntactic dependencies.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/edittreelemmatizer"><code class="code_inline-code__Bq7ot">EditTreeLemmatizer</code></a></td><td class="table_td__rmpJx">Predict base forms of words.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/entitylinker"><code class="code_inline-code__Bq7ot">EntityLinker</code></a></td><td class="table_td__rmpJx">Disambiguate named entities to nodes in a knowledge base.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/entityrecognizer"><code class="code_inline-code__Bq7ot">EntityRecognizer</code></a></td><td class="table_td__rmpJx">Predict named entities, e.g. persons or products.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/entityruler"><code class="code_inline-code__Bq7ot">EntityRuler</code></a></td><td class="table_td__rmpJx">Add entity spans to the <code class="code_inline-code__Bq7ot">Doc</code> using token-based rules or exact phrase matches.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lemmatizer"><code class="code_inline-code__Bq7ot">Lemmatizer</code></a></td><td class="table_td__rmpJx">Determine the base forms of words using rules and lookups.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/morphologizer"><code class="code_inline-code__Bq7ot">Morphologizer</code></a></td><td class="table_td__rmpJx">Predict morphological features and coarse-grained part-of-speech tags.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/sentencerecognizer"><code class="code_inline-code__Bq7ot">SentenceRecognizer</code></a></td><td class="table_td__rmpJx">Predict sentence boundaries.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/sentencizer"><code class="code_inline-code__Bq7ot">Sentencizer</code></a></td><td class="table_td__rmpJx">Implement rule-based sentence boundary detection that doesn’t require the dependency parse.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tagger"><code class="code_inline-code__Bq7ot">Tagger</code></a></td><td class="table_td__rmpJx">Predict part-of-speech tags.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/textcategorizer"><code class="code_inline-code__Bq7ot">TextCategorizer</code></a></td><td class="table_td__rmpJx">Predict categories or labels over the whole document.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tok2vec"><code class="code_inline-code__Bq7ot">Tok2Vec</code></a></td><td class="table_td__rmpJx">Apply a “token-to-vector” model and set its outputs.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tokenizer"><code class="code_inline-code__Bq7ot">Tokenizer</code></a></td><td class="table_td__rmpJx">Segment raw text and create <code class="code_inline-code__Bq7ot">Doc</code> objects from the words.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe"><code class="code_inline-code__Bq7ot">TrainablePipe</code></a></td><td class="table_td__rmpJx">Class that all trainable pipeline components inherit from.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/transformer"><code class="code_inline-code__Bq7ot">Transformer</code></a></td><td class="table_td__rmpJx">Use a transformer model and set its outputs.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/pipeline-functions"><span class="link_source-text__VDP74">Other functions</span></a></td><td class="table_td__rmpJx">Automatically apply something to the <code class="code_inline-code__Bq7ot">Doc</code>, e.g. to merge spans of tokens.</td></tr></tbody></table>
<h3 id="architecture-matchers" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#architecture-matchers" class="heading-text typography_permalink__UiIRy">Matchers <!-- --> </a></h3>
<p>Matchers help you find and extract information from <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a> objects
based on match patterns describing the sequences you’re looking for. A matcher
operates on a <code class="code_inline-code__Bq7ot">Doc</code> and gives you access to the matched tokens <strong>in context</strong>.</p>
<table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencymatcher"><code class="code_inline-code__Bq7ot">DependencyMatcher</code></a></td><td class="table_td__rmpJx">Match sequences of tokens based on dependency trees using <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://nlp.stanford.edu/nlp/javadoc/javanlp/edu/stanford/nlp/semgraph/semgrex/SemgrexPattern.html">Semgrex operators</a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher"><code class="code_inline-code__Bq7ot">Matcher</code></a></td><td class="table_td__rmpJx">Match sequences of tokens, based on pattern rules, similar to regular expressions.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher"><code class="code_inline-code__Bq7ot">PhraseMatcher</code></a></td><td class="table_td__rmpJx">Match sequences of tokens based on phrases.</td></tr></tbody></table>
<h3 id="architecture-other" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#architecture-other" class="heading-text typography_permalink__UiIRy">Other classes <!-- --> </a></h3>
<table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/corpus"><code class="code_inline-code__Bq7ot">Corpus</code></a></td><td class="table_td__rmpJx">Class for managing annotated corpora for training and evaluation data.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/kb"><code class="code_inline-code__Bq7ot">KnowledgeBase</code></a></td><td class="table_td__rmpJx">Abstract base class for storage and retrieval of data for entity linking.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/inmemorylookupkb"><code class="code_inline-code__Bq7ot">InMemoryLookupKB</code></a></td><td class="table_td__rmpJx">Implementation of <code class="code_inline-code__Bq7ot">KnowledgeBase</code> storing all data in memory.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/kb#candidate"><code class="code_inline-code__Bq7ot">Candidate</code></a></td><td class="table_td__rmpJx">Object associating a textual mention with a specific entity contained in a <code class="code_inline-code__Bq7ot">KnowledgeBase</code>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lookups"><code class="code_inline-code__Bq7ot">Lookups</code></a></td><td class="table_td__rmpJx">Container for convenient access to large lookup tables and dictionaries.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/morphology#morphanalysis"><code class="code_inline-code__Bq7ot">MorphAnalysis</code></a></td><td class="table_td__rmpJx">A morphological analysis.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/morphology"><code class="code_inline-code__Bq7ot">Morphology</code></a></td><td class="table_td__rmpJx">Store morphological analyses and map them to and from hash values.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/scorer"><code class="code_inline-code__Bq7ot">Scorer</code></a></td><td class="table_td__rmpJx">Compute evaluation scores.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore"><code class="code_inline-code__Bq7ot">StringStore</code></a></td><td class="table_td__rmpJx">Map strings to and from hash values.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors"><code class="code_inline-code__Bq7ot">Vectors</code></a></td><td class="table_td__rmpJx">Container class for vector data keyed by string.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab"><code class="code_inline-code__Bq7ot">Vocab</code></a></td><td class="table_td__rmpJx">The shared vocabulary that stores strings and gives you access to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lexeme"><code class="code_inline-code__Bq7ot">Lexeme</code></a> objects.</td></tr></tbody></table><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/api/index.mdx">Suggest edits</a></div></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_green.92f07e1d.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Library Architecture","next":null,"slug":"/api","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {jsx: _jsx} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const {Architecture101} = Object.assign({}, _provideComponents(), props.components);\n  if (!Architecture101) _missingMdxReference(\"Architecture101\", true);\n  return _jsx(Architecture101, {});\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"Library Architecture","next":"/api/architectures"},"scope":{}},"sectionTitle":"API Documentation","theme":"green","section":"api","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":true},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["api"]},"buildId":"2lY2cUyEfZosk4VLgkHb2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>