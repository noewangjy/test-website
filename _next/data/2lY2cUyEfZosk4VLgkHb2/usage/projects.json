{"pageProps":{"title":"Projects","version":3,"menu":[["Intro & Workflow","intro"],["Directory & Assets","directory"],["Custom Projects","custom"],["Remote Storage","remote"],["Integrations","integrations"]],"slug":"/usage/projects","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*TODO: update with actual real example?*/\n/*prettier-ignore*/\n/*{ TODO: <Project id=\"integrations/dvc\"></Project>}*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*TODO: update once version is stable*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*prettier-ignore*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    img: \"img\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    hr: \"hr\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {InlineCode, Project, Grid, Integration, Tag, Infobox, H3, IntegrationLogo, Image} = _components;\n  if (!Grid) _missingMdxReference(\"Grid\", true);\n  if (!H3) _missingMdxReference(\"H3\", true);\n  if (!Image) _missingMdxReference(\"Image\", true);\n  if (!Infobox) _missingMdxReference(\"Infobox\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  if (!Integration) _missingMdxReference(\"Integration\", true);\n  if (!IntegrationLogo) _missingMdxReference(\"IntegrationLogo\", true);\n  if (!Project) _missingMdxReference(\"Project\", true);\n  if (!Tag) _missingMdxReference(\"Tag\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      id: \"section-intro\",\n      children: [_jsx(_components.h2, {\n        id: \"intro\",\n        hidden: \"true\",\n        children: \"Introduction and workflow \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"ðŸª Project templates\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Our \", _jsx(_components.a, {\n            href: \"https://github.com/explosion/projects\",\n            children: _jsx(InlineCode, {\n              children: \"projects\"\n            })\n          }), \" repo includes various\\nproject templates for different NLP tasks, models, workflows and integrations\\nthat you can clone and run. The easiest way to get started is to pick a\\ntemplate, clone it and start modifying it!\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy projects let you manage and share \", _jsx(_components.strong, {\n          children: \"end-to-end spaCy workflows\"\n        }), \" for\\ndifferent \", _jsx(_components.strong, {\n          children: \"use cases and domains\"\n        }), \", and orchestrate training, packaging and\\nserving your custom pipelines. You can start off by cloning a pre-defined\\nproject template, adjust it to fit your needs, load in your data, train a\\npipeline, export it as a Python package, upload your outputs to a remote storage\\nand share your results with your team. spaCy projects can be used via the new\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project\"\n          })\n        }), \" command and we provide templates in our\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/projects\",\n          children: _jsx(InlineCode, {\n            children: \"projects\"\n          })\n        }), \" repo.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/projects.svg\",\n        alt: \"Illustration of project workflow and commands\"\n      }), _jsx(Project, {\n        id: \"pipelines/tagger_parser_ud\",\n        children: _jsxs(_components.p, {\n          children: [\"The easiest way to get started is to clone a project template and run it â€“Â for\\nexample, this end-to-end template that lets you train a \", _jsx(_components.strong, {\n            children: \"part-of-speech\\ntagger\"\n          }), \" and \", _jsx(_components.strong, {\n            children: \"dependency parser\"\n          }), \" on a Universal Dependencies treebank.\"]\n        })\n      }), _jsxs(_components.p, {\n        children: [\"spaCy projects make it easy to integrate with many other \", _jsx(_components.strong, {\n          children: \"awesome tools\"\n        }), \" in\\nthe data science and machine learning ecosystem to track and manage your data\\nand experiments, iterate on demos and prototypes and ship your models into\\nproduction.\"]\n      }), _jsxs(Grid, {\n        narrow: true,\n        cols: 3,\n        children: [_jsx(Integration, {\n          title: \"DVC\",\n          logo: \"dvc\",\n          url: \"#dvc\",\n          children: _jsx(_components.p, {\n            children: \"Manage and version your data\"\n          })\n        }), _jsx(Integration, {\n          title: \"Prodigy\",\n          logo: \"prodigy\",\n          url: \"#prodigy\",\n          children: _jsx(_components.p, {\n            children: \"Create labelled training data\"\n          })\n        }), _jsx(Integration, {\n          title: \"Streamlit\",\n          logo: \"streamlit\",\n          url: \"#streamlit\",\n          children: _jsx(_components.p, {\n            children: \"Visualize and demo your pipelines\"\n          })\n        }), _jsx(Integration, {\n          title: \"FastAPI\",\n          logo: \"fastapi\",\n          url: \"#fastapi\",\n          children: _jsx(_components.p, {\n            children: \"Serve your models and host APIs\"\n          })\n        }), _jsx(Integration, {\n          title: \"Ray\",\n          logo: \"ray\",\n          url: \"#ray\",\n          children: _jsx(_components.p, {\n            children: \"Distributed and parallel training\"\n          })\n        }), _jsx(Integration, {\n          title: \"Weights & Biases\",\n          logo: \"wandb\",\n          url: \"#wandb\",\n          children: _jsx(_components.p, {\n            children: \"Track your experiments and results\"\n          })\n        }), _jsx(Integration, {\n          title: \"Hugging Face Hub\",\n          logo: \"huggingface_hub\",\n          url: \"#huggingface_hub\",\n          children: _jsx(_components.p, {\n            children: \"Upload your pipelines to the Hugging Face Hub\"\n          })\n        })]\n      }), _jsx(_components.h3, {\n        id: \"clone\",\n        children: \"1. Clone a project template \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Cloning under the hood\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"To clone a project, spaCy calls into \", _jsx(InlineCode, {\n            children: \"git\"\n          }), \" and uses the â€œsparse checkoutâ€\\nfeature to only clone the relevant directory or directories.\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#project-clone\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project clone\"\n          })\n        }), \" command clones an existing\\nproject template and copies the files to a local directory. You can then run the\\nproject, e.g. to train a pipeline and edit the commands and scripts to build\\nfully custom workflows.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"python -m spacy project clone pipelines/tagger_parser_ud\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"By default, the project will be cloned into the current working directory. You\\ncan specify an optional second argument to define the output directory. The\\n\", _jsx(InlineCode, {\n          children: \"--repo\"\n        }), \" option lets you define a custom repo to clone from if you donâ€™t want to\\nuse the spaCy \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/projects\",\n          children: _jsx(InlineCode, {\n            children: \"projects\"\n          })\n        }), \" repo. You can\\nalso use any private repo you have access to with Git.\"]\n      }), _jsx(_components.h3, {\n        id: \"assets\",\n        children: \"2. Fetch the project assets \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  - dest: 'assets/training.spacy'\\n    url: 'https://example.com/data.spacy'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n  - dest: 'assets/development.spacy'\\n    git:\\n      repo: 'https://github.com/example/repo'\\n      branch: 'master'\\n      path: 'path/development.spacy'\\n    checksum: '5113dc04e03f079525edd8df3f4f39e3'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Assets are data files your project needs â€“ for example, the training and\\nevaluation data or pretrained vectors and embeddings to initialize your model\\nwith. Each project template comes with a \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" that defines the assets\\nto download and where to put them. The \", _jsx(_components.a, {\n          href: \"/api/cli#run\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project assets\"\n          })\n        }), \"\\nwill fetch the project assets for you:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ cd some_example_project\\n$ python -m spacy project assets\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Asset URLs can be a number of different protocols: HTTP, HTTPS, FTP, SSH, and\\neven cloud storage such as GCS and S3. You can also fetch assets using git, by\\nreplacing the \", _jsx(InlineCode, {\n          children: \"url\"\n        }), \" string with a \", _jsx(InlineCode, {\n          children: \"git\"\n        }), \" block. spaCy will use Gitâ€™s â€œsparse\\ncheckoutâ€ feature to avoid downloading the whole repository.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Sometimes your project configuration may include large assets that you donâ€™t\\nnecessarily want to download when you run \", _jsx(InlineCode, {\n          children: \"spacy project assets\"\n        }), \". Thatâ€™s why\\nassets can be marked as \", _jsx(_components.a, {\n          href: \"#data-assets-url\",\n          children: _jsx(InlineCode, {\n            children: \"extra\"\n          })\n        }), \" - by default, these assets\\nare not downloaded. If they should be, run \", _jsx(InlineCode, {\n          children: \"spacy project assets --extra\"\n        }), \".\"]\n      }), _jsx(_components.h3, {\n        id: \"run\",\n        children: \"3. Run a command \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"commands:\\n  - name: preprocess\\n    help: \\\"Convert the input data to spaCy's format\\\"\\n    script:\\n      - 'python -m spacy convert assets/train.conllu corpus/'\\n      - 'python -m spacy convert assets/eval.conllu corpus/'\\n    deps:\\n      - 'assets/train.conllu'\\n      - 'assets/eval.conllu'\\n    outputs:\\n      - 'corpus/train.spacy'\\n      - 'corpus/eval.spacy'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Commands consist of one or more steps and can be run with\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-run\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project run\"\n          })\n        }), \". The following will run the command\\n\", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \" defined in the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project run preprocess\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Commands can define their expected \", _jsx(_components.a, {\n          href: \"#deps-outputs\",\n          children: \"dependencies and outputs\"\n        }), \"\\nusing the \", _jsx(InlineCode, {\n          children: \"deps\"\n        }), \" (files the commands require) and \", _jsx(InlineCode, {\n          children: \"outputs\"\n        }), \" (files the commands\\ncreate) keys. This allows your project to track changes and determine whether a\\ncommand needs to be re-run. For instance, if your input data changes, you want\\nto re-run the \", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \" command. But if nothing changed, this step can be\\nskipped. You can also set \", _jsx(InlineCode, {\n          children: \"--force\"\n        }), \" to force re-running a command, or \", _jsx(InlineCode, {\n          children: \"--dry\"\n        }), \" to\\nperform a â€œdry runâ€ and see what would happen (without actually running the\\nscript).\"]\n      }), _jsxs(_components.p, {\n        children: [\"Since spaCy v3.4.2, \", _jsx(InlineCode, {\n          children: \"spacy projects run\"\n        }), \" checks your installed dependencies to\\nverify that your environment is properly set up and aligns with the projectâ€™s\\n\", _jsx(InlineCode, {\n          children: \"requirements.txt\"\n        }), \", if there is one. If missing or conflicting dependencies are\\ndetected, a corresponding warning is displayed. If youâ€™d like to disable the\\ndependency check, set \", _jsx(InlineCode, {\n          children: \"check_requirements: false\"\n        }), \" in your projectâ€™s\\n\", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \".\"]\n      }), _jsx(_components.h3, {\n        id: \"run-workfow\",\n        children: \"4. Run a workflow \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"workflows:\\n  all:\\n    - preprocess\\n    - train\\n    - package\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Workflows are series of commands that are run in order and often depend on each\\nother. For instance, to generate a pipeline package, you might start by\\nconverting your data, then run \", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \" to train your\\npipeline on the converted data and if thatâ€™s successful, run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#package\",\n          children: _jsx(InlineCode, {\n            children: \"spacy package\"\n          })\n        }), \" to turn the best trained artifact into an\\ninstallable Python package. The following command runs the workflow named \", _jsx(InlineCode, {\n          children: \"all\"\n        }), \"\\ndefined in the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \", and executes the commands it specifies, in order:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project run all\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Using the expected \", _jsx(_components.a, {\n          href: \"#deps-outputs\",\n          children: \"dependencies and outputs\"\n        }), \" defined in the\\ncommands, spaCy can determine whether to re-run a command (if its inputs or\\noutputs have changed) or whether to skip it. If youâ€™re looking to implement more\\nadvanced data pipelines and track your changes in Git, check out the\\n\", _jsx(_components.a, {\n          href: \"#dvc\",\n          children: \"Data Version Control (DVC) integration\"\n        }), \". The\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-dvc\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project dvc\"\n          })\n        }), \" command generates a DVC config file\\nfrom a workflow defined in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" so you can manage your spaCy\\nproject as a DVC repo.\"]\n      }), _jsx(_components.h3, {\n        id: \"push\",\n        children: \"5. Optional: Push to remote storage \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            title: \"project.yml\",\n            children: \"remotes:\\n  default: 's3://my-spacy-bucket'\\n  local: '/mnt/scratch/cache'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"After training a pipeline, you can optionally use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project push\"\n          })\n        }), \" command to upload your outputs to\\na remote storage, using protocols like \", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/s3/\",\n          children: \"S3\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://cloud.google.com/storage\",\n          children: \"Google Cloud Storage\"\n        }), \" or SSH. This can help\\nyou \", _jsx(_components.strong, {\n          children: \"export\"\n        }), \" your pipeline packages, \", _jsx(_components.strong, {\n          children: \"share\"\n        }), \" work with your team, or \", _jsx(_components.strong, {\n          children: \"cache\\nresults\"\n        }), \" to avoid repeating work.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project push\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"remotes\"\n        }), \" section in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" lets you assign names to the\\ndifferent storages. To download state from a remote storage, you can use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-pull\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project pull\"\n          })\n        }), \" command. For more details, see the\\ndocs on \", _jsx(_components.a, {\n          href: \"#remote\",\n          children: \"remote storage\"\n        }), \".\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-directory\",\n      children: [_jsx(_components.h2, {\n        id: \"directory\",\n        children: \"Project directory and assets \"\n      }), _jsx(_components.h3, {\n        id: \"project-yml\",\n        children: \"project.yml \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" defines the assets a project depends on, like datasets and\\npretrained weights, as well as a series of commands that can be run separately\\nor as a workflow â€“ for instance, to preprocess the data, convert it to spaCyâ€™s\\nformat, train a pipeline, evaluate it and export metrics, package it and spin up\\na quick web demo. It looks pretty similar to a config file used to define CI\\npipelines.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Tip: Multi-line YAML syntax for long values\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"YAML has \", _jsx(_components.a, {\n            href: \"https://yaml-multiline.info/\",\n            children: \"multi-line syntax\"\n          }), \" that can be helpful\\nfor readability with longer values such as project descriptions or commands\\nthat take several arguments.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          github: \"https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud/project.yml\",\n          children: \"https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud/project.yml\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Tip: Overriding variables on the CLI\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"If you want to override one or more variables on the CLI and are not already\\nspecifying a project directory, you need to add \", _jsx(InlineCode, {\n            children: \".\"\n          }), \" as a placeholder:\"]\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            lang: \"none\",\n            children: \"python -m spacy project run test . --vars.foo bar\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Tip: Environment Variables\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Commands in a project file are not executed in a shell, so they donâ€™t have\\ndirect access to environment variables. But you can insert environment\\nvariables using the \", _jsx(InlineCode, {\n            children: \"env\"\n          }), \" dictionary to make values available for\\ninterpolation, just like values in \", _jsx(InlineCode, {\n            children: \"vars\"\n          }), \". Hereâ€™s an example \", _jsx(InlineCode, {\n            children: \"env\"\n          }), \" dict that\\nmakes \", _jsx(InlineCode, {\n            children: \"$PATH\"\n          }), \" available as \", _jsx(InlineCode, {\n            children: \"ENV_PATH\"\n          }), \":\"]\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"env:\\n  ENV_PATH: PATH\\n\"\n          })\n        }), \"\\n\", _jsx(_components.p, {\n          children: \"This can be used in a project command like so:\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"- name: 'echo-path'\\n  script:\\n    - 'echo ${env.ENV_PATH}'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Section\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"title\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional project title used in \", _jsx(InlineCode, {\n                children: \"--help\"\n              }), \" message and \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"description\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional project description used in \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"vars\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A dictionary of variables that can be referenced in paths, URLs and scripts and overriden on the CLI, just like \", _jsxs(_components.a, {\n                href: \"/usage/training#config-interpolation\",\n                children: [_jsx(InlineCode, {\n                  children: \"config.cfg\"\n                }), \" variables\"]\n              }), \". For example, \", _jsx(InlineCode, {\n                children: \"${vars.name}\"\n              }), \" will use the value of the variable \", _jsx(InlineCode, {\n                children: \"name\"\n              }), \". Variables need to be defined in the section \", _jsx(InlineCode, {\n                children: \"vars\"\n              }), \", but can be a nested dict, so youâ€™re able to reference \", _jsx(InlineCode, {\n                children: \"${vars.model.name}\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"env\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A dictionary of variables, mapped to the names of environment variables that will be read in when running the project. For example, \", _jsx(InlineCode, {\n                children: \"${env.name}\"\n              }), \" will use the value of the environment variable defined as \", _jsx(InlineCode, {\n                children: \"name\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"directories\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional list of \", _jsx(_components.a, {\n                href: \"#project-files\",\n                children: \"directories\"\n              }), \" that should be created in the project for assets, training outputs, metrics etc. spaCy will make sure that these directories always exist.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"assets\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A list of assets that can be fetched with the \", _jsx(_components.a, {\n                href: \"/api/cli#project-assets\",\n                children: _jsx(InlineCode, {\n                  children: \"project assets\"\n                })\n              }), \" command. \", _jsx(InlineCode, {\n                children: \"url\"\n              }), \" defines a URL or local path, \", _jsx(InlineCode, {\n                children: \"dest\"\n              }), \" is the destination file relative to the project directory, and an optional \", _jsx(InlineCode, {\n                children: \"checksum\"\n              }), \" ensures that an error is raised if the fileâ€™s checksum doesnâ€™t match. Instead of \", _jsx(InlineCode, {\n                children: \"url\"\n              }), \", you can also provide a \", _jsx(InlineCode, {\n                children: \"git\"\n              }), \" block with the keys \", _jsx(InlineCode, {\n                children: \"repo\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"branch\"\n              }), \" and \", _jsx(InlineCode, {\n                children: \"path\"\n              }), \", to download from a Git repo.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"workflows\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A dictionary of workflow names, mapped to a list of command names, to execute in order. Workflows can be run with the \", _jsx(_components.a, {\n                href: \"/api/cli#project-run\",\n                children: _jsx(InlineCode, {\n                  children: \"project run\"\n                })\n              }), \" command.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"commands\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A list of named commands. A command can define an optional help message (shown in the CLI when the user adds \", _jsx(InlineCode, {\n                children: \"--help\"\n              }), \") and the \", _jsx(InlineCode, {\n                children: \"script\"\n              }), \", a list of commands to run. The \", _jsx(InlineCode, {\n                children: \"deps\"\n              }), \" and \", _jsx(InlineCode, {\n                children: \"outputs\"\n              }), \" let you define the created file the command depends on and produces, respectively. This lets spaCy determine whether a command needs to be re-run because its dependencies or outputs changed. Commands can be run as part of a workflow, or separately with the \", _jsx(_components.a, {\n                href: \"/api/cli#project-run\",\n                children: _jsx(InlineCode, {\n                  children: \"project run\"\n                })\n              }), \" command.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy_version\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional spaCy version range like \", _jsx(InlineCode, {\n                children: \">=3.0.0,<3.1.0\"\n              }), \" that the project is compatible with. If itâ€™s loaded with an incompatible version, an error is raised when the project is loaded.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"check_requirements\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.4.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"A flag determining whether to verify that the installed dependencies align with the projectâ€™s \", _jsx(InlineCode, {\n                children: \"requirements.txt\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"true\"\n              }), \".\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"data-assets\",\n        children: \"Data assets \"\n      }), _jsxs(_components.p, {\n        children: [\"Assets are any files that your project might need, like training and development\\ncorpora or pretrained weights for initializing your model. Assets are defined in\\nthe \", _jsx(InlineCode, {\n          children: \"assets\"\n        }), \" block of your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" and can be downloaded using the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-assets\",\n          children: _jsx(InlineCode, {\n            children: \"project assets\"\n          })\n        }), \" command. Defining checksums lets you\\nverify that someone else running your project will use the same files you used.\\nAsset URLs can be a number of different \", _jsx(_components.strong, {\n          children: \"protocols\"\n        }), \": HTTP, HTTPS, FTP, SSH,\\nand even \", _jsx(_components.strong, {\n          children: \"cloud storage\"\n        }), \" such as GCS and S3. You can also download assets from\\na \", _jsx(_components.strong, {\n          children: \"Git repo\"\n        }), \" instead.\"]\n      }), _jsx(_components.h4, {\n        id: \"data-assets-url\",\n        children: \"Downloading from a URL or cloud storage \"\n      }), _jsxs(_components.p, {\n        children: [\"Under the hood, spaCy uses the\\n\", _jsx(_components.a, {\n          href: \"https://github.com/RaRe-Technologies/smart_open\",\n          children: _jsx(InlineCode, {\n            children: \"smart-open\"\n          })\n        }), \" library so you\\ncan use any protocol it supports. Note that you may need to install extra\\ndependencies to use certain protocols.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  # Download from public HTTPS URL\\n  - dest: 'assets/training.spacy'\\n    url: 'https://example.com/data.spacy'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n  # Optional download from Google Cloud Storage bucket\\n  - dest: 'assets/development.spacy'\\n    extra: True\\n    url: 'gs://your-bucket/corpora'\\n    checksum: '5113dc04e03f079525edd8df3f4f39e3'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"dest\"\n              })\n            }), _jsx(_components.td, {\n              children: \"The destination path to save the downloaded asset to (relative to the project directory), including the file name.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"extra\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional flag determining whether this asset is downloaded only if \", _jsx(InlineCode, {\n                children: \"spacy project assets\"\n              }), \" is run with \", _jsx(InlineCode, {\n                children: \"--extra\"\n              }), \". \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \" by default.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"url\"\n              })\n            }), _jsx(_components.td, {\n              children: \"The URL to download from, using the respective protocol.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"checksum\"\n              })\n            }), _jsx(_components.td, {\n              children: \"Optional checksum of the file. If provided, it will be used to verify that the file matches and downloads will be skipped if a local file with the same checksum already exists.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"description\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional asset description, used in \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h4, {\n        id: \"data-assets-git\",\n        children: \"Downloading from a Git repo \"\n      }), _jsxs(_components.p, {\n        children: [\"If a \", _jsx(InlineCode, {\n          children: \"git\"\n        }), \" block is provided, the asset is downloaded from the given Git\\nrepository. You can download from any repo that you have access to. Under the\\nhood, this uses Gitâ€™s â€œsparse checkoutâ€ feature, so youâ€™re only downloading the\\nfiles you need and not the whole repo.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  - dest: 'assets/training.spacy'\\n    git:\\n      repo: 'https://github.com/example/repo'\\n      branch: 'master'\\n      path: 'path/training.spacy'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n    description: 'The training data (5000 examples)'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"dest\"\n              })\n            }), _jsx(_components.td, {\n              children: \"The destination path to save the downloaded asset to (relative to the project directory), including the file name.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"git\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"repo\"\n              }), \": The URL of the repo to download from.\", _jsx(\"br\", {}), _jsx(InlineCode, {\n                children: \"path\"\n              }), \": Path of the file or directory to download, relative to the repo root. \\\"\\\" specifies the root directory.\", _jsx(\"br\", {}), _jsx(InlineCode, {\n                children: \"branch\"\n              }), \": The branch to download from. Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"master\\\"\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"checksum\"\n              })\n            }), _jsx(_components.td, {\n              children: \"Optional checksum of the file. If provided, it will be used to verify that the file matches and downloads will be skipped if a local file with the same checksum already exists.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"description\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional asset description, used in \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h4, {\n        id: \"data-asets-private\",\n        children: \"Working with private assets \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  - dest: 'assets/private_training_data.json'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n  - dest: 'assets/private_vectors.bin'\\n    checksum: '5113dc04e03f079525edd8df3f4f39e3'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"For many projects, the datasets and weights youâ€™re working with might be\\ncompany-internal and not available over the internet. In that case, you can\\nspecify the destination paths and a checksum, and leave out the URL. When your\\nteammates clone and run your project, they can place the files in the respective\\ndirectory themselves. The \", _jsx(_components.a, {\n          href: \"/api/cli#project-assets\",\n          children: _jsx(InlineCode, {\n            children: \"project assets\"\n          })\n        }), \" command\\nwill alert you about missing files and mismatched checksums, so you can ensure\\nthat others are running your project with the same data.\"]\n      }), _jsx(_components.h3, {\n        id: \"deps-outputs\",\n        children: \"Dependencies and outputs \"\n      }), _jsxs(_components.p, {\n        children: [\"Each command defined in the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" can optionally define a list of\\ndependencies and outputs. These are the files the command requires and creates.\\nFor example, a command for training a pipeline may depend on a\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: _jsx(InlineCode, {\n            children: \"config.cfg\"\n          })\n        }), \" and the training and evaluation data, and\\nit will export a directory \", _jsx(InlineCode, {\n          children: \"model-best\"\n        }), \", which you can then re-use in other\\ncommands.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"commands:\\n  - name: train\\n    help: 'Train a spaCy pipeline using the specified corpus and config'\\n    script:\\n      - 'python -m spacy train ./configs/config.cfg -o training/ --paths.train ./corpus/training.spacy --paths.dev ./corpus/evaluation.spacy'\\n    deps:\\n      - 'configs/config.cfg'\\n      - 'corpus/training.spacy'\\n      - 'corpus/evaluation.spacy'\\n    outputs:\\n      - 'training/model-best'\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Re-running vs. skipping\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Under the hood, spaCy uses a \", _jsx(InlineCode, {\n            children: \"project.lock\"\n          }), \" lockfile that stores the details\\nfor each command, as well as its dependencies and outputs and their checksums.\\nItâ€™s updated on each run. If any of this information changes, the command will\\nbe re-run. Otherwise, it will be skipped.\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"If youâ€™re running a command and it depends on files that are missing, spaCy will\\nshow you an error. If a command defines dependencies and outputs that havenâ€™t\\nchanged since the last run, the command will be skipped. This means that youâ€™re\\nonly re-running commands if they need to be re-run. Commands can also set\\n\", _jsx(InlineCode, {\n          children: \"no_skip: true\"\n        }), \" if they should never be skipped â€“ for example commands that run\\ntests. Commands without outputs are also never skipped. To force re-running a\\ncommand or workflow, even if nothing changed, you can set the \", _jsx(InlineCode, {\n          children: \"--force\"\n        }), \" flag.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Note that \", _jsx(_components.a, {\n          href: \"/api/cli#project\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project\"\n          })\n        }), \" doesnâ€™t compile any dependency\\ngraphs based on the dependencies and outputs, and wonâ€™t re-run previous steps\\nautomatically. For instance, if you only run the command \", _jsx(InlineCode, {\n          children: \"train\"\n        }), \" that depends on\\ndata created by \", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \" and those files are missing, spaCy will show an\\nerror â€“ it wonâ€™t just re-run \", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \". If youâ€™re looking for more advanced\\ndata management, check out the \", _jsx(_components.a, {\n          href: \"#dvc\",\n          children: \"Data Version Control (DVC) integration\"\n        }), \".\\nIf youâ€™re planning on integrating your spaCy project with DVC, you can also use\\n\", _jsx(InlineCode, {\n          children: \"outputs_no_cache\"\n        }), \" instead of \", _jsx(InlineCode, {\n          children: \"outputs\"\n        }), \" to define outputs that wonâ€™t be cached\\nor tracked.\"]\n      }), _jsx(_components.h3, {\n        id: \"project-files\",\n        children: \"Files and directory structure \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" can define a list of \", _jsx(InlineCode, {\n          children: \"directories\"\n        }), \" that should be created\\nwithin a project â€“ for instance, \", _jsx(InlineCode, {\n          children: \"assets\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"training\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"corpus\"\n        }), \" and so on. spaCy\\nwill make sure that these directories are always available, so your commands can\\nwrite to and read from them. Project directories will also include all files and\\ndirectories copied from the project template with\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-clone\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project clone\"\n          })\n        }), \". Hereâ€™s an example of a project\\ndirectory:\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"directories: ['assets', 'configs', 'corpus', 'metas', 'metrics', 'notebooks', 'packages', 'scripts', 'training']\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"Example project directory\",\n          children: \"â”œâ”€â”€ project.yml          # the project settings\\nâ”œâ”€â”€ project.lock         # lockfile that tracks inputs/outputs\\nâ”œâ”€â”€ assets/              # downloaded data assets\\nâ”œâ”€â”€ configs/             # pipeline config.cfg files used for training\\nâ”œâ”€â”€ corpus/              # output directory for training corpus\\nâ”œâ”€â”€ metas/               # pipeline meta.json templates used for packaging\\nâ”œâ”€â”€ metrics/             # output directory for evaluation metrics\\nâ”œâ”€â”€ notebooks/           # directory for Jupyter notebooks\\nâ”œâ”€â”€ packages/            # output directory for pipeline Python packages\\nâ”œâ”€â”€ scripts/             # directory for scripts, e.g. referenced in commands\\nâ”œâ”€â”€ training/            # output directory for trained pipelines\\nâ””â”€â”€ ...                  # any other files, like a requirements.txt etc.\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you donâ€™t want a project to create a directory, you can delete it and remove\\nits entry from the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" â€“ just make sure itâ€™s not required by any of\\nthe commands. \", _jsx(_components.a, {\n          href: \"#custom\",\n          children: \"Custom templates\"\n        }), \" can use any directories they need â€“\\nthe only file thatâ€™s required for a project is the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \".\"]\n      }), _jsx(_components.hr, {})]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-custom\",\n      children: [_jsx(_components.h2, {\n        id: \"custom\",\n        children: \"Custom scripts and projects \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" lets you define any custom commands and run them as part of\\nyour training, evaluation or deployment workflows. The \", _jsx(InlineCode, {\n          children: \"script\"\n        }), \" section defines\\na list of commands that are called in a subprocess, in order. This lets you\\nexecute other Python scripts or command-line tools. Letâ€™s say youâ€™ve written a\\nfew integration tests that load the best model produced by the training command\\nand check that it works correctly. You can now define a \", _jsx(InlineCode, {\n          children: \"test\"\n        }), \" command that\\ncalls into \", _jsx(_components.a, {\n          href: \"https://docs.pytest.org/en/latest/\",\n          children: _jsx(InlineCode, {\n            children: \"pytest\"\n          })\n        }), \", runs your tests and\\nuses \", _jsx(_components.a, {\n          href: \"https://github.com/pytest-dev/pytest-html\",\n          children: _jsx(InlineCode, {\n            children: \"pytest-html\"\n          })\n        }), \" to export a test\\nreport:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"commands:\\n  - name: test\\n    help: 'Test the trained pipeline'\\n    script:\\n      - 'pip install pytest pytest-html'\\n      - 'python -m pytest ./scripts/tests --html=metrics/test-report.html'\\n    deps:\\n      - 'training/model-best'\\n    outputs:\\n      - 'metrics/test-report.html'\\n    no_skip: true\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Adding \", _jsx(InlineCode, {\n          children: \"training/model-best\"\n        }), \" to the commandâ€™s \", _jsx(InlineCode, {\n          children: \"deps\"\n        }), \" lets you ensure that the\\nfile is available. If not, spaCy will show an error and the command wonâ€™t run.\\nSetting \", _jsx(InlineCode, {\n          children: \"no_skip: true\"\n        }), \" means that the command will always run, even if the\\ndependencies (the trained pipeline) havenâ€™t changed. This makes sense here,\\nbecause you typically donâ€™t want to skip your tests.\"]\n      }), _jsx(_components.h3, {\n        id: \"custom-scripts\",\n        children: \"Writing custom scripts \"\n      }), _jsxs(_components.p, {\n        children: [\"Your project commands can include any custom scripts â€“ essentially, anything you\\ncan run from the command line. Hereâ€™s an example of a custom script that uses\\n\", _jsx(_components.a, {\n          href: \"https://typer.tiangolo.com/\",\n          children: _jsx(InlineCode, {\n            children: \"typer\"\n          })\n        }), \" for quick and easy command-line arguments\\nthat you can define via your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \":\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"About Typer\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.a, {\n            href: \"https://typer.tiangolo.com/\",\n            children: _jsx(InlineCode, {\n              children: \"typer\"\n            })\n          }), \" is a modern library for building Python\\nCLIs using type hints. Itâ€™s a dependency of spaCy, so it will already be\\npre-installed in your environment. Function arguments automatically become\\npositional CLI arguments and using Python type hints, you can define the value\\ntypes. For instance, \", _jsx(InlineCode, {\n            children: \"batch_size: int\"\n          }), \" means that the value provided via the\\ncommand line is converted to an integer.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"scripts/custom_evaluation.py\",\n          children: \"import typer\\n\\ndef custom_evaluation(batch_size: int = 128, model_path: str, data_path: str):\\n    # The arguments are now available as positional CLI arguments\\n    print(batch_size, model_path, data_path)\\n\\nif __name__ == \\\"__main__\\\":\\n    typer.run(custom_evaluation)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"In your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \", you can then run the script by calling\\n\", _jsx(InlineCode, {\n          children: \"python scripts/custom_evaluation.py\"\n        }), \" with the function arguments. You can also\\nuse the \", _jsx(InlineCode, {\n          children: \"vars\"\n        }), \" section to define reusable variables that will be substituted in\\ncommands, paths and URLs. In this example, the batch size is defined as a\\nvariable will be added in place of \", _jsx(InlineCode, {\n          children: \"${vars.batch_size}\"\n        }), \" in the script. Just like\\nin the \", _jsx(_components.a, {\n          href: \"/usage/training##config-overrides\",\n          children: \"training config\"\n        }), \", you can also\\noverride settings on the command line â€“ for example using \", _jsx(InlineCode, {\n          children: \"--vars.batch_size\"\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Calling into Python\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"If any of your command scripts call into \", _jsx(InlineCode, {\n            children: \"python\"\n          }), \", spaCy will take care of\\nreplacing that with your \", _jsx(InlineCode, {\n            children: \"sys.executable\"\n          }), \", to make sure youâ€™re executing\\neverything with the same Python (not some other Python installed on your\\nsystem). It also normalizes references to \", _jsx(InlineCode, {\n            children: \"python3\"\n          }), \", \", _jsx(InlineCode, {\n            children: \"pip3\"\n          }), \" and \", _jsx(InlineCode, {\n            children: \"pip\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"vars:\\n  batch_size: 128\\n\\ncommands:\\n  - name: evaluate\\n    script:\\n      - 'python scripts/custom_evaluation.py ${vars.batch_size} ./training/model-best ./corpus/eval.json'\\n    deps:\\n      - 'training/model-best'\\n      - 'corpus/eval.json'\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"You can also use the \", _jsx(InlineCode, {\n          children: \"env\"\n        }), \" section to reference \", _jsx(_components.strong, {\n          children: \"environment variables\"\n        }), \" and\\nmake their values available to the commands. This can be useful for overriding\\nsettings on the command line and passing through system-level settings.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Usage example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"export GPU_ID=1\\nBATCH_SIZE=128 python -m spacy project run evaluate\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"env:\\n  batch_size: BATCH_SIZE\\n  gpu_id: GPU_ID\\n\\ncommands:\\n  - name: evaluate\\n    script:\\n      - 'python scripts/custom_evaluation.py ${env.batch_size}'\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"custom-docs\",\n        children: \"Documenting your project \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Readme Example\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"For more examples, see the \", _jsx(_components.a, {\n            href: \"https://github.com/explosion/projects\",\n            children: _jsx(InlineCode, {\n              children: \"projects\"\n            })\n          }), \"\\nrepo.\"]\n        }), \"\\n\", _jsx(_components.img, {\n          src: \"/images/project_document.jpg\",\n          alt: \"Screenshot of auto-generated Markdown Readme\"\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"When your custom project is ready and you want to share it with others, you can\\nuse the \", _jsx(_components.a, {\n          href: \"/api/cli#project-document\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project document\"\n          })\n        }), \" command to\\n\", _jsx(_components.strong, {\n          children: \"auto-generate\"\n        }), \" a pretty, Markdown-formatted \", _jsx(InlineCode, {\n          children: \"README\"\n        }), \" file based on your\\nprojectâ€™s \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \". It will list all commands, workflows and assets defined\\nin the project and include details on how to run the project, as well as links\\nto the relevant spaCy documentation to make it easy for others to get started\\nusing your project.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project document --output README.md\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Under the hood, hidden markers are added to identify where the auto-generated\\ncontent starts and ends. This means that you can add your own custom content\\nbefore or after it and re-running the \", _jsx(InlineCode, {\n          children: \"project document\"\n        }), \" command will \", _jsx(_components.strong, {\n          children: \"only\\nupdate the auto-generated part\"\n        }), \". This makes it easy to keep your documentation\\nup to date.\"]\n      }), _jsx(Infobox, {\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"Note that the contents of an existing file will be \", _jsx(_components.strong, {\n            children: \"replaced\"\n          }), \" if no existing\\nauto-generated docs are found. If you want spaCy to ignore a file and not update\\nit, you can add the comment marker \", _jsx(InlineCode, {\n            children: \"{/* SPACY PROJECT: IGNORE */}\"\n          }), \" anywhere in\\nyour markup.\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"custom-repo\",\n        children: \"Cloning from your own repo \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#project-clone\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project clone\"\n          })\n        }), \" command lets you customize\\nthe repo to clone from using the \", _jsx(InlineCode, {\n          children: \"--repo\"\n        }), \" option. It calls into \", _jsx(InlineCode, {\n          children: \"git\"\n        }), \", so youâ€™ll\\nbe able to clone from any repo that you have access to, including private repos.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"python -m spacy project clone your_project --repo https://github.com/you/repo\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"At a minimum, a valid project template needs to contain a\\n\", _jsx(_components.a, {\n          href: \"#project-yml\",\n          children: _jsx(InlineCode, {\n            children: \"project.yml\"\n          })\n        }), \". It can also include\\n\", _jsx(_components.a, {\n          href: \"/usage/projects#project-files\",\n          children: \"other files\"\n        }), \", like custom scripts, a\\n\", _jsx(InlineCode, {\n          children: \"requirements.txt\"\n        }), \" listing additional dependencies,\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: \"training configs\"\n        }), \" and model meta templates, or Jupyter\\nnotebooks with usage examples.\"]\n      }), _jsx(Infobox, {\n        title: \"Important note about assets\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"Itâ€™s typically not a good idea to check large data assets, trained pipelines or\\nother artifacts into a Git repo and you should exclude them from your project\\ntemplate by adding a \", _jsx(InlineCode, {\n            children: \".gitignore\"\n          }), \". If you want to version your data and models,\\ncheck out \", _jsx(_components.a, {\n            href: \"#dvc\",\n            children: \"Data Version Control\"\n          }), \" (DVC), which integrates with spaCy\\nprojects.\"]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-remote\",\n      children: [_jsx(_components.h2, {\n        id: \"remote\",\n        children: \"Remote Storage \"\n      }), _jsxs(_components.p, {\n        children: [\"You can persist your project outputs to a remote storage using the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" command. This can help you \", _jsx(_components.strong, {\n          children: \"export\"\n        }), \"\\nyour pipeline packages, \", _jsx(_components.strong, {\n          children: \"share\"\n        }), \" work with your team, or \", _jsx(_components.strong, {\n          children: \"cache results\"\n        }), \" to\\navoid repeating work. The \", _jsx(_components.a, {\n          href: \"/api/cli#project-pull\",\n          children: _jsx(InlineCode, {\n            children: \"project pull\"\n          })\n        }), \" command will\\ndownload any outputs that are in the remote storage and arenâ€™t available\\nlocally.\"]\n      }), _jsxs(_components.p, {\n        children: [\"You can list one or more remotes in the \", _jsx(InlineCode, {\n          children: \"remotes\"\n        }), \" section of your\\n\", _jsx(_components.a, {\n          href: \"#project-yml\",\n          children: _jsx(InlineCode, {\n            children: \"project.yml\"\n          })\n        }), \" by mapping a string name to the URL of the\\nstorage. Under the hood, spaCy uses\\n\", _jsx(_components.a, {\n          href: \"https://github.com/justindujardin/pathy\",\n          children: _jsx(InlineCode, {\n            children: \"Pathy\"\n          })\n        }), \" to communicate with the\\nremote storages, so you can use any protocol that \", _jsx(InlineCode, {\n          children: \"Pathy\"\n        }), \" supports, including\\n\", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/s3/\",\n          children: \"S3\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://cloud.google.com/storage\",\n          children: \"Google Cloud Storage\"\n        }), \", and the local\\nfilesystem, although you may need to install extra dependencies to use certain\\nprotocols.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project pull local\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"remotes:\\n  default: 's3://my-spacy-bucket'\\n  local: '/mnt/scratch/cache'\\n\"\n        })\n      }), _jsxs(Infobox, {\n        title: \"How it works\",\n        emoji: \"ðŸ’¡\",\n        children: [_jsxs(_components.p, {\n          children: [\"Inside the remote storage, spaCy uses a clever \", _jsx(_components.strong, {\n            children: \"directory structure\"\n          }), \" to avoid\\noverwriting files. The top level of the directory structure is a URL-encoded\\nversion of the outputâ€™s path. Within this directory are subdirectories named\\naccording to a hash of the command string and the commandâ€™s dependencies.\\nFinally, within those directories are files, named according to an MD5 hash of\\ntheir contents.\"]\n        }), _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"â””â”€â”€ urlencoded_file_path            # Path of original file\\n    â”œâ”€â”€ some_command_hash           # Hash of command you ran\\n    â”‚   â”œâ”€â”€ some_content_hash       # Hash of file content\\n    â”‚   â””â”€â”€ another_content_hash\\n    â””â”€â”€ another_command_hash\\n        â””â”€â”€ third_content_hash\\n\"\n          })\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"For instance, letâ€™s say you had the following command in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"- name: train\\n  help: 'Train a spaCy pipeline using the specified corpus and config'\\n  script:\\n    - 'spacy train ./config.cfg --output training/'\\n  deps:\\n    - 'corpus/train'\\n    - 'corpus/dev'\\n    - 'config.cfg'\\n  outputs:\\n    - 'training/model-best'\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            lang: \"none\",\n            children: \"â””â”€â”€ s3://my-spacy-bucket/training%2Fmodel-best\\n    â””â”€â”€ 1d8cb33a06cc345ad3761c6050934a1b\\n        â””â”€â”€ d8e20c3537a084c5c10d95899fe0b1ff\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"After you finish training, you run \", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" to\\nmake sure the \", _jsx(InlineCode, {\n          children: \"training/model-best\"\n        }), \" output is saved to remote storage. spaCy\\nwill then construct a hash from your command script and the listed dependencies,\\n\", _jsx(InlineCode, {\n          children: \"corpus/train\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"corpus/dev\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"config.cfg\"\n        }), \", in order to identify the\\nexecution context of your output. It would then compute an MD5 hash of the\\n\", _jsx(InlineCode, {\n          children: \"training/model-best\"\n        }), \" directory, and use those three pieces of information to\\nconstruct the storage URL.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project run train\\n$ python -m spacy project push\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you change the command or one of its dependencies (for instance, by editing\\nthe \", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: _jsx(InlineCode, {\n            children: \"config.cfg\"\n          })\n        }), \" file to tune the hyperparameters, a\\ndifferent creation hash will be calculated, so when you use\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" you wonâ€™t be overwriting your previous\\nfile. The system even supports multiple outputs for the same file and the same\\ncontext, which can happen if your training process is not deterministic, or if\\nyou have dependencies that arenâ€™t represented in the command.\"]\n      }), _jsxs(_components.p, {\n        children: [\"In summary, the \", _jsx(_components.a, {\n          href: \"/api/cli#project\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project\"\n          })\n        }), \" remote storages are designed\\nto make a particular set of trade-offs. Priority is placed on \", _jsx(_components.strong, {\n          children: \"convenience\"\n        }), \",\\n\", _jsx(_components.strong, {\n          children: \"correctness\"\n        }), \" and \", _jsx(_components.strong, {\n          children: \"avoiding data loss\"\n        }), \". You can use\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" freely, as youâ€™ll never overwrite remote\\nstate, and you donâ€™t have to come up with names or version numbers. However,\\nitâ€™s up to you to manage the size of your remote storage, and to remove files\\nthat are no longer relevant to you.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-integrations\",\n      children: [_jsx(_components.h2, {\n        id: \"integrations\",\n        children: \"Integrations \"\n      }), _jsxs(H3, {\n        id: \"dvc\",\n        children: [\" Data Version Control (DVC)\", _jsx(IntegrationLogo, {\n          name: \"dvc\",\n          title: \"DVC\",\n          width: 70,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsx(_components.p, {\n        children: \"Data assets like training corpora or pretrained weights are at the core of any\\nNLP project, but theyâ€™re often difficult to manage: you canâ€™t just check them\\ninto your Git repo to version and keep track of them. And if you have multiple\\nsteps that depend on each other, like a preprocessing step that generates your\\ntraining data, you need to make sure the data is always up-to-date, and re-run\\nall steps of your process every time, just to be safe.\"\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://dvc.org\",\n          children: \"Data Version Control\"\n        }), \" (DVC) is a standalone open-source tool\\nthat integrates into your workflow like Git, builds a dependency graph for your\\ndata pipelines and tracks and caches your data files. If youâ€™re downloading data\\nfrom an external source, like a storage bucket, DVC can tell whether the\\nresource has changed. It can also determine whether to re-run a step, depending\\non whether its input have changed or not. All metadata can be checked into a Git\\nrepo, so youâ€™ll always be able to reproduce your experiments.\"]\n      }), _jsxs(_components.p, {\n        children: [\"To set up DVC, install the package and initialize your spaCy project as a Git\\nand DVC repo. You can also\\n\", _jsx(_components.a, {\n          href: \"https://dvc.org/doc/install/macos#install-with-pip\",\n          children: \"customize your DVC installation\"\n        }), \"\\nto include support for remote storage like Google Cloud Storage, S3, Azure, SSH\\nand more.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ pip install dvc   # Install DVC\\n$ git init          # Initialize a Git repo\\n$ dvc init          # Initialize a DVC project\\n\"\n        })\n      }), _jsx(Infobox, {\n        title: \"Important note on privacy\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"DVC enables usage analytics by default, so if youâ€™re working in a\\nprivacy-sensitive environment, make sure to\\n\", _jsx(_components.a, {\n            href: \"https://dvc.org/doc/user-guide/analytics#opting-out\",\n            children: _jsx(_components.strong, {\n              children: \"opt-out manually\"\n            })\n          }), \".\"]\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#project-dvc\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project dvc\"\n          })\n        }), \" command creates a \", _jsx(InlineCode, {\n          children: \"dvc.yaml\"\n        }), \"\\nconfig file based on a workflow defined in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \". Whenever you\\nupdate your project, you can re-run the command to update your DVC config. You\\ncan then manage your spaCy project like any other DVC project, run\\n\", _jsx(_components.a, {\n          href: \"https://dvc.org/doc/command-reference/add\",\n          children: _jsx(InlineCode, {\n            children: \"dvc add\"\n          })\n        }), \" to add and track assets\\nand \", _jsx(_components.a, {\n          href: \"https://dvc.org/doc/command-reference/repro\",\n          children: _jsx(InlineCode, {\n            children: \"dvc repro\"\n          })\n        }), \" to reproduce the\\nworkflow or individual commands.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project dvc [project_dir] [workflow_name]\\n\"\n        })\n      }), _jsx(Infobox, {\n        title: \"Important note for multiple workflows\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"DVC currently expects a single workflow per project, so when creating the config\\nwith \", _jsx(_components.a, {\n            href: \"/api/cli#project-dvc\",\n            children: _jsx(InlineCode, {\n              children: \"spacy project dvc\"\n            })\n          }), \", you need to specify the name\\nof a workflow defined in your \", _jsx(InlineCode, {\n            children: \"project.yml\"\n          }), \". You can still use multiple\\nworkflows, but only one can be tracked by DVC.\"]\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"prodigy\",\n        children: [\"Prodigy\", _jsx(IntegrationLogo, {\n          name: \"prodigy\",\n          width: 100,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://prodi.gy\",\n          children: \"Prodigy\"\n        }), \" is a modern annotation tool for creating training\\ndata for machine learning models, developed by us. It integrates with spaCy\\nout-of-the-box and provides many different\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/recipes\",\n          children: \"annotation recipes\"\n        }), \" for a variety of NLP tasks,\\nwith and without a model in the loop. If Prodigy is installed in your project,\\nyou can start the annotation server from your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" for a tight feedback\\nloop between data development and training.\"]\n      }), _jsx(Infobox, {\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"This integration requires \", _jsx(_components.a, {\n            href: \"https://prodi.gy/docs/changelog#v1.11\",\n            children: \"Prodigy v1.11\"\n          }), \"\\nor higher. If youâ€™re using an older version of Prodigy, you can still use your\\nannotations in spaCy v3 by exporting your data with\\n\", _jsx(_components.a, {\n            href: \"https://prodi.gy/docs/recipes#data-to-spacy\",\n            children: _jsx(InlineCode, {\n              children: \"data-to-spacy\"\n            })\n          }), \" and running\\n\", _jsx(_components.a, {\n            href: \"/api/cli#convert\",\n            children: _jsx(InlineCode, {\n              children: \"spacy convert\"\n            })\n          }), \" to convert it to the binary format.\"]\n        })\n      }), _jsx(_components.p, {\n        children: \"The following example shows a workflow for merging and exporting NER annotations\\ncollected with Prodigy and training a spaCy pipeline:\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example usage\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project run all\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"vars:\\n  prodigy:\\n    train_dataset: \\\"fashion_brands_training\\\"\\n    eval_dataset: \\\"fashion_brands_eval\\\"\\n\\nworkflows:\\n  all:\\n    - data-to-spacy\\n    - train_spacy\\n\\ncommands:\\n  - name: \\\"data-to-spacy\\\"\\n    help: \\\"Merge your annotations and create data in spaCy's binary format\\\"\\n    script:\\n      - \\\"python -m prodigy data-to-spacy corpus/ --ner ${vars.prodigy.train_dataset},eval:${vars.prodigy.eval_dataset}\\\"\\n    outputs:\\n      - \\\"corpus/train.spacy\\\"\\n      - \\\"corpus/dev.spacy\\\"\\n  - name: \\\"train_spacy\\\"\\n    help: \\\"Train a named entity recognition model with spaCy\\\"\\n    script:\\n      - \\\"python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy --paths.dev corpus/dev.spacy\\\"\\n    deps:\\n      - \\\"corpus/train.spacy\\\"\\n      - \\\"corpus/dev.spacy\\\"\\n    outputs:\\n      - \\\"training/model-best\\\"\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example train curve output\"\n        }), \"\\n\", _jsx(Image, {\n          src: \"/images/prodigy_train_curve.jpg\",\n          href: \"https://prodi.gy/docs/recipes#train-curve\",\n          alt: \"Screenshot of train curve terminal output\"\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/recipes#train-curve\",\n          children: _jsx(InlineCode, {\n            children: \"train-curve\"\n          })\n        }), \" recipe is another\\ncool workflow you can include in your project. It will run the training with\\ndifferent portions of the data, e.g. 25%, 50%, 75% and 100%. As a rule of thumb,\\nif accuracy increases in the last segment, this could indicate that collecting\\nmore annotations of the same type might improve the model further.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml (excerpt)\",\n          children: \"- name: \\\"train_curve\\\"\\n    help: \\\"Train the model with Prodigy by using different portions of training examples to evaluate if more annotations can potentially improve the performance\\\"\\n    script:\\n      - \\\"python -m prodigy train-curve --ner ${vars.prodigy.train_dataset},eval:${vars.prodigy.eval_dataset} --config configs/${vars.config} --show-plot\\\"\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"You can use the same approach for various types of projects and annotation\\nworkflows, including\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/named-entity-recognition\",\n          children: \"named entity recognition\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/span-categorization\",\n          children: \"span categorization\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/text-classification\",\n          children: \"text classification\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/dependencies-relations\",\n          children: \"dependency parsing\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/recipes#pos\",\n          children: \"part-of-speech tagging\"\n        }), \" or fully\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/custom-recipes\",\n          children: \"custom recipes\"\n        }), \". You can also use spaCy\\nproject templates to quickly start the annotation server to collect more\\nannotations and add them to your Prodigy dataset.\"]\n      }), _jsx(Project, {\n        id: \"integrations/prodigy\",\n        children: _jsx(_components.p, {\n          children: \"Get started with spaCy and Prodigy using our project template. It includes\\ncommands to create a merged training corpus from your Prodigy annotations,\\ntraining and packaging a spaCy pipeline and analyzing if more annotations may\\nimprove performance.\"\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"streamlit\",\n        children: [\"Streamlit\", _jsx(IntegrationLogo, {\n          name: \"streamlit\",\n          width: 150,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://streamlit.io\",\n          children: \"Streamlit\"\n        }), \" is a Python framework for building interactive\\ndata apps. The \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-streamlit\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-streamlit\"\n          })\n        }), \"\\npackage helps you integrate spaCy visualizations into your Streamlit apps and\\nquickly spin up demos to explore your pipelines interactively. It includes a\\nfull embedded visualizer, as well as individual components.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Installation\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ pip install spacy-streamlit --pre\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.img, {\n        src: \"/images/spacy-streamlit.png\",\n        alt: \"Screenshot of the spacy-streamlit package in Streamlit\"\n      }), _jsxs(_components.p, {\n        children: [\"Using \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-streamlit\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-streamlit\"\n          })\n        }), \", your\\nprojects can easily define their own scripts that spin up an interactive\\nvisualizer, using the latest pipeline you trained, or a selection of pipelines\\nso you can compare their results.\"]\n      }), _jsx(Project, {\n        id: \"integrations/streamlit\",\n        children: _jsx(_components.p, {\n          children: \"Get started with spaCy and Streamlit using our project template. It includes a\\nscript to spin up a custom visualizer and commands you can adjust to showcase\\nand explore your own custom trained pipelines.\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example usage\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project run visualize\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"commands:\\n  - name: visualize\\n    help: \\\"Visualize the pipeline's output interactively using Streamlit\\\"\\n    script:\\n      - 'streamlit run ./scripts/visualize.py ./training/model-best \\\"I like Adidas shoes.\\\"'\\n    deps:\\n      - \\\"training/model-best\\\"\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The following script is called from the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" and takes two positional\\ncommand-line argument: a comma-separated list of paths or packages to load the\\npipelines from and an example text to use as the default text.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          github: \"https://github.com/explosion/projects/blob/v3/integrations/streamlit/scripts/visualize.py\",\n          children: \"https://github.com/explosion/projects/blob/v3/integrations/streamlit/scripts/visualize.py\\n\"\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"fastapi\",\n        children: [\"FastAPI\", _jsx(IntegrationLogo, {\n          name: \"fastapi\",\n          width: 100,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://fastapi.tiangolo.com/\",\n          children: \"FastAPI\"\n        }), \" is a modern high-performance framework\\nfor building REST APIs with Python, based on Python\\n\", _jsx(_components.a, {\n          href: \"https://fastapi.tiangolo.com/python-types/\",\n          children: \"type hints\"\n        }), \". Itâ€™s become a popular\\nlibrary for serving machine learning models and you can use it in your spaCy\\nprojects to quickly serve up a trained pipeline and make it available behind a\\nREST API.\"]\n      }), _jsx(Project, {\n        id: \"integrations/fastapi\",\n        children: _jsx(_components.p, {\n          children: \"Get started with spaCy and FastAPI using our project template. It includes a\\nsimple REST API for processing batches of text, and usage examples for how to\\nquery your API from Python and JavaScript (Vanilla JS and React).\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example usage\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project run serve\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"  - name: \\\"serve\\\"\\n    help: \\\"Serve the models via a FastAPI REST API using the given host and port\\\"\\n    script:\\n      - \\\"uvicorn scripts.main:app --reload --host 127.0.0.1 --port 5000\\\"\\n    deps:\\n      - \\\"scripts/main.py\\\"\\n    no_skip: true\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The script included in the template shows a simple REST API with a \", _jsx(InlineCode, {\n          children: \"POST\"\n        }), \"\\nendpoint that accepts batches of texts and returns batches of predictions, e.g.\\nnamed entities found in the documents. Type hints and\\n\", _jsx(_components.a, {\n          href: \"https://github.com/samuelcolvin/pydantic\",\n          children: _jsx(InlineCode, {\n            children: \"pydantic\"\n          })\n        }), \" are used to define the\\nexpected data types.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          github: \"https://github.com/explosion/projects/blob/v3/integrations/fastapi/scripts/main.py\",\n          children: \"https://github.com/explosion/projects/blob/v3/integrations/fastapi/scripts/main.py\\n\"\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"wandb\",\n        children: [\"Weights & Biases\", _jsx(IntegrationLogo, {\n          name: \"wandb\",\n          width: 175,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://www.wandb.com/\",\n          children: \"Weights & Biases\"\n        }), \" is a popular platform for experiment\\ntracking. spaCy integrates with it out-of-the-box via the\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-loggers#wandblogger\",\n          children: _jsx(InlineCode, {\n            children: \"WandbLogger\"\n          })\n        }), \", which\\nyou can add as the \", _jsx(InlineCode, {\n          children: \"[training.logger]\"\n        }), \" block of your training\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: \"config\"\n        }), \". The results of each step are then logged in\\nyour project, together with the full \", _jsx(_components.strong, {\n          children: \"training config\"\n        }), \". This means that\\n\", _jsx(_components.em, {\n          children: \"every\"\n        }), \" hyperparameter, registered function name and argument will be tracked\\nand youâ€™ll be able to see the impact it has on your results.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example config\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[training.logger]\\n@loggers = \\\"spacy.WandbLogger.v3\\\"\\nproject_name = \\\"monitor_spacy_training\\\"\\nremove_config_values = [\\\"paths.train\\\", \\\"paths.dev\\\", \\\"corpora.train.path\\\", \\\"corpora.dev.path\\\"]\\nlog_dataset_dir = \\\"corpus\\\"\\nmodel_log_interval = 1000\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.img, {\n        src: \"/images/wandb1.jpg\",\n        alt: \"Screenshot: Visualized training results\"\n      }), _jsx(_components.img, {\n        src: \"/images/wandb2.jpg\",\n        alt: \"Screenshot: Parameter importance using config values\",\n        title: \"Parameter importance using config values\"\n      }), _jsx(Project, {\n        id: \"integrations/wandb\",\n        children: _jsxs(_components.p, {\n          children: [\"Get started with tracking your spaCy training runs in Weights & Biases using our\\nproject template. It trains on the IMDB Movie Review Dataset and includes a\\nsimple config with the built-in \", _jsx(InlineCode, {\n            children: \"WandbLogger\"\n          }), \", as well as a custom example of\\ncreating variants of the config for a simple hyperparameter grid search and\\nlogging the results.\"]\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"huggingface_hub\",\n        children: [\"Hugging Face Hub\", _jsx(IntegrationLogo, {\n          name: \"huggingface_hub\",\n          width: 175,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"https://huggingface.co/\",\n          children: \"Hugging Face Hub\"\n        }), \" lets you upload models and share\\nthem with others. It hosts models as Git-based repositories which are storage\\nspaces that can contain all your files. It support versioning, branches and\\ncustom metadata out-of-the-box, and provides browser-based visualizers for\\nexploring your models interactively, as well as an API for production use. The\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-huggingface-hub\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-huggingface-hub\"\n          })\n        }), \"\\npackage automatically adds the \", _jsx(InlineCode, {\n          children: \"huggingface-hub\"\n        }), \" command to your \", _jsx(InlineCode, {\n          children: \"spacy\"\n        }), \" CLI if\\nitâ€™s installed.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Installation\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ pip install spacy-huggingface-hub\\n# Check that the CLI is registered\\n$ python -m spacy huggingface-hub --help\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"You can then upload any pipeline packaged with\\n\", _jsx(_components.a, {\n          href: \"/api/cli#package\",\n          children: _jsx(InlineCode, {\n            children: \"spacy package\"\n          })\n        }), \". Make sure to set \", _jsx(InlineCode, {\n          children: \"--build wheel\"\n        }), \" to output\\na binary \", _jsx(InlineCode, {\n          children: \".whl\"\n        }), \" file. The uploader will read all metadata from the pipeline\\npackage, including the auto-generated pretty \", _jsx(InlineCode, {\n          children: \"README.md\"\n        }), \" and the model details\\navailable in the \", _jsx(InlineCode, {\n          children: \"meta.json\"\n        }), \". For examples, check out the\\n\", _jsx(_components.a, {\n          href: \"https://huggingface.co/spacy\",\n          children: \"spaCy pipelines\"\n        }), \" weâ€™ve uploaded.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ huggingface-cli login\\n$ python -m spacy package ./en_ner_fashion ./output --build wheel\\n$ cd ./output/en_ner_fashion-0.0.0/dist\\n$ python -m spacy huggingface-hub push en_ner_fashion-0.0.0-py3-none-any.whl\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"After uploading, you will see the live URL of your pipeline packages, as well as\\nthe direct URL to the model wheel you can install via \", _jsx(InlineCode, {\n          children: \"pip install\"\n        }), \". Youâ€™ll also\\nbe able to test your pipeline interactively from your browser:\"]\n      }), _jsx(_components.img, {\n        src: \"/images/huggingface_hub.jpg\",\n        alt: \"Screenshot: interactive NER visualizer\"\n      }), _jsxs(_components.p, {\n        children: [\"In your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \", you can add a command that uploads your trained and\\npackaged pipeline to the hub. You can either run this as a manual step, or\\nautomatically as part of a workflow. Make sure to set \", _jsx(InlineCode, {\n          children: \"--build wheel\"\n        }), \" when\\nrunning \", _jsx(InlineCode, {\n          children: \"spacy package\"\n        }), \" to build a wheel file for your pipeline package.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"- name: \\\"push_to_hub\\\"\\n  help: \\\"Upload the trained model to the Hugging Face Hub\\\"\\n  script:\\n    - \\\"python -m spacy huggingface-hub push packages/en_${vars.name}-${vars.version}/dist/en_${vars.name}-${vars.version}-py3-none-any.whl\\\"\\n  deps:\\n    - \\\"packages/en_${vars.name}-${vars.version}/dist/en_${vars.name}-${vars.version}-py3-none-any.whl\\\"\\n\"\n        })\n      }), _jsx(Project, {\n        id: \"integrations/huggingface_hub\",\n        children: _jsx(_components.p, {\n          children: \"Get started with uploading your models to the Hugging Face hub using our project\\ntemplate. It trains a simple pipeline, packages it and uploads it if the\\npackaged model has changed. This makes it easy to deploy your models end-to-end.\"\n        })\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"Projects","version":3,"menu":[["Intro & Workflow","intro"],["Directory & Assets","directory"],["Custom Projects","custom"],["Remote Storage","remote"],["Integrations","integrations"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":{"slug":"/usage/saving-loading","title":"Saving & Loading"}},"__N_SSG":true}