<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>What&#x27;s New in v3.3 Â· spaCy Usage Documentation</title><meta name="description" content="New features and how to upgrade"/><meta property="og:title" content="What&#x27;s New in v3.3 Â· spaCy Usage Documentation"/><meta property="og:description" content="New features and how to upgrade"/><meta property="og:type" content="website"/><meta property="og:site_name" content="What&#x27;s New in v3.3"/><meta property="og:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="What&#x27;s New in v3.3 Â· spaCy Usage Documentation"/><meta name="twitter:description" content="New features and how to upgrade"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ee1fab0e25bb912e.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_buildManifest.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-blue"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>ðŸ’¥ Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage" selected="">Usage</option><option value="/models">Models</option><option value="/api">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Get started</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/usage">Get started<!-- --> â€º <!-- -->Installation</option><option value="/usage/models">Get started<!-- --> â€º <!-- -->Models &amp; Languages</option><option value="/usage/facts-figures">Get started<!-- --> â€º <!-- -->Facts &amp; Figures</option><option value="/usage/spacy-101">Get started<!-- --> â€º <!-- -->spaCy 101</option><option value="/usage/v3">Get started<!-- --> â€º <!-- -->New in v3.0</option><option value="/usage/v3-1">Get started<!-- --> â€º <!-- -->New in v3.1</option><option value="/usage/v3-2">Get started<!-- --> â€º <!-- -->New in v3.2</option><option value="/usage/v3-3" selected="">Get started<!-- --> â€º <!-- -->New in v3.3</option><option value="/usage/v3-4">Get started<!-- --> â€º <!-- -->New in v3.4</option><option value="/usage/v3-5">Get started<!-- --> â€º <!-- -->New in v3.5</option><option value="/usage/linguistic-features">Guides<!-- --> â€º <!-- -->Linguistic Features</option><option value="/usage/rule-based-matching">Guides<!-- --> â€º <!-- -->Rule-based Matching</option><option value="/usage/processing-pipelines">Guides<!-- --> â€º <!-- -->Processing Pipelines</option><option value="/usage/embeddings-transformers">Guides<!-- --> â€º <!-- -->Embeddings &amp; Transformers</option><option value="/usage/training">Guides<!-- --> â€º <!-- -->Training Models</option><option value="/usage/layers-architectures">Guides<!-- --> â€º <!-- -->Layers &amp; Model Architectures</option><option value="/usage/projects">Guides<!-- --> â€º <!-- -->spaCy Projects</option><option value="/usage/saving-loading">Guides<!-- --> â€º <!-- -->Saving &amp; Loading</option><option value="/usage/visualizers">Guides<!-- --> â€º <!-- -->Visualizers</option><option value="https://github.com/explosion/projects">Resources<!-- --> â€º <!-- -->Project Templates</option><option value="https://v2.spacy.io">Resources<!-- --> â€º <!-- -->v2.x Documentation</option><option value="https://explosion.ai/custom-solutions">Resources<!-- --> â€º <!-- -->Custom Solutions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Get started</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage">Installation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/models">Models &amp; Languages</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/facts-figures">Facts &amp; Figures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/spacy-101">spaCy 101</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3">New in v3.0</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-1">New in v3.1</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-2">New in v3.2</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/usage/v3-3">New in v3.3</a><ul class="sidebar_crumbs__NhM2y"><li class="sidebar_crumb__tiiDl sidebar_crumb-active__zq8BI"><a href="#features">New Features</a></li><li class="sidebar_crumb__tiiDl"><a href="#upgrading">Upgrading Notes</a></li></ul></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-4">New in v3.4</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-5">New in v3.5</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Guides</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/linguistic-features">Linguistic Features</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/rule-based-matching">Rule-based Matching</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/processing-pipelines">Processing Pipelines</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/embeddings-transformers">Embeddings &amp; Transformers<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/training">Training Models<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/layers-architectures">Layers &amp; Model Architectures<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/projects">spaCy Projects<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/saving-loading">Saving &amp; Loading</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/visualizers">Visualizers</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Resources</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects">Project Templates</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://v2.spacy.io">v2.x Documentation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">What&#x27;s New in v3.3<!-- --> </span></h1><div class="heading-teaser title_teaser__QhwCH">New features and how to upgrade</div></header><section id="section-features" class="section_root__k1hUl"><p>spaCy v3.3 improves the speed of core pipeline components, adds a new trainable
lemmatizer, and introduces trained pipelines for Finnish, Korean and Swedish.</p><h3 id="speed" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#speed" class="heading-text typography_permalink__UiIRy">Speed improvements <!-- --> </a></h3><p>v3.3 includes a slew of speed improvements:</p><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">Speed up parser and NER by using constant-time head lookups.</li>
<li class="list_li__sfx_z">Support unnormalized softmax probabilities in <code class="code_inline-code__Bq7ot">spacy.Tagger.v2</code> to speed up
inference for tagger, morphologizer, senter and trainable lemmatizer.</li>
<li class="list_li__sfx_z">Speed up parser projectivization functions.</li>
<li class="list_li__sfx_z">Replace <code class="code_inline-code__Bq7ot">Ragged</code> with faster <code class="code_inline-code__Bq7ot">AlignmentArray</code> in <code class="code_inline-code__Bq7ot">Example</code> for training.</li>
<li class="list_li__sfx_z">Improve <code class="code_inline-code__Bq7ot">Matcher</code> speed.</li>
<li class="list_li__sfx_z">Improve serialization speed for empty <code class="code_inline-code__Bq7ot">Doc.spans</code>.</li>
</ul><p>For longer texts, the trained pipeline speeds improve <strong>15%</strong> or more in
prediction. We benchmarked <code class="code_inline-code__Bq7ot">en_core_web_md</code> (same components as in v3.2) and
<code class="code_inline-code__Bq7ot">de_core_news_md</code> (with the new trainable lemmatizer) across a range of text
sizes on Linux (Intel Xeon W-2265) and OS X (M1) to compare spaCy v3.2 vs. v3.3:</p><p><strong>Intel Xeon W-2265</strong></p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8" align="left">Model</th><th class="table_th__QJ9F8" align="right">Avg. Words/Doc</th><th class="table_th__QJ9F8" align="right">v3.2 Words/Sec</th><th class="table_th__QJ9F8" align="right">v3.3 Words/Sec</th><th class="table_th__QJ9F8" align="right">Diff</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx" align="left"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_md"><code class="code_inline-code__Bq7ot">en_core_web_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">100</td><td class="table_td__rmpJx table_num__mTxMB" align="right">17292</td><td class="table_td__rmpJx table_num__mTxMB" align="right">17441</td><td class="table_td__rmpJx" align="right">0.86%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx" align="left">(=same components)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">1000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">15408</td><td class="table_td__rmpJx table_num__mTxMB" align="right">16024</td><td class="table_td__rmpJx" align="right">4.00%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx" align="left"></td><td class="table_td__rmpJx table_num__mTxMB" align="right">10000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">12798</td><td class="table_td__rmpJx table_num__mTxMB" align="right">15346</td><td class="table_td__rmpJx" align="right">19.91%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx" align="left"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/de#de_core_news_md"><code class="code_inline-code__Bq7ot">de_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">100</td><td class="table_td__rmpJx table_num__mTxMB" align="right">20221</td><td class="table_td__rmpJx table_num__mTxMB" align="right">19321</td><td class="table_td__rmpJx" align="right">-4.45%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx" align="left">(+v3.3 trainable lemmatizer)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">1000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">17480</td><td class="table_td__rmpJx table_num__mTxMB" align="right">17345</td><td class="table_td__rmpJx" align="right">-0.77%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx" align="left"></td><td class="table_td__rmpJx table_num__mTxMB" align="right">10000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">14513</td><td class="table_td__rmpJx table_num__mTxMB" align="right">17036</td><td class="table_td__rmpJx" align="right">17.38%</td></tr></tbody></table><p><strong>Apple M1</strong></p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Model</th><th class="table_th__QJ9F8" align="right">Avg. Words/Doc</th><th class="table_th__QJ9F8" align="right">v3.2 Words/Sec</th><th class="table_th__QJ9F8" align="right">v3.3 Words/Sec</th><th class="table_th__QJ9F8" align="right">Diff</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_md"><code class="code_inline-code__Bq7ot">en_core_web_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">100</td><td class="table_td__rmpJx table_num__mTxMB" align="right">18272</td><td class="table_td__rmpJx table_num__mTxMB" align="right">18408</td><td class="table_td__rmpJx" align="right">0.74%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">(=same components)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">1000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">18794</td><td class="table_td__rmpJx table_num__mTxMB" align="right">19248</td><td class="table_td__rmpJx" align="right">2.42%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"></td><td class="table_td__rmpJx table_num__mTxMB" align="right">10000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">15144</td><td class="table_td__rmpJx table_num__mTxMB" align="right">17513</td><td class="table_td__rmpJx" align="right">15.64%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/de#de_core_news_md"><code class="code_inline-code__Bq7ot">de_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">100</td><td class="table_td__rmpJx table_num__mTxMB" align="right">19227</td><td class="table_td__rmpJx table_num__mTxMB" align="right">19591</td><td class="table_td__rmpJx" align="right">1.89%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">(+v3.3 trainable lemmatizer)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">1000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">20047</td><td class="table_td__rmpJx table_num__mTxMB" align="right">20628</td><td class="table_td__rmpJx" align="right">2.90%</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"></td><td class="table_td__rmpJx table_num__mTxMB" align="right">10000</td><td class="table_td__rmpJx table_num__mTxMB" align="right">15921</td><td class="table_td__rmpJx table_num__mTxMB" align="right">18546</td><td class="table_td__rmpJx" align="right">16.49%</td></tr></tbody></table><h3 id="trainable-lemmatizer" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#trainable-lemmatizer" class="heading-text typography_permalink__UiIRy">Trainable lemmatizer <!-- --> </a></h3><p>The new <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/edittreelemmatizer"><span class="link_source-text__VDP74">trainable lemmatizer</span></a> component uses
<a class="link_root__1Me7D" href="https://explosion.ai/blog/edit-tree-lemmatizer">edit trees</a> to transform tokens
into lemmas. Try out the trainable lemmatizer with the
<a class="link_root__1Me7D" href="/usage/training#quickstart">training quickstart</a>!</p><h3 id="displacy" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#displacy" class="heading-text typography_permalink__UiIRy">displaCy support for overlapping spans and arcs <!-- --> </a></h3><p>displaCy now supports overlapping spans with a new
<a class="link_root__1Me7D" href="/usage/visualizers#span"><code class="code_inline-code__Bq7ot">span</code></a> style and multiple arcs with different labels
between the same tokens for <a class="link_root__1Me7D" href="/usage/visualizers#dep"><code class="code_inline-code__Bq7ot">dep</code></a> visualizations.</p><p>Overlapping spans can be visualized for any spans key in <code class="code_inline-code__Bq7ot">doc.spans</code>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre><iframe class="embed_standalone__RHbIL" title="displaCy visualizer for overlapping spans" src="/images/displacy-span.html" width="800" height="180" allowfullscreen="" frameBorder="0"></iframe></section>
<section class="section_root__k1hUl"><h2 class="typography_heading__D82WZ typography_h2__hzV3h"><span class="heading-text">Additional features and improvements<!-- --> </span></h2><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">Config comparisons with <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug-diff"><code class="code_inline-code__Bq7ot">spacy debug diff-config</code></a>.</li>
<li class="list_li__sfx_z">Span suggester debugging with
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/spancategorizer#set_candidates"><code class="code_inline-code__Bq7ot code_wrap__b41os">SpanCategorizer.set_candidates</code></a>.</li>
<li class="list_li__sfx_z">Big endian support with
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/andrewsi-z/thinc-bigendian-ops"><code class="code_inline-code__Bq7ot">thinc-bigendian-ops</code></a> and
updates to make <code class="code_inline-code__Bq7ot">floret</code>, <code class="code_inline-code__Bq7ot">murmurhash</code>, Thinc and spaCy endian neutral.</li>
<li class="list_li__sfx_z">Initial support for Lower Sorbian and Upper Sorbian.</li>
<li class="list_li__sfx_z">Language updates for English, French, Italian, Japanese, Korean, Norwegian,
Russian, Slovenian, Spanish, Turkish, Ukrainian and Vietnamese.</li>
<li class="list_li__sfx_z">New noun chunks for Finnish.</li>
</ul></section>
<section id="section-pipelines" class="section_root__k1hUl"><h2 id="pipelines" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#pipelines" class="heading-text typography_permalink__UiIRy">Trained pipelines <!-- --> </a></h2><h3 id="new-pipelines" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#new-pipelines" class="heading-text typography_permalink__UiIRy">New trained pipelines <!-- --> </a></h3><p>v3.3 introduces new CPU/CNN pipelines for Finnish, Korean and Swedish, which use
the new trainable lemmatizer and
<a class="link_root__1Me7D link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/floret"><span class="link_source-text__VDP74">floret vectors</span></a>. Due to the use
<a class="link_root__1Me7D" href="https://explosion.ai/blog/bloom-embeddings">Bloom embeddings</a> and subwords, the
pipelines have compact vectors with no out-of-vocabulary words.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Package</th><th class="table_th__QJ9F8">Language</th><th class="table_th__QJ9F8" align="right">UPOS</th><th class="table_th__QJ9F8" align="right">Parser LAS</th><th class="table_th__QJ9F8" align="right">NER F</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/fi#fi_core_news_sm"><code class="code_inline-code__Bq7ot">fi_core_news_sm</code></a></td><td class="table_td__rmpJx">Finnish</td><td class="table_td__rmpJx table_num__mTxMB" align="right">92.5</td><td class="table_td__rmpJx table_num__mTxMB" align="right">71.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">75.9</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/fi#fi_core_news_md"><code class="code_inline-code__Bq7ot">fi_core_news_md</code></a></td><td class="table_td__rmpJx">Finnish</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">78.6</td><td class="table_td__rmpJx table_num__mTxMB" align="right">80.6</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/fi#fi_core_news_lg"><code class="code_inline-code__Bq7ot">fi_core_news_lg</code></a></td><td class="table_td__rmpJx">Finnish</td><td class="table_td__rmpJx table_num__mTxMB" align="right">96.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">79.4</td><td class="table_td__rmpJx table_num__mTxMB" align="right">82.4</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/ko#ko_core_news_sm"><code class="code_inline-code__Bq7ot">ko_core_news_sm</code></a></td><td class="table_td__rmpJx">Korean</td><td class="table_td__rmpJx table_num__mTxMB" align="right">86.1</td><td class="table_td__rmpJx table_num__mTxMB" align="right">65.6</td><td class="table_td__rmpJx table_num__mTxMB" align="right">71.3</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/ko#ko_core_news_md"><code class="code_inline-code__Bq7ot">ko_core_news_md</code></a></td><td class="table_td__rmpJx">Korean</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">80.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">83.1</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/ko#ko_core_news_lg"><code class="code_inline-code__Bq7ot">ko_core_news_lg</code></a></td><td class="table_td__rmpJx">Korean</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">81.3</td><td class="table_td__rmpJx table_num__mTxMB" align="right">85.3</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/sv#sv_core_news_sm"><code class="code_inline-code__Bq7ot">sv_core_news_sm</code></a></td><td class="table_td__rmpJx">Swedish</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.0</td><td class="table_td__rmpJx table_num__mTxMB" align="right">75.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">74.7</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/sv#sv_core_news_md"><code class="code_inline-code__Bq7ot">sv_core_news_md</code></a></td><td class="table_td__rmpJx">Swedish</td><td class="table_td__rmpJx table_num__mTxMB" align="right">96.3</td><td class="table_td__rmpJx table_num__mTxMB" align="right">78.5</td><td class="table_td__rmpJx table_num__mTxMB" align="right">79.3</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/sv#sv_core_news_lg"><code class="code_inline-code__Bq7ot">sv_core_news_lg</code></a></td><td class="table_td__rmpJx">Swedish</td><td class="table_td__rmpJx table_num__mTxMB" align="right">96.3</td><td class="table_td__rmpJx table_num__mTxMB" align="right">79.1</td><td class="table_td__rmpJx table_num__mTxMB" align="right">81.1</td></tr></tbody></table><h3 id="pipeline-updates" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#pipeline-updates" class="heading-text typography_permalink__UiIRy">Pipeline updates <!-- --> </a></h3><p>The following languages switch from lookup or rule-based lemmatizers to the new
trainable lemmatizer: Danish, Dutch, German, Greek, Italian, Lithuanian,
Norwegian, Polish, Portuguese and Romanian. The overall lemmatizer accuracy
improves for all of these pipelines, but be aware that the types of errors may
look quite different from the lookup-based lemmatizers. If youâ€™d prefer to
continue using the previous lemmatizer, you can
<a class="link_root__1Me7D" href="/models#design-modify">switch from the trainable lemmatizer to a non-trainable lemmatizer</a>.</p><figure><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Model</th><th class="table_th__QJ9F8" align="right">v3.2 Lemma Acc</th><th class="table_th__QJ9F8" align="right">v3.3 Lemma Acc</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/da#da_core_news_md"><code class="code_inline-code__Bq7ot">da_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">84.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.8</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/de#de_core_news_md"><code class="code_inline-code__Bq7ot">de_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">73.4</td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.7</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/el#el_core_news_md"><code class="code_inline-code__Bq7ot">el_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">56.5</td><td class="table_td__rmpJx table_num__mTxMB" align="right">88.9</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/fi#fi_core_news_md"><code class="code_inline-code__Bq7ot">fi_core_news_md</code></a></td><td class="table_td__rmpJx" align="right">-</td><td class="table_td__rmpJx table_num__mTxMB" align="right">86.2</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/it#it_core_news_md"><code class="code_inline-code__Bq7ot">it_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">86.6</td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.2</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/ko#ko_core_news_md"><code class="code_inline-code__Bq7ot">ko_core_news_md</code></a></td><td class="table_td__rmpJx" align="right">-</td><td class="table_td__rmpJx table_num__mTxMB" align="right">90.0</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/lt#lt_core_news_md"><code class="code_inline-code__Bq7ot">lt_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">71.1</td><td class="table_td__rmpJx table_num__mTxMB" align="right">84.8</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/nb#nb_core_news_md"><code class="code_inline-code__Bq7ot">nb_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">76.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.1</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/nl#nl_core_news_md"><code class="code_inline-code__Bq7ot">nl_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">81.5</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.0</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/pl#pl_core_news_md"><code class="code_inline-code__Bq7ot">pl_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">87.1</td><td class="table_td__rmpJx table_num__mTxMB" align="right">93.7</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/pt#pt_core_news_md"><code class="code_inline-code__Bq7ot">pt_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">76.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">96.9</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/ro#ro_core_news_md"><code class="code_inline-code__Bq7ot">ro_core_news_md</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">81.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.5</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/sv#sv_core_news_md"><code class="code_inline-code__Bq7ot">sv_core_news_md</code></a></td><td class="table_td__rmpJx" align="right">-</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.5</td></tr></tbody></table></figure><p>In addition, the vectors in the English pipelines are deduplicated to improve
the pruned vectors in the <code class="code_inline-code__Bq7ot">md</code> models and reduce the <code class="code_inline-code__Bq7ot">lg</code> model size.</p></section>
<section id="section-upgrading" class="section_root__k1hUl"><h2 id="upgrading" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#upgrading" class="heading-text typography_permalink__UiIRy">Notes about upgrading from v3.2 <!-- --> </a></h2><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Span comparisons<!-- --> </span></h3><p>Span comparisons involving ordering (<code class="code_inline-code__Bq7ot">&lt;</code>, <code class="code_inline-code__Bq7ot">&lt;=</code>, <code class="code_inline-code__Bq7ot">&gt;</code>, <code class="code_inline-code__Bq7ot">&gt;=</code>) now take all span
attributes into account (start, end, label, and KB ID) so spans may be sorted in
a slightly different order.</p><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Whitespace annotation<!-- --> </span></h3><p>During training, annotation on whitespace tokens is handled in the same way as
annotation on non-whitespace tokens in order to allow custom whitespace
annotation.</p><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Doc.from_docs<!-- --> </span></h3><p><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#from_docs"><code class="code_inline-code__Bq7ot">Doc.from_docs</code></a> now includes <code class="code_inline-code__Bq7ot">Doc.tensor</code> by default and
supports excludes with an <code class="code_inline-code__Bq7ot">exclude</code> argument in the same format as
<code class="code_inline-code__Bq7ot">Doc.to_bytes</code>. The supported exclude fields are <code class="code_inline-code__Bq7ot">spans</code>, <code class="code_inline-code__Bq7ot">tensor</code> and
<code class="code_inline-code__Bq7ot">user_data</code>.</p><p>Docs including <code class="code_inline-code__Bq7ot">Doc.tensor</code> may be quite a bit larger in RAM, so to exclude
<code class="code_inline-code__Bq7ot">Doc.tensor</code> as in v3.2:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Using trained pipelines with floret vectors<!-- --> </span></h3><p>If youâ€™re running a new trained pipeline for Finnish, Korean or Swedish on new
texts and working with <code class="code_inline-code__Bq7ot">Doc</code> objects, you shouldnâ€™t notice any difference with
floret vectors vs. default vectors.</p><p>If you use vectors for similarity comparisons, there are a few differences,
mainly because a floret pipeline doesnâ€™t include any kind of frequency-based
word list similar to the list of in-vocabulary vector keys with default vectors.</p><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">
<p>If your workflow iterates over the vector keys, you should use an external
word list instead:</p>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre>
</li>
<li class="list_li__sfx_z">
<p><code class="code_inline-code__Bq7ot">Vectors.most_similar</code> is not supported because thereâ€™s no fixed list of
vectors to compare your vectors to.</p>
</li>
</ul><h3 id="version-compat" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#version-compat" class="heading-text typography_permalink__UiIRy">Pipeline package version compatibility <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Using legacy implementations<!-- --> </span></h4>
<p>In spaCy v3, youâ€™ll still be able to load and reference legacy implementations
via <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-legacy"><code class="code_inline-code__Bq7ot">spacy-legacy</code></a>, even if the
components or architectures change and newer versions are available in the
core library.</p>
</div></div></aside><p>When youâ€™re loading a pipeline package trained with an earlier version of spaCy
v3, you will see a warning telling you that the pipeline may be incompatible.
This doesnâ€™t necessarily have to be true, but we recommend running your
pipelines against your test suite or evaluation data to make sure there are no
unexpected results.</p><p>If youâ€™re using one of the <a class="link_root__1Me7D" href="/models">trained pipelines</a> we provide, you should
run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#download"><code class="code_inline-code__Bq7ot">spacy download</code></a> to update to the latest version. To
see an overview of all installed packages and their compatibility, you can run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#validate"><code class="code_inline-code__Bq7ot">spacy validate</code></a>.</p><p>If youâ€™ve trained your own custom pipeline and youâ€™ve confirmed that itâ€™s still
working as expected, you can update the spaCy version requirements in the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#meta"><code class="code_inline-code__Bq7ot">meta.json</code></a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Updating v3.2 configs<!-- --> </span></h3><p>To update a config from spaCy v3.2 with the new v3.3 settings, run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-fill-config"><code class="code_inline-code__Bq7ot">init fill-config</code></a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>In many cases (<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">spacy train</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.load"><code class="code_inline-code__Bq7ot">spacy.load</code></a>), the new defaults will be filled in
automatically, but youâ€™ll need to fill in the new settings to run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug"><code class="code_inline-code__Bq7ot">debug config</code></a> and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug-data"><code class="code_inline-code__Bq7ot">debug data</code></a>.</p><p>To see the speed improvements for the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#Tagger"><code class="code_inline-code__Bq7ot">Tagger</code> architecture</a>, edit your config to switch
from <code class="code_inline-code__Bq7ot">spacy.Tagger.v1</code> to <code class="code_inline-code__Bq7ot">spacy.Tagger.v2</code> and then run <code class="code_inline-code__Bq7ot">init fill-config</code>.</p></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/usage/v3-3.mdx">Suggest edits</a></div><a class="link_root__1Me7D readnext_root__JNzwZ link_no-link-layout__RPvod" href="/usage/v3-4"><span><span class="typography_label__l_oVJ">Read next</span>New in v3.4</span><span class="readnext_icon__jfRnJ"></span></a></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_blue.d167bed5.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>Â© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"What's New in v3.3","teaser":"New features and how to upgrade","menu":[["New Features","features"],["Upgrading Notes","upgrading"]],"slug":"/usage/v3-3","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    h2: \"h2\",\n    p: \"p\",\n    h3: \"h3\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    a: \"a\",\n    pre: \"pre\",\n    code: \"code\",\n    blockquote: \"blockquote\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components), {InlineCode, Iframe} = _components;\n  if (!Iframe) _missingMdxReference(\"Iframe\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      id: \"section-features\",\n      children: [_jsx(_components.h2, {\n        id: \"features\",\n        hidden: \"true\",\n        children: \"New features \"\n      }), _jsx(_components.p, {\n        children: \"spaCy v3.3 improves the speed of core pipeline components, adds a new trainable\\nlemmatizer, and introduces trained pipelines for Finnish, Korean and Swedish.\"\n      }), _jsx(_components.h3, {\n        id: \"speed\",\n        children: \"Speed improvements \"\n      }), _jsx(_components.p, {\n        children: \"v3.3 includes a slew of speed improvements:\"\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Speed up parser and NER by using constant-time head lookups.\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Support unnormalized softmax probabilities in \", _jsx(InlineCode, {\n            children: \"spacy.Tagger.v2\"\n          }), \" to speed up\\ninference for tagger, morphologizer, senter and trainable lemmatizer.\"]\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Speed up parser projectivization functions.\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Replace \", _jsx(InlineCode, {\n            children: \"Ragged\"\n          }), \" with faster \", _jsx(InlineCode, {\n            children: \"AlignmentArray\"\n          }), \" in \", _jsx(InlineCode, {\n            children: \"Example\"\n          }), \" for training.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Improve \", _jsx(InlineCode, {\n            children: \"Matcher\"\n          }), \" speed.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Improve serialization speed for empty \", _jsx(InlineCode, {\n            children: \"Doc.spans\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"For longer texts, the trained pipeline speeds improve \", _jsx(_components.strong, {\n          children: \"15%\"\n        }), \" or more in\\nprediction. We benchmarked \", _jsx(InlineCode, {\n          children: \"en_core_web_md\"\n        }), \" (same components as in v3.2) and\\n\", _jsx(InlineCode, {\n          children: \"de_core_news_md\"\n        }), \" (with the new trainable lemmatizer) across a range of text\\nsizes on Linux (Intel Xeon W-2265) and OS X (M1) to compare spaCy v3.2 vs. v3.3:\"]\n      }), _jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Intel Xeon W-2265\"\n        })\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              align: \"left\",\n              children: \"Model\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Avg. Words/Doc\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"v3.2 Words/Sec\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"v3.3 Words/Sec\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Diff\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              align: \"left\",\n              children: _jsx(_components.a, {\n                href: \"/models/en#en_core_web_md\",\n                children: _jsx(InlineCode, {\n                  children: \"en_core_web_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"100\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17292\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17441\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"0.86%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              align: \"left\",\n              children: \"(=same components)\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"1000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"15408\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"16024\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"4.00%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              align: \"left\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"10000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"12798\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"15346\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"19.91%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              align: \"left\",\n              children: _jsx(_components.a, {\n                href: \"/models/de/#de_core_news_md\",\n                children: _jsx(InlineCode, {\n                  children: \"de_core_news_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"100\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"20221\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"19321\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"-4.45%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              align: \"left\",\n              children: \"(+v3.3 trainable lemmatizer)\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"1000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17480\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17345\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"-0.77%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              align: \"left\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"10000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"14513\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17036\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17.38%\"\n            })]\n          })]\n        })]\n      }), _jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Apple M1\"\n        })\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Model\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Avg. Words/Doc\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"v3.2 Words/Sec\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"v3.3 Words/Sec\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Diff\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/en#en_core_web_md\",\n                children: _jsx(InlineCode, {\n                  children: \"en_core_web_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"100\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"18272\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"18408\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"0.74%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: \"(=same components)\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"1000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"18794\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"19248\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"2.42%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {}), _jsx(_components.td, {\n              align: \"right\",\n              children: \"10000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"15144\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"17513\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"15.64%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/de/#de_core_news_md\",\n                children: _jsx(InlineCode, {\n                  children: \"de_core_news_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"100\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"19227\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"19591\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"1.89%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: \"(+v3.3 trainable lemmatizer)\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"1000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"20047\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"20628\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"2.90%\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {}), _jsx(_components.td, {\n              align: \"right\",\n              children: \"10000\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"15921\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"18546\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"16.49%\"\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"trainable-lemmatizer\",\n        children: \"Trainable lemmatizer \"\n      }), _jsxs(_components.p, {\n        children: [\"The new \", _jsx(_components.a, {\n          href: \"/api/edittreelemmatizer\",\n          children: \"trainable lemmatizer\"\n        }), \" component uses\\n\", _jsx(_components.a, {\n          href: \"https://explosion.ai/blog/edit-tree-lemmatizer\",\n          children: \"edit trees\"\n        }), \" to transform tokens\\ninto lemmas. Try out the trainable lemmatizer with the\\n\", _jsx(_components.a, {\n          href: \"/usage/training#quickstart\",\n          children: \"training quickstart\"\n        }), \"!\"]\n      }), _jsx(_components.h3, {\n        id: \"displacy\",\n        children: \"displaCy support for overlapping spans and arcs \"\n      }), _jsxs(_components.p, {\n        children: [\"displaCy now supports overlapping spans with a new\\n\", _jsx(_components.a, {\n          href: \"/usage/visualizers#span\",\n          children: _jsx(InlineCode, {\n            children: \"span\"\n          })\n        }), \" style and multiple arcs with different labels\\nbetween the same tokens for \", _jsx(_components.a, {\n          href: \"/usage/visualizers#dep\",\n          children: _jsx(InlineCode, {\n            children: \"dep\"\n          })\n        }), \" visualizations.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Overlapping spans can be visualized for any spans key in \", _jsx(InlineCode, {\n          children: \"doc.spans\"\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          children: \"import spacy\\nfrom spacy import displacy\\nfrom spacy.tokens import Span\\n\\nnlp = spacy.blank(\\\"en\\\")\\ntext = \\\"Welcome to the Bank of China.\\\"\\ndoc = nlp(text)\\ndoc.spans[\\\"custom\\\"] = [Span(doc, 3, 6, \\\"ORG\\\"), Span(doc, 5, 6, \\\"GPE\\\")]\\ndisplacy.serve(doc, style=\\\"span\\\", options={\\\"spans_key\\\": \\\"custom\\\"})\\n\"\n        })\n      }), _jsx(Iframe, {\n        title: \"displaCy visualizer for overlapping spans\",\n        src: \"/images/displacy-span.html\",\n        height: 180\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      children: [_jsx(_components.h2, {\n        children: \"Additional features and improvements\"\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"Config comparisons with \", _jsx(_components.a, {\n            href: \"/api/cli#debug-diff\",\n            children: _jsx(InlineCode, {\n              children: \"spacy debug diff-config\"\n            })\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Span suggester debugging with\\n\", _jsx(_components.a, {\n            href: \"/api/spancategorizer#set_candidates\",\n            children: _jsx(InlineCode, {\n              children: \"SpanCategorizer.set_candidates\"\n            })\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Big endian support with\\n\", _jsx(_components.a, {\n            href: \"https://github.com/andrewsi-z/thinc-bigendian-ops\",\n            children: _jsx(InlineCode, {\n              children: \"thinc-bigendian-ops\"\n            })\n          }), \" and\\nupdates to make \", _jsx(InlineCode, {\n            children: \"floret\"\n          }), \", \", _jsx(InlineCode, {\n            children: \"murmurhash\"\n          }), \", Thinc and spaCy endian neutral.\"]\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Initial support for Lower Sorbian and Upper Sorbian.\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Language updates for English, French, Italian, Japanese, Korean, Norwegian,\\nRussian, Slovenian, Spanish, Turkish, Ukrainian and Vietnamese.\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"New noun chunks for Finnish.\"\n        }), \"\\n\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-pipelines\",\n      children: [_jsx(_components.h2, {\n        id: \"pipelines\",\n        children: \"Trained pipelines \"\n      }), _jsx(_components.h3, {\n        id: \"new-pipelines\",\n        children: \"New trained pipelines \"\n      }), _jsxs(_components.p, {\n        children: [\"v3.3 introduces new CPU/CNN pipelines for Finnish, Korean and Swedish, which use\\nthe new trainable lemmatizer and\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/floret\",\n          children: \"floret vectors\"\n        }), \". Due to the use\\n\", _jsx(_components.a, {\n          href: \"https://explosion.ai/blog/bloom-embeddings\",\n          children: \"Bloom embeddings\"\n        }), \" and subwords, the\\npipelines have compact vectors with no out-of-vocabulary words.\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Package\"\n            }), _jsx(_components.th, {\n              children: \"Language\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"UPOS\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Parser LAS\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"NER F\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/fi#fi_core_news_sm\",\n                children: _jsx(InlineCode, {\n                  children: \"fi_core_news_sm\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Finnish\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"92.5\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"71.9\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"75.9\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/fi#fi_core_news_md\",\n                children: _jsx(InlineCode, {\n                  children: \"fi_core_news_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Finnish\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"95.9\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"78.6\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"80.6\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/fi#fi_core_news_lg\",\n                children: _jsx(InlineCode, {\n                  children: \"fi_core_news_lg\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Finnish\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"96.2\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"79.4\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"82.4\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/ko#ko_core_news_sm\",\n                children: _jsx(InlineCode, {\n                  children: \"ko_core_news_sm\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Korean\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"86.1\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"65.6\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"71.3\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/ko#ko_core_news_md\",\n                children: _jsx(InlineCode, {\n                  children: \"ko_core_news_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Korean\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"94.7\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"80.9\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"83.1\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/ko#ko_core_news_lg\",\n                children: _jsx(InlineCode, {\n                  children: \"ko_core_news_lg\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Korean\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"94.7\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"81.3\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"85.3\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/sv#sv_core_news_sm\",\n                children: _jsx(InlineCode, {\n                  children: \"sv_core_news_sm\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Swedish\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"95.0\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"75.9\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"74.7\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/sv#sv_core_news_md\",\n                children: _jsx(InlineCode, {\n                  children: \"sv_core_news_md\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Swedish\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"96.3\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"78.5\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"79.3\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/sv#sv_core_news_lg\",\n                children: _jsx(InlineCode, {\n                  children: \"sv_core_news_lg\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Swedish\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"96.3\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"79.1\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"81.1\"\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"pipeline-updates\",\n        children: \"Pipeline updates \"\n      }), _jsxs(_components.p, {\n        children: [\"The following languages switch from lookup or rule-based lemmatizers to the new\\ntrainable lemmatizer: Danish, Dutch, German, Greek, Italian, Lithuanian,\\nNorwegian, Polish, Portuguese and Romanian. The overall lemmatizer accuracy\\nimproves for all of these pipelines, but be aware that the types of errors may\\nlook quite different from the lookup-based lemmatizers. If youâ€™d prefer to\\ncontinue using the previous lemmatizer, you can\\n\", _jsx(_components.a, {\n          href: \"/models#design-modify\",\n          children: \"switch from the trainable lemmatizer to a non-trainable lemmatizer\"\n        }), \".\"]\n      }), _jsx(\"figure\", {\n        children: _jsxs(_components.table, {\n          children: [_jsx(_components.thead, {\n            children: _jsxs(_components.tr, {\n              children: [_jsx(_components.th, {\n                children: \"Model\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"v3.2 Lemma Acc\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"v3.3 Lemma Acc\"\n              })]\n            })\n          }), _jsxs(_components.tbody, {\n            children: [_jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/da#da_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"da_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"84.9\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"94.8\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/de#de_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"de_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"73.4\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"97.7\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/el#el_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"el_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"56.5\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"88.9\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/fi#fi_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"fi_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"-\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"86.2\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/it#it_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"it_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"86.6\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"97.2\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/ko#ko_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"ko_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"-\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"90.0\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/lt#lt_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"lt_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"71.1\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"84.8\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/nb#nb_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"nb_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"76.7\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"97.1\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/nl#nl_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"nl_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"81.5\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"94.0\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/pl#pl_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"pl_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"87.1\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"93.7\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/pt#pt_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"pt_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"76.7\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"96.9\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/ro#ro_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"ro_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"81.8\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"95.5\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: _jsx(_components.a, {\n                  href: \"/models/sv#sv_core_news_md\",\n                  children: _jsx(InlineCode, {\n                    children: \"sv_core_news_md\"\n                  })\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"-\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"95.5\"\n              })]\n            })]\n          })]\n        })\n      }), _jsxs(_components.p, {\n        children: [\"In addition, the vectors in the English pipelines are deduplicated to improve\\nthe pruned vectors in the \", _jsx(InlineCode, {\n          children: \"md\"\n        }), \" models and reduce the \", _jsx(InlineCode, {\n          children: \"lg\"\n        }), \" model size.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-upgrading\",\n      children: [_jsx(_components.h2, {\n        id: \"upgrading\",\n        children: \"Notes about upgrading from v3.2 \"\n      }), _jsx(_components.h3, {\n        children: \"Span comparisons\"\n      }), _jsxs(_components.p, {\n        children: [\"Span comparisons involving ordering (\", _jsx(InlineCode, {\n          children: \"\u003c\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"\u003c=\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"\u003e\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"\u003e=\"\n        }), \") now take all span\\nattributes into account (start, end, label, and KB ID) so spans may be sorted in\\na slightly different order.\"]\n      }), _jsx(_components.h3, {\n        children: \"Whitespace annotation\"\n      }), _jsx(_components.p, {\n        children: \"During training, annotation on whitespace tokens is handled in the same way as\\nannotation on non-whitespace tokens in order to allow custom whitespace\\nannotation.\"\n      }), _jsx(_components.h3, {\n        children: \"Doc.from_docs\"\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"/api/doc#from_docs\",\n          children: _jsx(InlineCode, {\n            children: \"Doc.from_docs\"\n          })\n        }), \" now includes \", _jsx(InlineCode, {\n          children: \"Doc.tensor\"\n        }), \" by default and\\nsupports excludes with an \", _jsx(InlineCode, {\n          children: \"exclude\"\n        }), \" argument in the same format as\\n\", _jsx(InlineCode, {\n          children: \"Doc.to_bytes\"\n        }), \". The supported exclude fields are \", _jsx(InlineCode, {\n          children: \"spans\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"tensor\"\n        }), \" and\\n\", _jsx(InlineCode, {\n          children: \"user_data\"\n        }), \".\"]\n      }), _jsxs(_components.p, {\n        children: [\"Docs including \", _jsx(InlineCode, {\n          children: \"Doc.tensor\"\n        }), \" may be quite a bit larger in RAM, so to exclude\\n\", _jsx(InlineCode, {\n          children: \"Doc.tensor\"\n        }), \" as in v3.2:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"-merged_doc = Doc.from_docs(docs)\\n+merged_doc = Doc.from_docs(docs, exclude=[\\\"tensor\\\"])\\n\"\n        })\n      }), _jsx(_components.h3, {\n        children: \"Using trained pipelines with floret vectors\"\n      }), _jsxs(_components.p, {\n        children: [\"If youâ€™re running a new trained pipeline for Finnish, Korean or Swedish on new\\ntexts and working with \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects, you shouldnâ€™t notice any difference with\\nfloret vectors vs. default vectors.\"]\n      }), _jsx(_components.p, {\n        children: \"If you use vectors for similarity comparisons, there are a few differences,\\nmainly because a floret pipeline doesnâ€™t include any kind of frequency-based\\nword list similar to the list of in-vocabulary vector keys with default vectors.\"\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"If your workflow iterates over the vector keys, you should use an external\\nword list instead:\"\n          }), \"\\n\", _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-diff\",\n              lang: \"diff\",\n              children: \"- lexemes = [nlp.vocab[orth] for orth in nlp.vocab.vectors]\\n+ lexemes = [nlp.vocab[word] for word in external_word_list]\\n\"\n            })\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsxs(_components.p, {\n            children: [_jsx(InlineCode, {\n              children: \"Vectors.most_similar\"\n            }), \" is not supported because thereâ€™s no fixed list of\\nvectors to compare your vectors to.\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), _jsx(_components.h3, {\n        id: \"version-compat\",\n        children: \"Pipeline package version compatibility \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Using legacy implementations\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"In spaCy v3, youâ€™ll still be able to load and reference legacy implementations\\nvia \", _jsx(_components.a, {\n            href: \"https://github.com/explosion/spacy-legacy\",\n            children: _jsx(InlineCode, {\n              children: \"spacy-legacy\"\n            })\n          }), \", even if the\\ncomponents or architectures change and newer versions are available in the\\ncore library.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.p, {\n        children: \"When youâ€™re loading a pipeline package trained with an earlier version of spaCy\\nv3, you will see a warning telling you that the pipeline may be incompatible.\\nThis doesnâ€™t necessarily have to be true, but we recommend running your\\npipelines against your test suite or evaluation data to make sure there are no\\nunexpected results.\"\n      }), _jsxs(_components.p, {\n        children: [\"If youâ€™re using one of the \", _jsx(_components.a, {\n          href: \"/models\",\n          children: \"trained pipelines\"\n        }), \" we provide, you should\\nrun \", _jsx(_components.a, {\n          href: \"/api/cli#download\",\n          children: _jsx(InlineCode, {\n            children: \"spacy download\"\n          })\n        }), \" to update to the latest version. To\\nsee an overview of all installed packages and their compatibility, you can run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#validate\",\n          children: _jsx(InlineCode, {\n            children: \"spacy validate\"\n          })\n        }), \".\"]\n      }), _jsxs(_components.p, {\n        children: [\"If youâ€™ve trained your own custom pipeline and youâ€™ve confirmed that itâ€™s still\\nworking as expected, you can update the spaCy version requirements in the\\n\", _jsx(_components.a, {\n          href: \"/api/data-formats#meta\",\n          children: _jsx(InlineCode, {\n            children: \"meta.json\"\n          })\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- \\\"spacy_version\\\": \\\"\u003e=3.2.0,\u003c3.3.0\\\",\\n+ \\\"spacy_version\\\": \\\"\u003e=3.2.0,\u003c3.4.0\\\",\\n\"\n        })\n      }), _jsx(_components.h3, {\n        children: \"Updating v3.2 configs\"\n      }), _jsxs(_components.p, {\n        children: [\"To update a config from spaCy v3.2 with the new v3.3 settings, run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#init-fill-config\",\n          children: _jsx(InlineCode, {\n            children: \"init fill-config\"\n          })\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy init fill-config config-v3.2.cfg config-v3.3.cfg\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"In many cases (\", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.load\",\n          children: _jsx(InlineCode, {\n            children: \"spacy.load\"\n          })\n        }), \"), the new defaults will be filled in\\nautomatically, but youâ€™ll need to fill in the new settings to run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#debug\",\n          children: _jsx(InlineCode, {\n            children: \"debug config\"\n          })\n        }), \" and \", _jsx(_components.a, {\n          href: \"/api/cli#debug-data\",\n          children: _jsx(InlineCode, {\n            children: \"debug data\"\n          })\n        }), \".\"]\n      }), _jsxs(_components.p, {\n        children: [\"To see the speed improvements for the\\n\", _jsxs(_components.a, {\n          href: \"/api/architectures#Tagger\",\n          children: [_jsx(InlineCode, {\n            children: \"Tagger\"\n          }), \" architecture\"]\n        }), \", edit your config to switch\\nfrom \", _jsx(InlineCode, {\n          children: \"spacy.Tagger.v1\"\n        }), \" to \", _jsx(InlineCode, {\n          children: \"spacy.Tagger.v2\"\n        }), \" and then run \", _jsx(InlineCode, {\n          children: \"init fill-config\"\n        }), \".\"]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"What's New in v3.3","teaser":"New features and how to upgrade","menu":[["New Features","features"],["Upgrading Notes","upgrading"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":{"slug":"/usage/v3-4","title":"New in v3.4"}},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["usage","v3-3"]},"buildId":"2lY2cUyEfZosk4VLgkHb2","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>