<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>Visualizers · spaCy Usage Documentation</title><meta name="description" content="Visualize dependencies and entities in your browser or in a notebook"/><meta property="og:title" content="Visualizers · spaCy Usage Documentation"/><meta property="og:description" content="Visualize dependencies and entities in your browser or in a notebook"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Visualizers"/><meta property="og:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="Visualizers · spaCy Usage Documentation"/><meta name="twitter:description" content="Visualize dependencies and entities in your browser or in a notebook"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ee1fab0e25bb912e.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_buildManifest.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-blue"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>💥 Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage" selected="">Usage</option><option value="/models">Models</option><option value="/api">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Guides</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/usage">Get started<!-- --> › <!-- -->Installation</option><option value="/usage/models">Get started<!-- --> › <!-- -->Models &amp; Languages</option><option value="/usage/facts-figures">Get started<!-- --> › <!-- -->Facts &amp; Figures</option><option value="/usage/spacy-101">Get started<!-- --> › <!-- -->spaCy 101</option><option value="/usage/v3">Get started<!-- --> › <!-- -->New in v3.0</option><option value="/usage/v3-1">Get started<!-- --> › <!-- -->New in v3.1</option><option value="/usage/v3-2">Get started<!-- --> › <!-- -->New in v3.2</option><option value="/usage/v3-3">Get started<!-- --> › <!-- -->New in v3.3</option><option value="/usage/v3-4">Get started<!-- --> › <!-- -->New in v3.4</option><option value="/usage/v3-5">Get started<!-- --> › <!-- -->New in v3.5</option><option value="/usage/linguistic-features">Guides<!-- --> › <!-- -->Linguistic Features</option><option value="/usage/rule-based-matching">Guides<!-- --> › <!-- -->Rule-based Matching</option><option value="/usage/processing-pipelines">Guides<!-- --> › <!-- -->Processing Pipelines</option><option value="/usage/embeddings-transformers">Guides<!-- --> › <!-- -->Embeddings &amp; Transformers</option><option value="/usage/training">Guides<!-- --> › <!-- -->Training Models</option><option value="/usage/layers-architectures">Guides<!-- --> › <!-- -->Layers &amp; Model Architectures</option><option value="/usage/projects">Guides<!-- --> › <!-- -->spaCy Projects</option><option value="/usage/saving-loading">Guides<!-- --> › <!-- -->Saving &amp; Loading</option><option value="/usage/visualizers" selected="">Guides<!-- --> › <!-- -->Visualizers</option><option value="https://github.com/explosion/projects">Resources<!-- --> › <!-- -->Project Templates</option><option value="https://v2.spacy.io">Resources<!-- --> › <!-- -->v2.x Documentation</option><option value="https://explosion.ai/custom-solutions">Resources<!-- --> › <!-- -->Custom Solutions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Get started</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage">Installation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/models">Models &amp; Languages</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/facts-figures">Facts &amp; Figures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/spacy-101">spaCy 101</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3">New in v3.0</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-1">New in v3.1</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-2">New in v3.2</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-3">New in v3.3</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-4">New in v3.4</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-5">New in v3.5</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Guides</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/linguistic-features">Linguistic Features</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/rule-based-matching">Rule-based Matching</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/processing-pipelines">Processing Pipelines</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/embeddings-transformers">Embeddings &amp; Transformers<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/training">Training Models<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/layers-architectures">Layers &amp; Model Architectures<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/projects">spaCy Projects<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/saving-loading">Saving &amp; Loading</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/usage/visualizers">Visualizers</a><ul class="sidebar_crumbs__NhM2y"><li class="sidebar_crumb__tiiDl sidebar_crumb-active__zq8BI"><a href="#dep">Dependencies</a></li><li class="sidebar_crumb__tiiDl"><a href="#ent">Named Entities</a></li><li class="sidebar_crumb__tiiDl"><a href="#span">Spans</a></li><li class="sidebar_crumb__tiiDl"><a href="#jupyter">Jupyter Notebooks</a></li><li class="sidebar_crumb__tiiDl"><a href="#html">Rendering HTML</a></li><li class="sidebar_crumb__tiiDl"><a href="#webapp">Web app usage</a></li></ul></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Resources</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects">Project Templates</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://v2.spacy.io">v2.x Documentation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">Visualizers<!-- --> </span></h1><div class="title_tags__PljaK"></div><div class="heading-teaser title_teaser__QhwCH">Visualize dependencies and entities in your browser or in a notebook</div></header><section class="section_root__k1hUl"><p>Visualizing a dependency parse or named entities in a text is not only a fun NLP
demo – it can also be incredibly helpful in speeding up development and
debugging your code and training process. That’s why our popular visualizers,
<a class="link_root__1Me7D" href="https://explosion.ai/demos/displacy">displaCy</a> and
<a class="link_root__1Me7D" href="https://explosion.ai/demos/displacy-ent">displaCy <sup>ENT</sup></a> are also an
official part of the core library. If you’re running a
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://jupyter.org">Jupyter</a> notebook, displaCy will detect this and return
the markup in a format <a class="link_root__1Me7D" href="/usage/visualizers#jupyter">ready to be rendered and exported</a>.</p><p>The quickest way to visualize <code class="code_inline-code__Bq7ot">Doc</code> is to use
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy.serve"><code class="code_inline-code__Bq7ot">displacy.serve</code></a>. This will spin up a simple
web server and let you view the result straight from your browser. displaCy can
either take a single <code class="code_inline-code__Bq7ot">Doc</code> or a list of <code class="code_inline-code__Bq7ot">Doc</code> objects as its first argument.
This lets you construct them however you like – using any pipeline or
modifications you like. If you’re using <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://streamlit.io">Streamlit</a>, check
out the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-streamlit"><code class="code_inline-code__Bq7ot">spacy-streamlit</code></a>
package that helps you integrate spaCy visualizations into your apps!</p></section>
<section id="section-dep" class="section_root__k1hUl"><h2 id="dep" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#dep" class="heading-text typography_permalink__UiIRy">Visualizing the dependency parse <!-- --> </a></h2><p>The dependency visualizer, <code class="code_inline-code__Bq7ot">dep</code>, shows part-of-speech tags and syntactic
dependencies.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Dependency example</h4><code class="code_code__CILJL language-python language-python"></code></pre><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/displacy.svg" alt="displaCy visualizer" width="650" height="auto"/></figure><p>The argument <code class="code_inline-code__Bq7ot">options</code> lets you specify a dictionary of settings to customize
the layout, for example:</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note</span></h4><p>There’s currently a known issue with the <code class="code_inline-code__Bq7ot">compact</code> mode for sentences with short
arrows and long dependency labels, that causes labels longer than the arrow to
wrap. So if you come across this problem, especially when using custom labels,
you’ll have to increase the <code class="code_inline-code__Bq7ot">distance</code> setting in the <code class="code_inline-code__Bq7ot">options</code> to allow longer
arcs.</p></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Argument</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">compact</code></td><td class="table_td__rmpJx">“Compact mode” with square arrows that takes up less space. Defaults to <code class="code_inline-code__Bq7ot">False</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">bool</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">color</code></td><td class="table_td__rmpJx">Text color (HEX, RGB or color names). Defaults to <code class="code_inline-code__Bq7ot">&quot;#000000&quot;</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">bg</code></td><td class="table_td__rmpJx">Background color (HEX, RGB or color names). Defaults to <code class="code_inline-code__Bq7ot">&quot;#ffffff&quot;</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">font</code></td><td class="table_td__rmpJx">Font name or font family for all text. Defaults to <code class="code_inline-code__Bq7ot">&quot;Arial&quot;</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr></tbody></table><p>For a list of all available options, see the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy_options"><code class="code_inline-code__Bq7ot">displacy</code> API documentation</a>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Options example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/displacy-compact.svg" alt="displaCy visualizer (compact mode)" width="650" height="auto"/></figure><h3 id="dep-long-text" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#dep-long-text" class="heading-text typography_permalink__UiIRy">Visualizing long texts <!-- --> </a></h3><p>Long texts can become difficult to read when displayed in one row, so it’s often
better to visualize them sentence-by-sentence instead. As of v2.0.12, <code class="code_inline-code__Bq7ot">displacy</code>
supports rendering both <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a> and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/span"><code class="code_inline-code__Bq7ot">Span</code></a> objects, as
well as lists of <code class="code_inline-code__Bq7ot">Doc</code>s or <code class="code_inline-code__Bq7ot">Span</code>s. Instead of passing the full <code class="code_inline-code__Bq7ot">Doc</code> to
<code class="code_inline-code__Bq7ot">displacy.serve</code>, you can also pass in a list <code class="code_inline-code__Bq7ot">doc.sents</code>. This will create one
visualization for each sentence.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre></section>
<section id="section-ent" class="section_root__k1hUl"><h2 id="ent" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#ent" class="heading-text typography_permalink__UiIRy">Visualizing the entity recognizer <!-- --> </a></h2><p>The entity visualizer, <code class="code_inline-code__Bq7ot">ent</code>, highlights named entities and their labels in a
text.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Named Entity example</h4><code class="code_code__CILJL language-python language-python"></code></pre><iframe class="embed_standalone__RHbIL" title="displaCy visualizer for entities" src="/images/displacy-ent2.html" width="800" height="180" allowfullscreen="" frameBorder="0"></iframe><p>The entity visualizer lets you customize the following <code class="code_inline-code__Bq7ot">options</code>:</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Argument</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">ents</code></td><td class="table_td__rmpJx">Entity types to highlight (<code class="code_inline-code__Bq7ot">None</code> for all types). Defaults to <code class="code_inline-code__Bq7ot">None</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>List<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">]</span><span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">colors</code></td><td class="table_td__rmpJx">Color overrides. Entity types should be mapped to color names or values. Defaults to <code class="code_inline-code__Bq7ot">{}</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table><p>If you specify a list of <code class="code_inline-code__Bq7ot">ents</code>, only those entity types will be rendered – for
example, you can choose to display <code class="code_inline-code__Bq7ot">PERSON</code> entities. Internally, the visualizer
knows nothing about available entity types and will render whichever spans and
labels it receives. This makes it especially easy to work with custom entity
types. By default, displaCy comes with colors for all entity types used by
<a class="link_root__1Me7D" href="/models">trained spaCy pipelines</a>. If you’re using custom entity types, you can
use the <code class="code_inline-code__Bq7ot">colors</code> setting to add your own colors for them.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Options example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><iframe class="embed_standalone__RHbIL" title="displaCy visualizer for entities (custom styling)" src="/images/displacy-ent-custom.html" width="800" height="225" allowfullscreen="" frameBorder="0"></iframe><p>The above example uses a little trick: Since the background color values are
added as the <code class="code_inline-code__Bq7ot">background</code> style attribute, you can use any
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://tympanus.net/codrops/css_reference/background/">valid background value</a>
or shorthand – including gradients and even images!</p><h3 id="ent-titles" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#ent-titles" class="heading-text typography_permalink__UiIRy">Adding titles to documents <!-- --> </a></h3><p>Rendering several large documents on one page can easily become confusing. To
add a headline to each visualization, you can add a <code class="code_inline-code__Bq7ot">title</code> to its <code class="code_inline-code__Bq7ot">user_data</code>.
User data is never touched or modified by spaCy.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre><p>This feature is especially handy if you’re using displaCy to compare performance
at different stages of a process, e.g. during training. Here you could use the
title for a brief description of the text example and the number of iterations.</p></section>
<section id="section-span" class="section_root__k1hUl"><h2 id="span" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#span" class="heading-text typography_permalink__UiIRy">Visualizing spans <!-- --> </a></h2><p>The span visualizer, <code class="code_inline-code__Bq7ot">span</code>, highlights overlapping spans in a text.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Span example</h4><code class="code_code__CILJL language-python language-python"></code></pre><iframe class="embed_standalone__RHbIL" title="displaCy visualizer for overlapping spans" src="/images/displacy-span.html" width="800" height="180" allowfullscreen="" frameBorder="0"></iframe><p>The span visualizer lets you customize the following <code class="code_inline-code__Bq7ot">options</code>:</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Argument</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spans_key</code></td><td class="table_td__rmpJx">Which spans key to render spans from. Default is <code class="code_inline-code__Bq7ot">&quot;sc&quot;</code>. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">str</span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">templates</code></td><td class="table_td__rmpJx">Dictionary containing the keys <code class="code_inline-code__Bq7ot">&quot;span&quot;</code>, <code class="code_inline-code__Bq7ot">&quot;slice&quot;</code>, and <code class="code_inline-code__Bq7ot">&quot;start&quot;</code>. These dictate how the overall span, a span slice, and the starting token will be rendered. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">kb_url_template</code></td><td class="table_td__rmpJx">Optional template to construct the KB url for the entity to link to. Expects a python f-string format with single field to fill in <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Optional<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">colors</code></td><td class="table_td__rmpJx">Color overrides. Entity types should be mapped to color names or values. <span class="type-annotation language-python code_inline-code__Bq7ot code_type-annotation__6N9RM" role="code" aria-label="Type annotation">Dict<span class="code_cli-arg-subtle__IgB5m">[</span>str<span class="code_cli-arg-subtle__IgB5m">,</span> str<span class="code_cli-arg-subtle__IgB5m">]</span></span></td></tr></tbody></table><p>Because spans can be stored across different keys in <code class="code_inline-code__Bq7ot">doc.spans</code>, you need to
specify which one displaCy should use with <code class="code_inline-code__Bq7ot">spans_key</code> (<code class="code_inline-code__Bq7ot">sc</code> is the default).</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Options example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><iframe class="embed_standalone__RHbIL" title="displaCy visualizer for spans (custom spans_key)" src="/images/displacy-span-custom.html" width="800" height="225" allowfullscreen="" frameBorder="0"></iframe></section>
<section id="section-jupyter" class="section_root__k1hUl"><h2 id="jupyter" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#jupyter" class="heading-text typography_permalink__UiIRy">Using displaCy in Jupyter notebooks <!-- --> </a></h2><p>displaCy is able to detect whether you’re working in a
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://jupyter.org">Jupyter</a> notebook, and will return markup that can be
rendered in a cell straight away. When you export your notebook, the
visualizations will be included as HTML.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Jupyter example</h4><code class="code_code__CILJL language-python language-python"></code></pre><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note</span></h4><p>To explicitly enable or disable “Jupyter mode”, you can use the <code class="code_inline-code__Bq7ot">jupyter</code>
keyword argument – e.g. to return raw HTML in a notebook, or to force Jupyter
rendering if auto-detection fails.</p></aside><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/displacy_jupyter.jpg" alt="displaCy visualizer in a Jupyter notebook" width="650" height="auto"/></figure><p>Internally, displaCy imports <code class="code_inline-code__Bq7ot">display</code> and <code class="code_inline-code__Bq7ot">HTML</code> from <code class="code_inline-code__Bq7ot">IPython.core.display</code>
and returns a Jupyter HTML object. If you were doing it manually, it’d look like
this:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre></section>
<section id="section-html" class="section_root__k1hUl"><h2 id="html" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#html" class="heading-text typography_permalink__UiIRy">Rendering HTML <!-- --> </a></h2><p>If you don’t need the web server and just want to generate the markup – for
example, to export it to a file or serve it in a custom way – you can use
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy.render"><code class="code_inline-code__Bq7ot">displacy.render</code></a>. It works the same way, but
returns a string containing the markup.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Example</h4><code class="code_code__CILJL language-python language-python"></code></pre><p><code class="code_inline-code__Bq7ot">page=True</code> renders the markup wrapped as a full HTML page. For minified and
more compact HTML markup, you can set <code class="code_inline-code__Bq7ot">minify=True</code>. If you’re rendering a
dependency parse, you can also export it as an <code class="code_inline-code__Bq7ot">.svg</code> file.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">What’s SVG?<!-- --> </span></h4>
<p>Unlike other image formats, the SVG (Scalable Vector Graphics) uses XML markup
that’s easy to manipulate
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://www.smashingmagazine.com/2014/11/styling-and-animating-svgs-with-css/">using CSS</a>
or
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://css-tricks.com/smil-is-dead-long-live-smil-a-guide-to-alternatives-to-smil-features/">JavaScript</a>.
Essentially, SVG lets you design with code, which makes it a perfect fit for
visualizing dependency trees. SVGs can be embedded online in an <code class="code_inline-code__Bq7ot">&lt;img&gt;</code> tag,
or inlined in an HTML document. They’re also pretty easy to
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://convertio.co/image-converter/">convert</a>.</p>
</div></div></aside><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note</span></h4><p>Since each visualization is generated as a separate SVG, exporting <code class="code_inline-code__Bq7ot">.svg</code> files
only works if you’re rendering <strong>one single doc</strong> at a time. (This makes sense –
after all, each visualization should be a standalone graphic.) So instead of
rendering all <code class="code_inline-code__Bq7ot">Doc</code>s at once, loop over them and export them separately.</p></aside><h3 id="examples-export-svg" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#examples-export-svg" class="heading-text typography_permalink__UiIRy">Example: Export SVG graphics of dependency parses <!-- --> </a></h3><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Example</h4><code class="code_code__CILJL language-python language-python"></code></pre><p>The above code will generate the dependency visualizations as two files,
<code class="code_inline-code__Bq7ot">This-is-an-example.svg</code> and <code class="code_inline-code__Bq7ot">This-is-another-one.svg</code>.</p><h3 id="manual-usage" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#manual-usage" class="heading-text typography_permalink__UiIRy">Rendering data manually <!-- --> </a></h3><p>You can also use displaCy to manually render data. This can be useful if you
want to visualize output from other libraries, like <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="http://www.nltk.org">NLTK</a>
or
<a class="link_root__1Me7D link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/tensorflow/models/tree/master/research/syntaxnet"><span class="link_source-text__VDP74">SyntaxNet</span></a>.
If you set <code class="code_inline-code__Bq7ot">manual=True</code> on either <code class="code_inline-code__Bq7ot">render()</code> or <code class="code_inline-code__Bq7ot">serve()</code>, you can pass in data
in displaCy’s format as a dictionary (instead of <code class="code_inline-code__Bq7ot">Doc</code> objects). There are
helper functions for converting <code class="code_inline-code__Bq7ot">Doc</code> objects to displaCy’s format for use with
<code class="code_inline-code__Bq7ot">manual=True</code>: <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy.parse_deps"><code class="code_inline-code__Bq7ot">displacy.parse_deps</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy.parse_ents"><code class="code_inline-code__Bq7ot">displacy.parse_ents</code></a>, and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy.parse_spans"><code class="code_inline-code__Bq7ot">displacy.parse_spans</code></a>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example with parse function<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example with raw data<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">DEP input</h4><code class="code_code__CILJL language-python language-python"></code></pre><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">ENT input</h4><code class="code_code__CILJL language-python language-python"></code></pre><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">ENT input with knowledge base links</h4><code class="code_code__CILJL language-python language-python"></code></pre><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">SPANS input</h4><code class="code_code__CILJL language-python language-python"></code></pre></section>
<section id="section-webapp" class="section_root__k1hUl"><h2 id="webapp" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#webapp" class="heading-text typography_permalink__UiIRy">Using displaCy in a web application <!-- --> </a></h2><p>If you want to use the visualizers as part of a web application, for example to
create something like our <a class="link_root__1Me7D" href="https://explosion.ai/demos/displacy">online demo</a>,
it’s not recommended to only wrap and serve the displaCy renderer. Instead, you
should only rely on the server to perform spaCy’s processing capabilities, and
use a client-side implementation like
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/displacy"><code class="code_inline-code__Bq7ot">displaCy.js</code></a> to render the
JSON-formatted output.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Why not return the HTML by the server?<!-- --> </span></h4>
<p>It’s certainly possible to just have your server return the markup. But
outputting raw, unsanitized HTML is risky and makes your app vulnerable to
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting</a>
(XSS). All your user needs to do is find a way to make spaCy return text like
<code class="code_inline-code__Bq7ot code_wrap__b41os">&lt;script src=&quot;malicious-code.js&quot;&gt;&lt;/script&gt;</code>, which is pretty easy in NER mode.
Instead of relying on the server to render and sanitize HTML, you can do this
on the client in JavaScript. displaCy.js creates the markup as DOM nodes and
will never insert raw HTML.</p>
</div></div></aside><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><p>Alternatively, if you’re using <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://streamlit.io">Streamlit</a>, check out the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-streamlit"><code class="code_inline-code__Bq7ot">spacy-streamlit</code></a> package that
helps you integrate spaCy visualizations into your apps. It includes a full
embedded visualizer, as well as individual components.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/spacy-streamlit.png" alt="Screenshot of the spacy-streamlit package in Streamlit" width="650" height="auto"/></figure></div></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/usage/visualizers.mdx">Suggest edits</a></div></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_blue.d167bed5.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Visualizers","teaser":"Visualize dependencies and entities in your browser or in a notebook","version":2,"menu":[["Dependencies","dep"],["Named Entities","ent"],["Spans","span"],["Jupyter Notebooks","jupyter"],["Rendering HTML","html"],["Web app usage","webapp"]],"slug":"/usage/visualizers","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    pre: \"pre\",\n    code: \"code\",\n    img: \"img\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    del: \"del\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    h3: \"h3\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {InlineCode, Infobox, Iframe, Grid} = _components;\n  if (!Grid) _missingMdxReference(\"Grid\", true);\n  if (!Iframe) _missingMdxReference(\"Iframe\", true);\n  if (!Infobox) _missingMdxReference(\"Infobox\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      children: [_jsxs(_components.p, {\n        children: [\"Visualizing a dependency parse or named entities in a text is not only a fun NLP\\ndemo – it can also be incredibly helpful in speeding up development and\\ndebugging your code and training process. That’s why our popular visualizers,\\n\", _jsx(_components.a, {\n          href: \"https://explosion.ai/demos/displacy\",\n          children: \"displaCy\"\n        }), \" and\\n\", _jsxs(_components.a, {\n          href: \"https://explosion.ai/demos/displacy-ent\",\n          children: [\"displaCy \", _jsx(\"sup\", {\n            children: \"ENT\"\n          })]\n        }), \" are also an\\nofficial part of the core library. If you’re running a\\n\", _jsx(_components.a, {\n          href: \"https://jupyter.org\",\n          children: \"Jupyter\"\n        }), \" notebook, displaCy will detect this and return\\nthe markup in a format \", _jsx(_components.a, {\n          href: \"#jupyter\",\n          children: \"ready to be rendered and exported\"\n        }), \".\"]\n      }), _jsxs(_components.p, {\n        children: [\"The quickest way to visualize \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" is to use\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#displacy.serve\",\n          children: _jsx(InlineCode, {\n            children: \"displacy.serve\"\n          })\n        }), \". This will spin up a simple\\nweb server and let you view the result straight from your browser. displaCy can\\neither take a single \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" or a list of \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects as its first argument.\\nThis lets you construct them however you like – using any pipeline or\\nmodifications you like. If you’re using \", _jsx(_components.a, {\n          href: \"https://streamlit.io\",\n          children: \"Streamlit\"\n        }), \", check\\nout the \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-streamlit\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-streamlit\"\n          })\n        }), \"\\npackage that helps you integrate spaCy visualizations into your apps!\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-dep\",\n      children: [_jsx(_components.h2, {\n        id: \"dep\",\n        children: \"Visualizing the dependency parse \"\n      }), _jsxs(_components.p, {\n        children: [\"The dependency visualizer, \", _jsx(InlineCode, {\n          children: \"dep\"\n        }), \", shows part-of-speech tags and syntactic\\ndependencies.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Dependency example\",\n          children: \"import spacy\\nfrom spacy import displacy\\n\\nnlp = spacy.load(\\\"en_core_web_sm\\\")\\ndoc = nlp(\\\"This is a sentence.\\\")\\ndisplacy.serve(doc, style=\\\"dep\\\")\\n\"\n        })\n      }), _jsx(_components.img, {\n        src: \"/images/displacy.svg\",\n        alt: \"displaCy visualizer\"\n      }), _jsxs(_components.p, {\n        children: [\"The argument \", _jsx(InlineCode, {\n          children: \"options\"\n        }), \" lets you specify a dictionary of settings to customize\\nthe layout, for example:\"]\n      }), _jsx(Infobox, {\n        title: \"Important note\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"There’s currently a known issue with the \", _jsx(InlineCode, {\n            children: \"compact\"\n          }), \" mode for sentences with short\\narrows and long dependency labels, that causes labels longer than the arrow to\\nwrap. So if you come across this problem, especially when using custom labels,\\nyou’ll have to increase the \", _jsx(InlineCode, {\n            children: \"distance\"\n          }), \" setting in the \", _jsx(InlineCode, {\n            children: \"options\"\n          }), \" to allow longer\\narcs.\"]\n        })\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Argument\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"compact\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"“Compact mode” with square arrows that takes up less space. Defaults to \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \". \", _jsx(_components.del, {\n                children: \"bool\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"color\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Text color (HEX, RGB or color names). Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"#000000\\\"\"\n              }), \". \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"bg\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Background color (HEX, RGB or color names). Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"#ffffff\\\"\"\n              }), \". \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"font\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Font name or font family for all text. Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"Arial\\\"\"\n              }), \". \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          })]\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"For a list of all available options, see the\\n\", _jsxs(_components.a, {\n          href: \"/api/top-level#displacy_options\",\n          children: [_jsx(InlineCode, {\n            children: \"displacy\"\n          }), \" API documentation\"]\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Options example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"options = {\\\"compact\\\": True, \\\"bg\\\": \\\"#09a3d5\\\",\\n           \\\"color\\\": \\\"white\\\", \\\"font\\\": \\\"Source Sans Pro\\\"}\\ndisplacy.serve(doc, style=\\\"dep\\\", options=options)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.img, {\n        src: \"/images/displacy-compact.svg\",\n        alt: \"displaCy visualizer (compact mode)\"\n      }), _jsx(_components.h3, {\n        id: \"dep-long-text\",\n        version: \"2.0.12\",\n        children: \"Visualizing long texts \"\n      }), _jsxs(_components.p, {\n        children: [\"Long texts can become difficult to read when displayed in one row, so it’s often\\nbetter to visualize them sentence-by-sentence instead. As of v2.0.12, \", _jsx(InlineCode, {\n          children: \"displacy\"\n        }), \"\\nsupports rendering both \", _jsx(_components.a, {\n          href: \"/api/doc\",\n          children: _jsx(InlineCode, {\n            children: \"Doc\"\n          })\n        }), \" and \", _jsx(_components.a, {\n          href: \"/api/span\",\n          children: _jsx(InlineCode, {\n            children: \"Span\"\n          })\n        }), \" objects, as\\nwell as lists of \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \"s or \", _jsx(InlineCode, {\n          children: \"Span\"\n        }), \"s. Instead of passing the full \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" to\\n\", _jsx(InlineCode, {\n          children: \"displacy.serve\"\n        }), \", you can also pass in a list \", _jsx(InlineCode, {\n          children: \"doc.sents\"\n        }), \". This will create one\\nvisualization for each sentence.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          children: \"import spacy\\nfrom spacy import displacy\\n\\nnlp = spacy.load(\\\"en_core_web_sm\\\")\\ntext = \\\"\\\"\\\"In ancient Rome, some neighbors live in three adjacent houses. In the center is the house of Senex, who lives there with wife Domina, son Hero, and several slaves, including head slave Hysterium and the musical's main character Pseudolus. A slave belonging to Hero, Pseudolus wishes to buy, win, or steal his freedom. One of the neighboring houses is owned by Marcus Lycus, who is a buyer and seller of beautiful women; the other belongs to the ancient Erronius, who is abroad searching for his long-lost children (stolen in infancy by pirates). One day, Senex and Domina go on a trip and leave Pseudolus in charge of Hero. Hero confides in Pseudolus that he is in love with the lovely Philia, one of the courtesans in the House of Lycus (albeit still a virgin).\\\"\\\"\\\"\\ndoc = nlp(text)\\nsentence_spans = list(doc.sents)\\ndisplacy.serve(sentence_spans, style=\\\"dep\\\")\\n\"\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-ent\",\n      children: [_jsx(_components.h2, {\n        id: \"ent\",\n        children: \"Visualizing the entity recognizer \"\n      }), _jsxs(_components.p, {\n        children: [\"The entity visualizer, \", _jsx(InlineCode, {\n          children: \"ent\"\n        }), \", highlights named entities and their labels in a\\ntext.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Named Entity example\",\n          children: \"import spacy\\nfrom spacy import displacy\\n\\ntext = \\\"When Sebastian Thrun started working on self-driving cars at Google in 2007, few people outside of the company took him seriously.\\\"\\n\\nnlp = spacy.load(\\\"en_core_web_sm\\\")\\ndoc = nlp(text)\\ndisplacy.serve(doc, style=\\\"ent\\\")\\n\"\n        })\n      }), _jsx(Iframe, {\n        title: \"displaCy visualizer for entities\",\n        src: \"/images/displacy-ent2.html\",\n        height: 180\n      }), _jsxs(_components.p, {\n        children: [\"The entity visualizer lets you customize the following \", _jsx(InlineCode, {\n          children: \"options\"\n        }), \":\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Argument\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"ents\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Entity types to highlight (\", _jsx(InlineCode, {\n                children: \"None\"\n              }), \" for all types). Defaults to \", _jsx(InlineCode, {\n                children: \"None\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Optional[List[str]]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"colors\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Color overrides. Entity types should be mapped to color names or values. Defaults to \", _jsx(InlineCode, {\n                children: \"{}\"\n              }), \". \", _jsx(_components.del, {\n                children: \"Dict[str, str]\"\n              })]\n            })]\n          })]\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"If you specify a list of \", _jsx(InlineCode, {\n          children: \"ents\"\n        }), \", only those entity types will be rendered – for\\nexample, you can choose to display \", _jsx(InlineCode, {\n          children: \"PERSON\"\n        }), \" entities. Internally, the visualizer\\nknows nothing about available entity types and will render whichever spans and\\nlabels it receives. This makes it especially easy to work with custom entity\\ntypes. By default, displaCy comes with colors for all entity types used by\\n\", _jsx(_components.a, {\n          href: \"/models\",\n          children: \"trained spaCy pipelines\"\n        }), \". If you’re using custom entity types, you can\\nuse the \", _jsx(InlineCode, {\n          children: \"colors\"\n        }), \" setting to add your own colors for them.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Options example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"colors = {\\\"ORG\\\": \\\"linear-gradient(90deg, #aa9cfc, #fc9ce7)\\\"}\\noptions = {\\\"ents\\\": [\\\"ORG\\\"], \\\"colors\\\": colors}\\ndisplacy.serve(doc, style=\\\"ent\\\", options=options)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(Iframe, {\n        title: \"displaCy visualizer for entities (custom styling)\",\n        src: \"/images/displacy-ent-custom.html\",\n        height: 225\n      }), _jsxs(_components.p, {\n        children: [\"The above example uses a little trick: Since the background color values are\\nadded as the \", _jsx(InlineCode, {\n          children: \"background\"\n        }), \" style attribute, you can use any\\n\", _jsx(_components.a, {\n          href: \"https://tympanus.net/codrops/css_reference/background/\",\n          children: \"valid background value\"\n        }), \"\\nor shorthand – including gradients and even images!\"]\n      }), _jsx(_components.h3, {\n        id: \"ent-titles\",\n        children: \"Adding titles to documents \"\n      }), _jsxs(_components.p, {\n        children: [\"Rendering several large documents on one page can easily become confusing. To\\nadd a headline to each visualization, you can add a \", _jsx(InlineCode, {\n          children: \"title\"\n        }), \" to its \", _jsx(InlineCode, {\n          children: \"user_data\"\n        }), \".\\nUser data is never touched or modified by spaCy.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          children: \"doc = nlp(\\\"This is a sentence about Google.\\\")\\ndoc.user_data[\\\"title\\\"] = \\\"This is a title\\\"\\ndisplacy.serve(doc, style=\\\"ent\\\")\\n\"\n        })\n      }), _jsx(_components.p, {\n        children: \"This feature is especially handy if you’re using displaCy to compare performance\\nat different stages of a process, e.g. during training. Here you could use the\\ntitle for a brief description of the text example and the number of iterations.\"\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-span\",\n      children: [_jsx(_components.h2, {\n        id: \"span\",\n        children: \"Visualizing spans \"\n      }), _jsxs(_components.p, {\n        children: [\"The span visualizer, \", _jsx(InlineCode, {\n          children: \"span\"\n        }), \", highlights overlapping spans in a text.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Span example\",\n          children: \"import spacy\\nfrom spacy import displacy\\nfrom spacy.tokens import Span\\n\\ntext = \\\"Welcome to the Bank of China.\\\"\\n\\nnlp = spacy.blank(\\\"en\\\")\\ndoc = nlp(text)\\n\\ndoc.spans[\\\"sc\\\"] = [\\n    Span(doc, 3, 6, \\\"ORG\\\"),\\n    Span(doc, 5, 6, \\\"GPE\\\"),\\n]\\n\\ndisplacy.serve(doc, style=\\\"span\\\")\\n\"\n        })\n      }), _jsx(Iframe, {\n        title: \"displaCy visualizer for overlapping spans\",\n        src: \"/images/displacy-span.html\",\n        height: 180\n      }), _jsxs(_components.p, {\n        children: [\"The span visualizer lets you customize the following \", _jsx(InlineCode, {\n          children: \"options\"\n        }), \":\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Argument\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spans_key\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Which spans key to render spans from. Default is \", _jsx(InlineCode, {\n                children: \"\\\"sc\\\"\"\n              }), \". \", _jsx(_components.del, {\n                children: \"str\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"templates\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Dictionary containing the keys \", _jsx(InlineCode, {\n                children: \"\\\"span\\\"\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"\\\"slice\\\"\"\n              }), \", and \", _jsx(InlineCode, {\n                children: \"\\\"start\\\"\"\n              }), \". These dictate how the overall span, a span slice, and the starting token will be rendered. \", _jsx(_components.del, {\n                children: \"Optional[Dict[str, str]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"kb_url_template\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional template to construct the KB url for the entity to link to. Expects a python f-string format with single field to fill in \", _jsx(_components.del, {\n                children: \"Optional[str]\"\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"colors\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Color overrides. Entity types should be mapped to color names or values. \", _jsx(_components.del, {\n                children: \"Dict[str, str]\"\n              })]\n            })]\n          })]\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"Because spans can be stored across different keys in \", _jsx(InlineCode, {\n          children: \"doc.spans\"\n        }), \", you need to\\nspecify which one displaCy should use with \", _jsx(InlineCode, {\n          children: \"spans_key\"\n        }), \" (\", _jsx(InlineCode, {\n          children: \"sc\"\n        }), \" is the default).\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Options example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"doc.spans[\\\"custom\\\"] = [Span(doc, 3, 6, \\\"BANK\\\")]\\noptions = {\\\"spans_key\\\": \\\"custom\\\"}\\ndisplacy.serve(doc, style=\\\"span\\\", options=options)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(Iframe, {\n        title: \"displaCy visualizer for spans (custom spans_key)\",\n        src: \"/images/displacy-span-custom.html\",\n        height: 225\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-jupyter\",\n      children: [_jsx(_components.h2, {\n        id: \"jupyter\",\n        children: \"Using displaCy in Jupyter notebooks \"\n      }), _jsxs(_components.p, {\n        children: [\"displaCy is able to detect whether you’re working in a\\n\", _jsx(_components.a, {\n          href: \"https://jupyter.org\",\n          children: \"Jupyter\"\n        }), \" notebook, and will return markup that can be\\nrendered in a cell straight away. When you export your notebook, the\\nvisualizations will be included as HTML.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Jupyter example\",\n          children: \"# Don't forget to install a trained pipeline, e.g.: python -m spacy download en\\n\\n# In[1]:\\nimport spacy\\nfrom spacy import displacy\\n\\n# In[2]:\\ndoc = nlp(\\\"Rats are various medium-sized, long-tailed rodents.\\\")\\ndisplacy.render(doc, style=\\\"dep\\\")\\n\\n# In[3]:\\ndoc2 = nlp(LONG_NEWS_ARTICLE)\\ndisplacy.render(doc2, style=\\\"ent\\\")\\n\"\n        })\n      }), _jsx(Infobox, {\n        variant: \"warning\",\n        title: \"Important note\",\n        children: _jsxs(_components.p, {\n          children: [\"To explicitly enable or disable “Jupyter mode”, you can use the \", _jsx(InlineCode, {\n            children: \"jupyter\"\n          }), \"\\nkeyword argument – e.g. to return raw HTML in a notebook, or to force Jupyter\\nrendering if auto-detection fails.\"]\n        })\n      }), _jsx(_components.img, {\n        src: \"/images/displacy_jupyter.jpg\",\n        alt: \"displaCy visualizer in a Jupyter notebook\"\n      }), _jsxs(_components.p, {\n        children: [\"Internally, displaCy imports \", _jsx(InlineCode, {\n          children: \"display\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"HTML\"\n        }), \" from \", _jsx(InlineCode, {\n          children: \"IPython.core.display\"\n        }), \"\\nand returns a Jupyter HTML object. If you were doing it manually, it’d look like\\nthis:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          children: \"from IPython.core.display import display, HTML\\n\\nhtml = displacy.render(doc, style=\\\"dep\\\")\\ndisplay(HTML(html))\\n\"\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-html\",\n      children: [_jsx(_components.h2, {\n        id: \"html\",\n        children: \"Rendering HTML \"\n      }), _jsxs(_components.p, {\n        children: [\"If you don’t need the web server and just want to generate the markup – for\\nexample, to export it to a file or serve it in a custom way – you can use\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#displacy.render\",\n          children: _jsx(InlineCode, {\n            children: \"displacy.render\"\n          })\n        }), \". It works the same way, but\\nreturns a string containing the markup.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Example\",\n          children: \"import spacy\\nfrom spacy import displacy\\n\\nnlp = spacy.load(\\\"en_core_web_sm\\\")\\ndoc1 = nlp(\\\"This is a sentence.\\\")\\ndoc2 = nlp(\\\"This is another sentence.\\\")\\nhtml = displacy.render([doc1, doc2], style=\\\"dep\\\", page=True)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [_jsx(InlineCode, {\n          children: \"page=True\"\n        }), \" renders the markup wrapped as a full HTML page. For minified and\\nmore compact HTML markup, you can set \", _jsx(InlineCode, {\n          children: \"minify=True\"\n        }), \". If you’re rendering a\\ndependency parse, you can also export it as an \", _jsx(InlineCode, {\n          children: \".svg\"\n        }), \" file.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"What’s SVG?\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Unlike other image formats, the SVG (Scalable Vector Graphics) uses XML markup\\nthat’s easy to manipulate\\n\", _jsx(_components.a, {\n            href: \"https://www.smashingmagazine.com/2014/11/styling-and-animating-svgs-with-css/\",\n            children: \"using CSS\"\n          }), \"\\nor\\n\", _jsx(_components.a, {\n            href: \"https://css-tricks.com/smil-is-dead-long-live-smil-a-guide-to-alternatives-to-smil-features/\",\n            children: \"JavaScript\"\n          }), \".\\nEssentially, SVG lets you design with code, which makes it a perfect fit for\\nvisualizing dependency trees. SVGs can be embedded online in an \", _jsx(InlineCode, {\n            children: \"\u003cimg\u003e\"\n          }), \" tag,\\nor inlined in an HTML document. They’re also pretty easy to\\n\", _jsx(_components.a, {\n            href: \"https://convertio.co/image-converter/\",\n            children: \"convert\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          children: \"svg = displacy.render(doc, style=\\\"dep\\\")\\noutput_path = Path(\\\"/images/sentence.svg\\\")\\noutput_path.open(\\\"w\\\", encoding=\\\"utf-8\\\").write(svg)\\n\"\n        })\n      }), _jsx(Infobox, {\n        title: \"Important note\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"Since each visualization is generated as a separate SVG, exporting \", _jsx(InlineCode, {\n            children: \".svg\"\n          }), \" files\\nonly works if you’re rendering \", _jsx(_components.strong, {\n            children: \"one single doc\"\n          }), \" at a time. (This makes sense –\\nafter all, each visualization should be a standalone graphic.) So instead of\\nrendering all \", _jsx(InlineCode, {\n            children: \"Doc\"\n          }), \"s at once, loop over them and export them separately.\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"examples-export-svg\",\n        children: \"Example: Export SVG graphics of dependency parses \"\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Example\",\n          children: \"import spacy\\nfrom spacy import displacy\\nfrom pathlib import Path\\n\\nnlp = spacy.load(\\\"en_core_web_sm\\\")\\nsentences = [\\\"This is an example.\\\", \\\"This is another one.\\\"]\\nfor sent in sentences:\\n    doc = nlp(sent)\\n    svg = displacy.render(doc, style=\\\"dep\\\", jupyter=False)\\n    file_name = '-'.join([w.text for w in doc if not w.is_punct]) + \\\".svg\\\"\\n    output_path = Path(\\\"/images/\\\" + file_name)\\n    output_path.open(\\\"w\\\", encoding=\\\"utf-8\\\").write(svg)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The above code will generate the dependency visualizations as two files,\\n\", _jsx(InlineCode, {\n          children: \"This-is-an-example.svg\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"This-is-another-one.svg\"\n        }), \".\"]\n      }), _jsx(_components.h3, {\n        id: \"manual-usage\",\n        children: \"Rendering data manually \"\n      }), _jsxs(_components.p, {\n        children: [\"You can also use displaCy to manually render data. This can be useful if you\\nwant to visualize output from other libraries, like \", _jsx(_components.a, {\n          href: \"http://www.nltk.org\",\n          children: \"NLTK\"\n        }), \"\\nor\\n\", _jsx(_components.a, {\n          href: \"https://github.com/tensorflow/models/tree/master/research/syntaxnet\",\n          children: \"SyntaxNet\"\n        }), \".\\nIf you set \", _jsx(InlineCode, {\n          children: \"manual=True\"\n        }), \" on either \", _jsx(InlineCode, {\n          children: \"render()\"\n        }), \" or \", _jsx(InlineCode, {\n          children: \"serve()\"\n        }), \", you can pass in data\\nin displaCy’s format as a dictionary (instead of \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects). There are\\nhelper functions for converting \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects to displaCy’s format for use with\\n\", _jsx(InlineCode, {\n          children: \"manual=True\"\n        }), \": \", _jsx(_components.a, {\n          href: \"/api/top-level#displacy.parse_deps\",\n          children: _jsx(InlineCode, {\n            children: \"displacy.parse_deps\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#displacy.parse_ents\",\n          children: _jsx(InlineCode, {\n            children: \"displacy.parse_ents\"\n          })\n        }), \", and\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#displacy.parse_spans\",\n          children: _jsx(InlineCode, {\n            children: \"displacy.parse_spans\"\n          })\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example with parse function\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"doc = nlp(\\\"But Google is starting from behind.\\\")\\nex = displacy.parse_ents(doc)\\nhtml = displacy.render(ex, style=\\\"ent\\\", manual=True)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example with raw data\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"ex = [{\\\"text\\\": \\\"But Google is starting from behind.\\\",\\n       \\\"ents\\\": [{\\\"start\\\": 4, \\\"end\\\": 10, \\\"label\\\": \\\"ORG\\\"}],\\n       \\\"title\\\": None}]\\nhtml = displacy.render(ex, style=\\\"ent\\\", manual=True)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"DEP input\",\n          children: \"{\\n    \\\"words\\\": [\\n        {\\\"text\\\": \\\"This\\\", \\\"tag\\\": \\\"DT\\\"},\\n        {\\\"text\\\": \\\"is\\\", \\\"tag\\\": \\\"VBZ\\\"},\\n        {\\\"text\\\": \\\"a\\\", \\\"tag\\\": \\\"DT\\\"},\\n        {\\\"text\\\": \\\"sentence\\\", \\\"tag\\\": \\\"NN\\\"}\\n    ],\\n    \\\"arcs\\\": [\\n        {\\\"start\\\": 0, \\\"end\\\": 1, \\\"label\\\": \\\"nsubj\\\", \\\"dir\\\": \\\"left\\\"},\\n        {\\\"start\\\": 2, \\\"end\\\": 3, \\\"label\\\": \\\"det\\\", \\\"dir\\\": \\\"left\\\"},\\n        {\\\"start\\\": 1, \\\"end\\\": 3, \\\"label\\\": \\\"attr\\\", \\\"dir\\\": \\\"right\\\"}\\n    ]\\n}\\n\"\n        })\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"ENT input\",\n          children: \"{\\n    \\\"text\\\": \\\"But Google is starting from behind.\\\",\\n    \\\"ents\\\": [{\\\"start\\\": 4, \\\"end\\\": 10, \\\"label\\\": \\\"ORG\\\"}],\\n    \\\"title\\\": None\\n}\\n\"\n        })\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"ENT input with knowledge base links\",\n          children: \"{\\n    \\\"text\\\": \\\"But Google is starting from behind.\\\",\\n    \\\"ents\\\": [{\\\"start\\\": 4, \\\"end\\\": 10, \\\"label\\\": \\\"ORG\\\", \\\"kb_id\\\": \\\"Q95\\\", \\\"kb_url\\\": \\\"https://www.wikidata.org/entity/Q95\\\"}],\\n    \\\"title\\\": None\\n}\\n\"\n        })\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"SPANS input\",\n          children: \"{\\n    \\\"text\\\": \\\"Welcome to the Bank of China.\\\",\\n    \\\"spans\\\": [\\n        {\\\"start_token\\\": 3, \\\"end_token\\\": 6, \\\"label\\\": \\\"ORG\\\"},\\n        {\\\"start_token\\\": 5, \\\"end_token\\\": 6, \\\"label\\\": \\\"GPE\\\"},\\n    ],\\n    \\\"tokens\\\": [\\\"Welcome\\\", \\\"to\\\", \\\"the\\\", \\\"Bank\\\", \\\"of\\\", \\\"China\\\", \\\".\\\"],\\n}\\n\"\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-webapp\",\n      children: [_jsx(_components.h2, {\n        id: \"webapp\",\n        children: \"Using displaCy in a web application \"\n      }), _jsxs(_components.p, {\n        children: [\"If you want to use the visualizers as part of a web application, for example to\\ncreate something like our \", _jsx(_components.a, {\n          href: \"https://explosion.ai/demos/displacy\",\n          children: \"online demo\"\n        }), \",\\nit’s not recommended to only wrap and serve the displaCy renderer. Instead, you\\nshould only rely on the server to perform spaCy’s processing capabilities, and\\nuse a client-side implementation like\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/displacy\",\n          children: _jsx(InlineCode, {\n            children: \"displaCy.js\"\n          })\n        }), \" to render the\\nJSON-formatted output.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Why not return the HTML by the server?\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"It’s certainly possible to just have your server return the markup. But\\noutputting raw, unsanitized HTML is risky and makes your app vulnerable to\\n\", _jsx(_components.a, {\n            href: \"https://en.wikipedia.org/wiki/Cross-site_scripting\",\n            children: \"cross-site scripting\"\n          }), \"\\n(XSS). All your user needs to do is find a way to make spaCy return text like\\n\", _jsx(InlineCode, {\n            children: \"\u003cscript src=\\\"malicious-code.js\\\"\u003e\u003c/script\u003e\"\n          }), \", which is pretty easy in NER mode.\\nInstead of relying on the server to render and sanitize HTML, you can do this\\non the client in JavaScript. displaCy.js creates the markup as DOM nodes and\\nwill never insert raw HTML.\"]\n        }), \"\\n\"]\n      }), _jsxs(Grid, {\n        cols: 2,\n        children: [_jsxs(_components.p, {\n          children: [\"Alternatively, if you’re using \", _jsx(_components.a, {\n            href: \"https://streamlit.io\",\n            children: \"Streamlit\"\n          }), \", check out the\\n\", _jsx(_components.a, {\n            href: \"https://github.com/explosion/spacy-streamlit\",\n            children: _jsx(InlineCode, {\n              children: \"spacy-streamlit\"\n            })\n          }), \" package that\\nhelps you integrate spaCy visualizations into your apps. It includes a full\\nembedded visualizer, as well as individual components.\"]\n        }), _jsx(_components.img, {\n          src: \"/images/spacy-streamlit.png\",\n          alt: \"Screenshot of the spacy-streamlit package in Streamlit\"\n        })]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"Visualizers","teaser":"Visualize dependencies and entities in your browser or in a notebook","version":2,"menu":[["Dependencies","dep"],["Named Entities","ent"],["Spans","span"],["Jupyter Notebooks","jupyter"],["Rendering HTML","html"],["Web app usage","webapp"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":null},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["usage","visualizers"]},"buildId":"2lY2cUyEfZosk4VLgkHb2","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>