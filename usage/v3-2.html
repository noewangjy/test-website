<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>What&#x27;s New in v3.2 ¬∑ spaCy Usage Documentation</title><meta name="description" content="New features and how to upgrade"/><meta property="og:title" content="What&#x27;s New in v3.2 ¬∑ spaCy Usage Documentation"/><meta property="og:description" content="New features and how to upgrade"/><meta property="og:type" content="website"/><meta property="og:site_name" content="What&#x27;s New in v3.2"/><meta property="og:image" content="https://spacy.io/_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://spacy.io/_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="What&#x27;s New in v3.2 ¬∑ spaCy Usage Documentation"/><meta name="twitter:description" content="New features and how to upgrade"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-eb3ea1261af64e73.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/Ugre-usgT1EZhnSeYcBR9/_buildManifest.js" defer=""></script><script src="/_next/static/Ugre-usgT1EZhnSeYcBR9/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-blue"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>üí• Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage" selected="">Usage</option><option value="/models">Models</option><option value="/api">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Get started</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/usage">Get started<!-- --> ‚Ä∫ <!-- -->Installation</option><option value="/usage/models">Get started<!-- --> ‚Ä∫ <!-- -->Models &amp; Languages</option><option value="/usage/facts-figures">Get started<!-- --> ‚Ä∫ <!-- -->Facts &amp; Figures</option><option value="/usage/spacy-101">Get started<!-- --> ‚Ä∫ <!-- -->spaCy 101</option><option value="/usage/v3">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.0</option><option value="/usage/v3-1">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.1</option><option value="/usage/v3-2" selected="">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.2</option><option value="/usage/v3-3">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.3</option><option value="/usage/v3-4">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.4</option><option value="/usage/v3-5">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.5</option><option value="/usage/linguistic-features">Guides<!-- --> ‚Ä∫ <!-- -->Linguistic Features</option><option value="/usage/rule-based-matching">Guides<!-- --> ‚Ä∫ <!-- -->Rule-based Matching</option><option value="/usage/processing-pipelines">Guides<!-- --> ‚Ä∫ <!-- -->Processing Pipelines</option><option value="/usage/embeddings-transformers">Guides<!-- --> ‚Ä∫ <!-- -->Embeddings &amp; Transformers</option><option value="/usage/training">Guides<!-- --> ‚Ä∫ <!-- -->Training Models</option><option value="/usage/layers-architectures">Guides<!-- --> ‚Ä∫ <!-- -->Layers &amp; Model Architectures</option><option value="/usage/projects">Guides<!-- --> ‚Ä∫ <!-- -->spaCy Projects</option><option value="/usage/saving-loading">Guides<!-- --> ‚Ä∫ <!-- -->Saving &amp; Loading</option><option value="/usage/visualizers">Guides<!-- --> ‚Ä∫ <!-- -->Visualizers</option><option value="https://github.com/explosion/projects">Resources<!-- --> ‚Ä∫ <!-- -->Project Templates</option><option value="https://v2.spacy.io">Resources<!-- --> ‚Ä∫ <!-- -->v2.x Documentation</option><option value="https://explosion.ai/custom-solutions">Resources<!-- --> ‚Ä∫ <!-- -->Custom Solutions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Get started</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage">Installation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/models">Models &amp; Languages</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/facts-figures">Facts &amp; Figures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/spacy-101">spaCy 101</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3">New in v3.0</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-1">New in v3.1</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/usage/v3-2">New in v3.2</a><ul class="sidebar_crumbs__NhM2y"><li class="sidebar_crumb__tiiDl sidebar_crumb-active__zq8BI"><a href="#features">New Features</a></li><li class="sidebar_crumb__tiiDl"><a href="#upgrading">Upgrading Notes</a></li></ul></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-3">New in v3.3</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-4">New in v3.4</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-5">New in v3.5</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Guides</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/linguistic-features">Linguistic Features</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/rule-based-matching">Rule-based Matching</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/processing-pipelines">Processing Pipelines</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/embeddings-transformers">Embeddings &amp; Transformers<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/training">Training Models<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/layers-architectures">Layers &amp; Model Architectures<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/projects">spaCy Projects<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/saving-loading">Saving &amp; Loading</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/visualizers">Visualizers</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Resources</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects">Project Templates</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://v2.spacy.io">v2.x Documentation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">What&#x27;s New in v3.2<!-- --> </span></h1><div class="heading-teaser title_teaser__QhwCH">New features and how to upgrade</div></header><section id="section-features" class="section_root__k1hUl"><p>spaCy v3.2 adds support for <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/floret"><code class="code_inline-code__Bq7ot">floret</code></a>
vectors, makes custom <code class="code_inline-code__Bq7ot">Doc</code> creation and scoring easier, and includes many bug
fixes and improvements. For the trained pipelines, there‚Äôs a new transformer
pipeline for Japanese and the Universal Dependencies training data has been
updated across the board to the most recent release.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üì£</span>Improve performance for spaCy on Apple M1 with AppleOps</span></h4><p>spaCy is now up to <strong>8 √ó faster on M1 Macs</strong> by calling into Apple‚Äôs
native Accelerate library for matrix multiplication. For more details, see
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/thinc-apple-ops"><code class="code_inline-code__Bq7ot">thinc-apple-ops</code></a>.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre></aside><h3 id="registered-scoring-functions" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#registered-scoring-functions" class="heading-text typography_permalink__UiIRy">Registered scoring functions <!-- --> </a></h3><p>To customize the scoring, you can specify a scoring function for each component
in your config from the new <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#registry"><code class="code_inline-code__Bq7ot">scorers</code> registry</a>:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">config.cfg (excerpt)</h4><code class="code_code__CILJL language-ini language-ini code_wrap__b41os"></code></pre><h3 id="overwrite" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#overwrite" class="heading-text typography_permalink__UiIRy">Overwrite settings <!-- --> </a></h3><p>Most pipeline components now include an <code class="code_inline-code__Bq7ot">overwrite</code> setting in the config that
determines whether existing annotation in the <code class="code_inline-code__Bq7ot">Doc</code> is preserved or overwritten:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">config.cfg (excerpt)</h4><code class="code_code__CILJL language-ini language-ini code_wrap__b41os"></code></pre><h3 id="doc-input" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#doc-input" class="heading-text typography_permalink__UiIRy">Doc input for pipelines <!-- --> </a></h3><p><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#call"><code class="code_inline-code__Bq7ot">nlp</code></a> and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#pipe"><code class="code_inline-code__Bq7ot">nlp.pipe</code></a> accept
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a> input, skipping the tokenizer if a <code class="code_inline-code__Bq7ot">Doc</code> is provided instead
of a string. This makes it easier to create a <code class="code_inline-code__Bq7ot">Doc</code> with custom tokenization or
to set custom extensions before processing:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre><h3 id="vectors" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#vectors" class="heading-text typography_permalink__UiIRy">Support for floret vectors <!-- --> </a></h3><p>We recently published <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/floret"><code class="code_inline-code__Bq7ot">floret</code></a>, an
extended version of <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://fasttext.cc">fastText</a> that combines fastText‚Äôs
subwords with Bloom embeddings for compact, full-coverage vectors. The use of
subwords means that there are no OOV words and due to Bloom embeddings, the
vector table can be kept very small at &lt;100K entries. Bloom embeddings are
already used by <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-layers#hashembed">HashEmbed</a> in
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#tok2vec-arch"><span class="link_source-text__VDP74">tok2vec</span></a> for compact spaCy models.</p><p>For easy integration, floret includes a
<a class="link_root__1Me7D link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/floret/blob/main/python/README.md"><span class="link_source-text__VDP74">Python wrapper</span></a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>A demo project shows how to train and import floret vectors:</p><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">ü™ê</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/floret_vectors_demo"><code class="code_inline-code__Bq7ot">pipelines/floret_vectors_demo</code></a></span></h4><p>Train toy English floret vectors and import them into a spaCy pipeline.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone pipelines/floret_vectors_demo</textarea></div></aside><p>Two additional demo projects compare standard fastText vectors with floret
vectors for full spaCy pipelines. For agglutinative languages like Finnish or
Korean, there are large improvements in performance due to the use of subwords
(no OOV words!), with a vector table containing merely 50K entries.</p><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">ü™ê</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/floret_fi_core_demo"><code class="code_inline-code__Bq7ot">pipelines/floret_fi_core_demo</code></a></span></h4><p>Finnish UD+NER vector and pipeline training, comparing standard fasttext vs.
floret vectors.</p><p>For the default project settings with 1M (2.6G) tokenized training texts and 50K
300-dim vectors, ~300K keys for the standard vectors:</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Vectors</th><th class="table_th__QJ9F8" align="right">TAG</th><th class="table_th__QJ9F8" align="right">POS</th><th class="table_th__QJ9F8" align="right">DEP UAS</th><th class="table_th__QJ9F8" align="right">DEP LAS</th><th class="table_th__QJ9F8" align="right">NER F</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">none</td><td class="table_td__rmpJx table_num__mTxMB" align="right">93.3</td><td class="table_td__rmpJx table_num__mTxMB" align="right">92.3</td><td class="table_td__rmpJx table_num__mTxMB" align="right">79.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">72.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">61.0</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">standard (pruned: 50K vectors for 300K keys)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">83.3</td><td class="table_td__rmpJx table_num__mTxMB" align="right">77.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">68.5</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">standard (unpruned: 300K vectors/keys)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">96.0</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.0</td><td class="table_td__rmpJx" align="right"><strong>83.8</strong></td><td class="table_td__rmpJx table_num__mTxMB" align="right">78.4</td><td class="table_td__rmpJx table_num__mTxMB" align="right">69.1</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">floret (minn 4, maxn 5; 50K vectors, no OOV)</td><td class="table_td__rmpJx" align="right"><strong>96.6</strong></td><td class="table_td__rmpJx" align="right"><strong>95.5</strong></td><td class="table_td__rmpJx table_num__mTxMB" align="right">83.5</td><td class="table_td__rmpJx" align="right"><strong>78.5</strong></td><td class="table_td__rmpJx" align="right"><strong>70.9</strong></td></tr></tbody></table><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone pipelines/floret_fi_core_demo</textarea></div></aside><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">ü™ê</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/floret_ko_ud_demo"><code class="code_inline-code__Bq7ot">pipelines/floret_ko_ud_demo</code></a></span></h4><p>Korean UD vector and pipeline training, comparing standard fasttext vs. floret
vectors.</p><p>For the default project settings with 1M (3.3G) tokenized training texts and 50K
300-dim vectors, ~800K keys for the standard vectors:</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Vectors</th><th class="table_th__QJ9F8" align="right">TAG</th><th class="table_th__QJ9F8" align="right">POS</th><th class="table_th__QJ9F8" align="right">DEP UAS</th><th class="table_th__QJ9F8" align="right">DEP LAS</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">none</td><td class="table_td__rmpJx table_num__mTxMB" align="right">72.5</td><td class="table_td__rmpJx table_num__mTxMB" align="right">85.0</td><td class="table_td__rmpJx table_num__mTxMB" align="right">73.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">64.3</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">standard (pruned: 50K vectors for 800K keys)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">77.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">89.4</td><td class="table_td__rmpJx table_num__mTxMB" align="right">78.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">72.8</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">standard (unpruned: 800K vectors/keys)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">79.0</td><td class="table_td__rmpJx table_num__mTxMB" align="right">90.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">79.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">73.9</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">floret (minn 2, maxn 3; 50K vectors, no OOV)</td><td class="table_td__rmpJx" align="right"><strong>82.5</strong></td><td class="table_td__rmpJx" align="right"><strong>93.8</strong></td><td class="table_td__rmpJx" align="right"><strong>83.0</strong></td><td class="table_td__rmpJx" align="right"><strong>80.1</strong></td></tr></tbody></table><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone pipelines/floret_ko_ud_demo</textarea></div></aside><h3 id="spacy-transformers" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#spacy-transformers" class="heading-text typography_permalink__UiIRy">Updates for spacy-transformers v1.1 <!-- --> </a></h3><p><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-transformers"><code class="code_inline-code__Bq7ot">spacy-transformers</code></a> v1.1 has
been refactored to improve serialization and support of inline transformer
components and replacing listeners. In addition, the transformer model output is
provided as
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/transformers/main_classes/output.html?highlight=modeloutput#transformers.file_utils.ModelOutput"><code class="code_inline-code__Bq7ot">ModelOutput</code></a>
instead of tuples in
<code class="code_inline-code__Bq7ot code_wrap__b41os">TransformerData.model_output and FullTransformerBatch.model_output.</code> For
backwards compatibility, the tuple format remains available under
<code class="code_inline-code__Bq7ot">TransformerData.tensors</code> and <code class="code_inline-code__Bq7ot">FullTransformerBatch.tensors</code>. See more details
in the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#TransformerModel"><span class="link_source-text__VDP74">transformer API docs</span></a>.</p><p><code class="code_inline-code__Bq7ot">spacy-transfomers</code> v1.1 also adds support for <code class="code_inline-code__Bq7ot">transformer_config</code> settings
such as <code class="code_inline-code__Bq7ot">output_attentions</code>. Additional output is stored under
<code class="code_inline-code__Bq7ot">TransformerData.model_output</code>. More details are in the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#TransformerModel"><span class="link_source-text__VDP74">TransformerModel docs</span></a>. The training speed
has been improved by streamlining allocations for tokenizer output and there is
new support for <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#TransformerModel"><span class="link_source-text__VDP74">mixed-precision training</span></a>.</p><h3 id="pipeline-packages" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#pipeline-packages" class="heading-text typography_permalink__UiIRy">New transformer package for Japanese <!-- --> </a></h3><p>spaCy v3.2 adds a new transformer pipeline package for Japanese
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/ja#ja_core_news_trf"><code class="code_inline-code__Bq7ot">ja_core_news_trf</code></a>, which uses the <code class="code_inline-code__Bq7ot">basic</code>
pretokenizer instead of <code class="code_inline-code__Bq7ot">mecab</code> to limit the number of dependencies required for
the pipeline. Thanks to Hiroshi Matsuda and the spaCy Japanese community for
their contributions!</p><h3 id="pipeline-updates" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#pipeline-updates" class="heading-text typography_permalink__UiIRy">Pipeline and language updates <!-- --> </a></h3><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">All Universal Dependencies training data has been updated to v2.8.</li>
<li class="list_li__sfx_z">The Catalan data, tokenizer and lemmatizer have been updated, thanks to Carlos
Rodriguez, Carme Armentano and the Barcelona Supercomputing Center!</li>
<li class="list_li__sfx_z">The transformer pipelines are trained using spacy-transformers v1.1, with
improved IO and more options for
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#TransformerModel"><span class="link_source-text__VDP74">model config and output</span></a>.</li>
<li class="list_li__sfx_z">Trailing whitespace has been added as a <code class="code_inline-code__Bq7ot">tok2vec</code> feature, improving the
performance for many components, especially fine-grained tagging and sentence
segmentation.</li>
<li class="list_li__sfx_z">The English attribute ruler patterns have been overhauled to improve
<code class="code_inline-code__Bq7ot">Token.pos</code> and <code class="code_inline-code__Bq7ot">Token.morph</code>.</li>
</ul><p>spaCy v3.2 also features a new Irish lemmatizer, support for <code class="code_inline-code__Bq7ot">noun_chunks</code> in
Portuguese, improved <code class="code_inline-code__Bq7ot">noun_chunks</code> for Spanish and additional updates for
Bulgarian, Catalan, Sinhala, Tagalog, Tigrinya and Vietnamese.</p></section>
<section id="section-upgrading" class="section_root__k1hUl"><h2 id="upgrading" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#upgrading" class="heading-text typography_permalink__UiIRy">Notes about upgrading from v3.1 <!-- --> </a></h2><h3 id="version-compat" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#version-compat" class="heading-text typography_permalink__UiIRy">Pipeline package version compatibility <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Using legacy implementations<!-- --> </span></h4>
<p>In spaCy v3, you‚Äôll still be able to load and reference legacy implementations
via <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-legacy"><code class="code_inline-code__Bq7ot">spacy-legacy</code></a>, even if the
components or architectures change and newer versions are available in the
core library.</p>
</div></div></aside><p>When you‚Äôre loading a pipeline package trained with spaCy v3.0 or v3.1, you will
see a warning telling you that the pipeline may be incompatible. This doesn‚Äôt
necessarily have to be true, but we recommend running your pipelines against
your test suite or evaluation data to make sure there are no unexpected results.
If you‚Äôre using one of the <a class="link_root__1Me7D" href="/models">trained pipelines</a> we provide, you should
run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#download"><code class="code_inline-code__Bq7ot">spacy download</code></a> to update to the latest version. To
see an overview of all installed packages and their compatibility, you can run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#validate"><code class="code_inline-code__Bq7ot">spacy validate</code></a>.</p><p>If you‚Äôve trained your own custom pipeline and you‚Äôve confirmed that it‚Äôs still
working as expected, you can update the spaCy version requirements in the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#meta"><code class="code_inline-code__Bq7ot">meta.json</code></a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Updating v3.1 configs<!-- --> </span></h3><p>To update a config from spaCy v3.1 with the new v3.2 settings, run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-fill-config"><code class="code_inline-code__Bq7ot">init fill-config</code></a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>In many cases (<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">spacy train</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.load"><code class="code_inline-code__Bq7ot">spacy.load</code></a>), the new defaults will be filled in
automatically, but you‚Äôll need to fill in the new settings to run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug"><code class="code_inline-code__Bq7ot">debug config</code></a> and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug-data"><code class="code_inline-code__Bq7ot">debug data</code></a>.</p></section>
<section id="section-upgrading-transformers" class="section_root__k1hUl"><h2 id="upgrading-transformers" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#upgrading-transformers" class="heading-text typography_permalink__UiIRy">Notes about upgrading from spacy-transformers v1.0 <!-- --> </a></h2><p>When you‚Äôre loading a transformer pipeline package trained with
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-transformers"><code class="code_inline-code__Bq7ot">spacy-transformers</code></a> v1.0
after upgrading to <code class="code_inline-code__Bq7ot">spacy-transformers</code> v1.1, you‚Äôll see a warning telling you
that the pipeline may be incompatible. <code class="code_inline-code__Bq7ot">spacy-transformers</code> v1.1 should be able
to import v1.0 <code class="code_inline-code__Bq7ot">transformer</code> components into the new internal format with no
change in performance, but here we‚Äôd also recommend running your test suite to
verify that the pipeline still performs as expected.</p><p>If you save your pipeline with <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#to_disk"><code class="code_inline-code__Bq7ot">nlp.to_disk</code></a>, it will
be saved in the new v1.1 format and should be fully compatible with
<code class="code_inline-code__Bq7ot">spacy-transformers</code> v1.1. Once you‚Äôve confirmed the performance, you can update
the requirements in <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#meta"><code class="code_inline-code__Bq7ot">meta.json</code></a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>If you‚Äôre using one of the <a class="link_root__1Me7D" href="/models">trained pipelines</a> we provide, you should
run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#download"><code class="code_inline-code__Bq7ot">spacy download</code></a> to update to the latest version. To
see an overview of all installed packages and their compatibility, you can run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#validate"><code class="code_inline-code__Bq7ot">spacy validate</code></a>.</p></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/usage/v3-2.mdx">Suggest edits</a></div><a class="link_root__1Me7D readnext_root__JNzwZ link_no-link-layout__RPvod" href="/usage/v3-3"><span><span class="typography_label__l_oVJ">Read next</span>New in v3.3</span><span class="readnext_icon__jfRnJ"></span></a></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_blue.d167bed5.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>¬© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"What's New in v3.2","teaser":"New features and how to upgrade","menu":[["New Features","features"],["Upgrading Notes","upgrading"]],"slug":"/usage/v3-2","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    h2: \"h2\",\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    pre: \"pre\",\n    code: \"code\",\n    h3: \"h3\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    ul: \"ul\",\n    li: \"li\",\n    blockquote: \"blockquote\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components), {InlineCode, Infobox, Project} = _components;\n  if (!Infobox) _missingMdxReference(\"Infobox\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  if (!Project) _missingMdxReference(\"Project\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      id: \"section-features\",\n      children: [_jsx(_components.h2, {\n        id: \"features\",\n        hidden: \"true\",\n        children: \"New Features \"\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.2 adds support for \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/floret\",\n          children: _jsx(InlineCode, {\n            children: \"floret\"\n          })\n        }), \"\\nvectors, makes custom \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" creation and scoring easier, and includes many bug\\nfixes and improvements. For the trained pipelines, there‚Äôs a new transformer\\npipeline for Japanese and the Universal Dependencies training data has been\\nupdated across the board to the most recent release.\"]\n      }), _jsxs(Infobox, {\n        title: \"Improve performance for spaCy on Apple M1 with AppleOps\",\n        variant: \"warning\",\n        emoji: \"üì£\",\n        children: [_jsxs(_components.p, {\n          children: [\"spaCy is now up to \", _jsx(_components.strong, {\n            children: \"8 √ó faster on M1 Macs\"\n          }), \" by calling into Apple‚Äôs\\nnative Accelerate library for matrix multiplication. For more details, see\\n\", _jsx(_components.a, {\n            href: \"https://github.com/explosion/thinc-apple-ops\",\n            children: _jsx(InlineCode, {\n              children: \"thinc-apple-ops\"\n            })\n          }), \".\"]\n        }), _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ pip install spacy[apple]\\n\"\n          })\n        })]\n      }), _jsx(_components.h3, {\n        id: \"registered-scoring-functions\",\n        children: \"Registered scoring functions \"\n      }), _jsxs(_components.p, {\n        children: [\"To customize the scoring, you can specify a scoring function for each component\\nin your config from the new \", _jsxs(_components.a, {\n          href: \"/api/top-level#registry\",\n          children: [_jsx(InlineCode, {\n            children: \"scorers\"\n          }), \" registry\"]\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-ini\",\n          lang: \"ini\",\n          title: \"config.cfg (excerpt)\",\n          highlight: \"3\",\n          children: \"[components.tagger]\\nfactory = \\\"tagger\\\"\\nscorer = {\\\"@scorers\\\":\\\"spacy.tagger_scorer.v1\\\"}\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"overwrite\",\n        children: \"Overwrite settings \"\n      }), _jsxs(_components.p, {\n        children: [\"Most pipeline components now include an \", _jsx(InlineCode, {\n          children: \"overwrite\"\n        }), \" setting in the config that\\ndetermines whether existing annotation in the \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" is preserved or overwritten:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-ini\",\n          lang: \"ini\",\n          title: \"config.cfg (excerpt)\",\n          highlight: \"3\",\n          children: \"[components.tagger]\\nfactory = \\\"tagger\\\"\\noverwrite = false\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"doc-input\",\n        children: \"Doc input for pipelines \"\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"/api/language#call\",\n          children: _jsx(InlineCode, {\n            children: \"nlp\"\n          })\n        }), \" and \", _jsx(_components.a, {\n          href: \"/api/language#pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.pipe\"\n          })\n        }), \" accept\\n\", _jsx(_components.a, {\n          href: \"/api/doc\",\n          children: _jsx(InlineCode, {\n            children: \"Doc\"\n          })\n        }), \" input, skipping the tokenizer if a \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" is provided instead\\nof a string. This makes it easier to create a \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" with custom tokenization or\\nto set custom extensions before processing:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          children: \"doc = nlp.make_doc(\\\"This is text 500.\\\")\\ndoc._.text_id = 500\\ndoc = nlp(doc)\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"vectors\",\n        children: \"Support for floret vectors \"\n      }), _jsxs(_components.p, {\n        children: [\"We recently published \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/floret\",\n          children: _jsx(InlineCode, {\n            children: \"floret\"\n          })\n        }), \", an\\nextended version of \", _jsx(_components.a, {\n          href: \"https://fasttext.cc\",\n          children: \"fastText\"\n        }), \" that combines fastText‚Äôs\\nsubwords with Bloom embeddings for compact, full-coverage vectors. The use of\\nsubwords means that there are no OOV words and due to Bloom embeddings, the\\nvector table can be kept very small at \u003c100K entries. Bloom embeddings are\\nalready used by \", _jsx(_components.a, {\n          href: \"https://thinc.ai/docs/api-layers#hashembed\",\n          children: \"HashEmbed\"\n        }), \" in\\n\", _jsx(_components.a, {\n          href: \"/api/architectures#tok2vec-arch\",\n          children: \"tok2vec\"\n        }), \" for compact spaCy models.\"]\n      }), _jsxs(_components.p, {\n        children: [\"For easy integration, floret includes a\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/floret/blob/main/python/README.md\",\n          children: \"Python wrapper\"\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ pip install floret\\n\"\n        })\n      }), _jsx(_components.p, {\n        children: \"A demo project shows how to train and import floret vectors:\"\n      }), _jsx(Project, {\n        id: \"pipelines/floret_vectors_demo\",\n        children: _jsx(_components.p, {\n          children: \"Train toy English floret vectors and import them into a spaCy pipeline.\"\n        })\n      }), _jsx(_components.p, {\n        children: \"Two additional demo projects compare standard fastText vectors with floret\\nvectors for full spaCy pipelines. For agglutinative languages like Finnish or\\nKorean, there are large improvements in performance due to the use of subwords\\n(no OOV words!), with a vector table containing merely 50K entries.\"\n      }), _jsxs(Project, {\n        id: \"pipelines/floret_fi_core_demo\",\n        children: [_jsx(_components.p, {\n          children: \"Finnish UD+NER vector and pipeline training, comparing standard fasttext vs.\\nfloret vectors.\"\n        }), _jsx(_components.p, {\n          children: \"For the default project settings with 1M (2.6G) tokenized training texts and 50K\\n300-dim vectors, ~300K keys for the standard vectors:\"\n        }), _jsxs(_components.table, {\n          children: [_jsx(_components.thead, {\n            children: _jsxs(_components.tr, {\n              children: [_jsx(_components.th, {\n                children: \"Vectors\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"TAG\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"POS\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"DEP UAS\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"DEP LAS\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"NER F\"\n              })]\n            })\n          }), _jsxs(_components.tbody, {\n            children: [_jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"none\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"93.3\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"92.3\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"79.7\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"72.8\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"61.0\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"standard (pruned: 50K vectors for 300K keys)\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"95.9\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"94.7\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"83.3\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"77.9\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"68.5\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"standard (unpruned: 300K vectors/keys)\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"96.0\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"95.0\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"83.8\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"78.4\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"69.1\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"floret (minn 4, maxn 5; 50K vectors, no OOV)\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"96.6\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"95.5\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"83.5\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"78.5\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"70.9\"\n                })\n              })]\n            })]\n          })]\n        })]\n      }), _jsxs(Project, {\n        id: \"pipelines/floret_ko_ud_demo\",\n        children: [_jsx(_components.p, {\n          children: \"Korean UD vector and pipeline training, comparing standard fasttext vs. floret\\nvectors.\"\n        }), _jsx(_components.p, {\n          children: \"For the default project settings with 1M (3.3G) tokenized training texts and 50K\\n300-dim vectors, ~800K keys for the standard vectors:\"\n        }), _jsxs(_components.table, {\n          children: [_jsx(_components.thead, {\n            children: _jsxs(_components.tr, {\n              children: [_jsx(_components.th, {\n                children: \"Vectors\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"TAG\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"POS\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"DEP UAS\"\n              }), _jsx(_components.th, {\n                align: \"right\",\n                children: \"DEP LAS\"\n              })]\n            })\n          }), _jsxs(_components.tbody, {\n            children: [_jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"none\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"72.5\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"85.0\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"73.2\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"64.3\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"standard (pruned: 50K vectors for 800K keys)\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"77.9\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"89.4\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"78.8\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"72.8\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"standard (unpruned: 800K vectors/keys)\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"79.0\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"90.2\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"79.2\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: \"73.9\"\n              })]\n            }), _jsxs(_components.tr, {\n              children: [_jsx(_components.td, {\n                children: \"floret (minn 2, maxn 3; 50K vectors, no OOV)\"\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"82.5\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"93.8\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"83.0\"\n                })\n              }), _jsx(_components.td, {\n                align: \"right\",\n                children: _jsx(_components.strong, {\n                  children: \"80.1\"\n                })\n              })]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"spacy-transformers\",\n        children: \"Updates for spacy-transformers v1.1 \"\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-transformers\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-transformers\"\n          })\n        }), \" v1.1 has\\nbeen refactored to improve serialization and support of inline transformer\\ncomponents and replacing listeners. In addition, the transformer model output is\\nprovided as\\n\", _jsx(_components.a, {\n          href: \"https://huggingface.co/transformers/main_classes/output.html?highlight=modeloutput#transformers.file_utils.ModelOutput\",\n          children: _jsx(InlineCode, {\n            children: \"ModelOutput\"\n          })\n        }), \"\\ninstead of tuples in\\n\", _jsx(InlineCode, {\n          children: \"TransformerData.model_output and FullTransformerBatch.model_output.\"\n        }), \" For\\nbackwards compatibility, the tuple format remains available under\\n\", _jsx(InlineCode, {\n          children: \"TransformerData.tensors\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"FullTransformerBatch.tensors\"\n        }), \". See more details\\nin the \", _jsx(_components.a, {\n          href: \"/api/architectures#TransformerModel\",\n          children: \"transformer API docs\"\n        }), \".\"]\n      }), _jsxs(_components.p, {\n        children: [_jsx(InlineCode, {\n          children: \"spacy-transfomers\"\n        }), \" v1.1 also adds support for \", _jsx(InlineCode, {\n          children: \"transformer_config\"\n        }), \" settings\\nsuch as \", _jsx(InlineCode, {\n          children: \"output_attentions\"\n        }), \". Additional output is stored under\\n\", _jsx(InlineCode, {\n          children: \"TransformerData.model_output\"\n        }), \". More details are in the\\n\", _jsx(_components.a, {\n          href: \"/api/architectures#TransformerModel\",\n          children: \"TransformerModel docs\"\n        }), \". The training speed\\nhas been improved by streamlining allocations for tokenizer output and there is\\nnew support for \", _jsx(_components.a, {\n          href: \"/api/architectures#TransformerModel\",\n          children: \"mixed-precision training\"\n        }), \".\"]\n      }), _jsx(_components.h3, {\n        id: \"pipeline-packages\",\n        children: \"New transformer package for Japanese \"\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.2 adds a new transformer pipeline package for Japanese\\n\", _jsx(_components.a, {\n          href: \"/models/ja#ja_core_news_trf\",\n          children: _jsx(InlineCode, {\n            children: \"ja_core_news_trf\"\n          })\n        }), \", which uses the \", _jsx(InlineCode, {\n          children: \"basic\"\n        }), \"\\npretokenizer instead of \", _jsx(InlineCode, {\n          children: \"mecab\"\n        }), \" to limit the number of dependencies required for\\nthe pipeline. Thanks to Hiroshi Matsuda and the spaCy Japanese community for\\ntheir contributions!\"]\n      }), _jsx(_components.h3, {\n        id: \"pipeline-updates\",\n        children: \"Pipeline and language updates \"\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"All Universal Dependencies training data has been updated to v2.8.\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"The Catalan data, tokenizer and lemmatizer have been updated, thanks to Carlos\\nRodriguez, Carme Armentano and the Barcelona Supercomputing Center!\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The transformer pipelines are trained using spacy-transformers v1.1, with\\nimproved IO and more options for\\n\", _jsx(_components.a, {\n            href: \"/api/architectures#TransformerModel\",\n            children: \"model config and output\"\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Trailing whitespace has been added as a \", _jsx(InlineCode, {\n            children: \"tok2vec\"\n          }), \" feature, improving the\\nperformance for many components, especially fine-grained tagging and sentence\\nsegmentation.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The English attribute ruler patterns have been overhauled to improve\\n\", _jsx(InlineCode, {\n            children: \"Token.pos\"\n          }), \" and \", _jsx(InlineCode, {\n            children: \"Token.morph\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.2 also features a new Irish lemmatizer, support for \", _jsx(InlineCode, {\n          children: \"noun_chunks\"\n        }), \" in\\nPortuguese, improved \", _jsx(InlineCode, {\n          children: \"noun_chunks\"\n        }), \" for Spanish and additional updates for\\nBulgarian, Catalan, Sinhala, Tagalog, Tigrinya and Vietnamese.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-upgrading\",\n      children: [_jsx(_components.h2, {\n        id: \"upgrading\",\n        children: \"Notes about upgrading from v3.1 \"\n      }), _jsx(_components.h3, {\n        id: \"version-compat\",\n        children: \"Pipeline package version compatibility \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Using legacy implementations\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"In spaCy v3, you‚Äôll still be able to load and reference legacy implementations\\nvia \", _jsx(_components.a, {\n            href: \"https://github.com/explosion/spacy-legacy\",\n            children: _jsx(InlineCode, {\n              children: \"spacy-legacy\"\n            })\n          }), \", even if the\\ncomponents or architectures change and newer versions are available in the\\ncore library.\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"When you‚Äôre loading a pipeline package trained with spaCy v3.0 or v3.1, you will\\nsee a warning telling you that the pipeline may be incompatible. This doesn‚Äôt\\nnecessarily have to be true, but we recommend running your pipelines against\\nyour test suite or evaluation data to make sure there are no unexpected results.\\nIf you‚Äôre using one of the \", _jsx(_components.a, {\n          href: \"/models\",\n          children: \"trained pipelines\"\n        }), \" we provide, you should\\nrun \", _jsx(_components.a, {\n          href: \"/api/cli#download\",\n          children: _jsx(InlineCode, {\n            children: \"spacy download\"\n          })\n        }), \" to update to the latest version. To\\nsee an overview of all installed packages and their compatibility, you can run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#validate\",\n          children: _jsx(InlineCode, {\n            children: \"spacy validate\"\n          })\n        }), \".\"]\n      }), _jsxs(_components.p, {\n        children: [\"If you‚Äôve trained your own custom pipeline and you‚Äôve confirmed that it‚Äôs still\\nworking as expected, you can update the spaCy version requirements in the\\n\", _jsx(_components.a, {\n          href: \"/api/data-formats#meta\",\n          children: _jsx(InlineCode, {\n            children: \"meta.json\"\n          })\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- \\\"spacy_version\\\": \\\"\u003e=3.1.0,\u003c3.2.0\\\",\\n+ \\\"spacy_version\\\": \\\"\u003e=3.2.0,\u003c3.3.0\\\",\\n\"\n        })\n      }), _jsx(_components.h3, {\n        children: \"Updating v3.1 configs\"\n      }), _jsxs(_components.p, {\n        children: [\"To update a config from spaCy v3.1 with the new v3.2 settings, run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#init-fill-config\",\n          children: _jsx(InlineCode, {\n            children: \"init fill-config\"\n          })\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy init fill-config config-v3.1.cfg config-v3.2.cfg\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"In many cases (\", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.load\",\n          children: _jsx(InlineCode, {\n            children: \"spacy.load\"\n          })\n        }), \"), the new defaults will be filled in\\nautomatically, but you‚Äôll need to fill in the new settings to run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#debug\",\n          children: _jsx(InlineCode, {\n            children: \"debug config\"\n          })\n        }), \" and \", _jsx(_components.a, {\n          href: \"/api/cli#debug-data\",\n          children: _jsx(InlineCode, {\n            children: \"debug data\"\n          })\n        }), \".\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-upgrading-transformers\",\n      children: [_jsx(_components.h2, {\n        id: \"upgrading-transformers\",\n        children: \"Notes about upgrading from spacy-transformers v1.0 \"\n      }), _jsxs(_components.p, {\n        children: [\"When you‚Äôre loading a transformer pipeline package trained with\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-transformers\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-transformers\"\n          })\n        }), \" v1.0\\nafter upgrading to \", _jsx(InlineCode, {\n          children: \"spacy-transformers\"\n        }), \" v1.1, you‚Äôll see a warning telling you\\nthat the pipeline may be incompatible. \", _jsx(InlineCode, {\n          children: \"spacy-transformers\"\n        }), \" v1.1 should be able\\nto import v1.0 \", _jsx(InlineCode, {\n          children: \"transformer\"\n        }), \" components into the new internal format with no\\nchange in performance, but here we‚Äôd also recommend running your test suite to\\nverify that the pipeline still performs as expected.\"]\n      }), _jsxs(_components.p, {\n        children: [\"If you save your pipeline with \", _jsx(_components.a, {\n          href: \"/api/language#to_disk\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.to_disk\"\n          })\n        }), \", it will\\nbe saved in the new v1.1 format and should be fully compatible with\\n\", _jsx(InlineCode, {\n          children: \"spacy-transformers\"\n        }), \" v1.1. Once you‚Äôve confirmed the performance, you can update\\nthe requirements in \", _jsx(_components.a, {\n          href: \"/api/data-formats#meta\",\n          children: _jsx(InlineCode, {\n            children: \"meta.json\"\n          })\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"  \\\"requirements\\\": [\\n-    \\\"spacy-transformers\u003e=1.0.3,\u003c1.1.0\\\"\\n+    \\\"spacy-transformers\u003e=1.1.2,\u003c1.2.0\\\"\\n  ]\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you‚Äôre using one of the \", _jsx(_components.a, {\n          href: \"/models\",\n          children: \"trained pipelines\"\n        }), \" we provide, you should\\nrun \", _jsx(_components.a, {\n          href: \"/api/cli#download\",\n          children: _jsx(InlineCode, {\n            children: \"spacy download\"\n          })\n        }), \" to update to the latest version. To\\nsee an overview of all installed packages and their compatibility, you can run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#validate\",\n          children: _jsx(InlineCode, {\n            children: \"spacy validate\"\n          })\n        }), \".\"]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"What's New in v3.2","teaser":"New features and how to upgrade","menu":[["New Features","features"],["Upgrading Notes","upgrading"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":{"slug":"/usage/v3-3","title":"New in v3.3"}},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["usage","v3-2"]},"buildId":"Ugre-usgT1EZhnSeYcBR9","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>