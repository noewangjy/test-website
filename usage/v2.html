<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>What&#x27;s New in v2.0 · spaCy Usage Documentation</title><meta name="description" content="New features, backwards incompatibilities and migration guide"/><meta property="og:title" content="What&#x27;s New in v2.0 · spaCy Usage Documentation"/><meta property="og:description" content="New features, backwards incompatibilities and migration guide"/><meta property="og:type" content="website"/><meta property="og:site_name" content="What&#x27;s New in v2.0"/><meta property="og:image" content="https://spacy.io/_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://spacy.io/_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="What&#x27;s New in v2.0 · spaCy Usage Documentation"/><meta name="twitter:description" content="New features, backwards incompatibilities and migration guide"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-eb3ea1261af64e73.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/Ugre-usgT1EZhnSeYcBR9/_buildManifest.js" defer=""></script><script src="/_next/static/Ugre-usgT1EZhnSeYcBR9/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-blue"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>💥 Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage" selected="">Usage</option><option value="/models">Models</option><option value="/api">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Documentation</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/usage">Get started<!-- --> › <!-- -->Installation</option><option value="/usage/models">Get started<!-- --> › <!-- -->Models &amp; Languages</option><option value="/usage/facts-figures">Get started<!-- --> › <!-- -->Facts &amp; Figures</option><option value="/usage/spacy-101">Get started<!-- --> › <!-- -->spaCy 101</option><option value="/usage/v3">Get started<!-- --> › <!-- -->New in v3.0</option><option value="/usage/v3-1">Get started<!-- --> › <!-- -->New in v3.1</option><option value="/usage/v3-2">Get started<!-- --> › <!-- -->New in v3.2</option><option value="/usage/v3-3">Get started<!-- --> › <!-- -->New in v3.3</option><option value="/usage/v3-4">Get started<!-- --> › <!-- -->New in v3.4</option><option value="/usage/v3-5">Get started<!-- --> › <!-- -->New in v3.5</option><option value="/usage/linguistic-features">Guides<!-- --> › <!-- -->Linguistic Features</option><option value="/usage/rule-based-matching">Guides<!-- --> › <!-- -->Rule-based Matching</option><option value="/usage/processing-pipelines">Guides<!-- --> › <!-- -->Processing Pipelines</option><option value="/usage/embeddings-transformers">Guides<!-- --> › <!-- -->Embeddings &amp; Transformers</option><option value="/usage/training">Guides<!-- --> › <!-- -->Training Models</option><option value="/usage/layers-architectures">Guides<!-- --> › <!-- -->Layers &amp; Model Architectures</option><option value="/usage/projects">Guides<!-- --> › <!-- -->spaCy Projects</option><option value="/usage/saving-loading">Guides<!-- --> › <!-- -->Saving &amp; Loading</option><option value="/usage/visualizers">Guides<!-- --> › <!-- -->Visualizers</option><option value="https://github.com/explosion/projects">Resources<!-- --> › <!-- -->Project Templates</option><option value="https://v2.spacy.io">Resources<!-- --> › <!-- -->v2.x Documentation</option><option value="https://explosion.ai/custom-solutions">Resources<!-- --> › <!-- -->Custom Solutions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Get started</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage">Installation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/models">Models &amp; Languages</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/facts-figures">Facts &amp; Figures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/spacy-101">spaCy 101</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3">New in v3.0</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-1">New in v3.1</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-2">New in v3.2</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-3">New in v3.3</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-4">New in v3.4</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-5">New in v3.5</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Guides</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/linguistic-features">Linguistic Features</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/rule-based-matching">Rule-based Matching</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/processing-pipelines">Processing Pipelines</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/embeddings-transformers">Embeddings &amp; Transformers<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/training">Training Models<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/layers-architectures">Layers &amp; Model Architectures<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/projects">spaCy Projects<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/saving-loading">Saving &amp; Loading</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/visualizers">Visualizers</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Resources</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects">Project Templates</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://v2.spacy.io">v2.x Documentation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">What&#x27;s New in v2.0<!-- --> </span></h1><div class="heading-teaser title_teaser__QhwCH">New features, backwards incompatibilities and migration guide</div></header><section class="section_root__k1hUl"><p>We’re very excited to finally introduce spaCy v2.0! On this page, you’ll find a
summary of the new features, information on the backwards incompatibilities,
including a handy overview of what’s been renamed or deprecated. To help you
make the most of v2.0, we also <strong>re-wrote almost all of the usage guides and API
docs</strong>, and added more <a class="link_root__1Me7D" href="/usage/examples">real-world examples</a>. If you’re new to
spaCy, or just want to brush up on some NLP basics and the details of the
library, check out the <a class="link_root__1Me7D" href="/usage/spacy-101">spaCy 101 guide</a> that explains the
most important concepts with examples and illustrations.</p></section>
<section id="section-summary" class="section_root__k1hUl"><h2 id="summary" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#summary" class="heading-text typography_permalink__UiIRy">Summary <!-- --> </a></h2><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div><p>This release features entirely new <strong>deep learning-powered models</strong> for spaCy’s
tagger, parser and entity recognizer. The new models are <strong>10× smaller</strong>, <strong>20%
more accurate</strong> and <strong>even cheaper to run</strong> than the previous generation.</p><p>We’ve also made several usability improvements that are particularly helpful for
<strong>production deployments</strong>. spaCy v2 now fully supports the Pickle protocol,
making it easy to use spaCy with <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://spark.apache.org/">Apache Spark</a>. The
string-to-integer mapping is <strong>no longer stateful</strong>, making it easy to reconcile
annotations made in different processes. Models are smaller and use less memory,
and the APIs for serialization are now much more consistent. Custom pipeline
components let you modify the <code class="code_inline-code__Bq7ot">Doc</code> at any stage in the pipeline. You can now
also add your own custom attributes, properties and methods to the <code class="code_inline-code__Bq7ot">Doc</code>,
<code class="code_inline-code__Bq7ot">Token</code> and <code class="code_inline-code__Bq7ot">Span</code>.</p></div><div><a id="toc"></a><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span>Table of Contents</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#summary">Summary</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features">New features</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-models">Neural network models</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-pipelines">Improved processing pipelines</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-text-classification">Text classification</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-hash-ids">Hash values as IDs</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-vectors">Improved word vectors support</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-serializer">Saving, loading and serialization</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-displacy">displaCy visualizer</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-language">Language data and lazy loading</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#features-matcher">Revised matcher API and phrase matcher</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#incompat">Backwards incompatibilities</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v2#migrating">Migrating from spaCy v1.x</a></li>
</ul></aside></div></div><p>The main usability improvements you’ll notice in spaCy v2.0 are around
<strong>defining, training and loading your own models</strong> and components. The new
neural network models make it much easier to train a model from scratch, or
update an existing model with a few examples. In v1.x, the statistical models
depended on the state of the <code class="code_inline-code__Bq7ot">Vocab</code>. If you taught the model a new word, you
would have to save and load a lot of data — otherwise the model wouldn’t
correctly recall the features of your new example. That’s no longer the case.</p><p>Due to some clever use of hashing, the statistical models <strong>never change size</strong>,
even as they learn new vocabulary items. The whole pipeline is also now fully
differentiable. Even if you don’t have explicitly annotated data, you can update
spaCy using all the <strong>latest deep learning tricks</strong> like adversarial training,
noise contrastive estimation or reinforcement learning.</p></section>
<section id="section-features" class="section_root__k1hUl"><h2 id="features" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#features" class="heading-text typography_permalink__UiIRy">New features <!-- --> </a></h2><p>This section contains an overview of the most important <strong>new features and
improvements</strong>. The <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api"><span class="link_source-text__VDP74">API docs</span></a> include additional deprecation notes.</p><h3 id="features-models" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-models" class="heading-text typography_permalink__UiIRy">Convolutional neural network models <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><p>spaCy v2.0 features new neural models for tagging, parsing and entity
recognition. The models have been designed and implemented from scratch
specifically for spaCy, to give you an unmatched balance of speed, size and
accuracy. The new models are <strong>10× smaller</strong>, <strong>20% more accurate</strong>, and <strong>even
cheaper to run</strong> than the previous generation.</p><p>spaCy v2.0’s new neural network models bring significant improvements in
accuracy, especially for English Named Entity Recognition. The new
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_lg"><code class="code_inline-code__Bq7ot">en_core_web_lg</code></a> model makes about <strong>25% fewer
mistakes</strong> than the corresponding v1.x model and is within <strong>1% of the current
state-of-the-art</strong>
(<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://arxiv.org/pdf/1702.02098.pdf">Strubell et al., 2017</a>). The v2.0 models
are also cheaper to run at scale, as they require <strong>under 1 GB of memory</strong> per
process.</p><aside class="infobox_root__yNIMg"><p><strong>Usage:</strong> <a class="link_root__1Me7D" href="/models">Models directory</a></p></aside><h3 id="features-pipelines" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-pipelines" class="heading-text typography_permalink__UiIRy">Improved processing pipelines <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>It’s now much easier to <strong>customize the pipeline</strong> with your own components:
functions that receive a <code class="code_inline-code__Bq7ot">Doc</code> object, modify and return it. Extensions let you
write any <strong>attributes, properties and methods</strong> to the <code class="code_inline-code__Bq7ot">Doc</code>, <code class="code_inline-code__Bq7ot">Token</code> and
<code class="code_inline-code__Bq7ot">Span</code>. You can add data, implement new features, integrate other libraries with
spaCy or plug in your own machine learning models.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/pipeline.svg" alt="The processing pipeline" width="650" height="auto"/></figure><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language"><code class="code_inline-code__Bq7ot">Language</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#set_extension"><code class="code_inline-code__Bq7ot">Doc.set_extension</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/span#set_extension"><code class="code_inline-code__Bq7ot">Span.set_extension</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token#set_extension"><code class="code_inline-code__Bq7ot">Token.set_extension</code></a> <strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/processing-pipelines">Processing pipelines</a> <strong>Code:</strong>
<a class="link_root__1Me7D" href="/usage/examples#section-pipeline">Pipeline examples</a></p></aside><h3 id="features-text-classification" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-text-classification" class="heading-text typography_permalink__UiIRy">Text classification <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>spaCy v2.0 lets you add text categorization models to spaCy pipelines. The model
supports classification with multiple, non-mutually exclusive labels – so
multiple labels can apply at once. You can change the model architecture rather
easily, but by default, the <code class="code_inline-code__Bq7ot">TextCategorizer</code> class uses a convolutional neural
network to assign position-sensitive vectors to each word in the document.</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/textcategorizer"><code class="code_inline-code__Bq7ot">TextCategorizer</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#attributes"><code class="code_inline-code__Bq7ot">Doc.cats</code></a>, <code class="code_inline-code__Bq7ot">GoldParse.cats</code> <strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/training#textcat">Training a text classification model</a></p></aside><h3 id="features-hash-ids" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-hash-ids" class="heading-text typography_permalink__UiIRy">Hash values instead of integer IDs <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore"><code class="code_inline-code__Bq7ot">StringStore</code></a> now resolves all strings to hash values
instead of integer IDs. This means that the string-to-int mapping <strong>no longer
depends on the vocabulary state</strong>, making a lot of workflows much simpler,
especially during training. Unlike integer IDs in spaCy v1.x, hash values will
<strong>always match</strong> – even across models. Strings can now be added explicitly using
the new <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore#add"><code class="code_inline-code__Bq7ot">Stringstore.add</code></a> method. A token’s hash is
available via <code class="code_inline-code__Bq7ot">token.orth</code>.</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore"><code class="code_inline-code__Bq7ot">StringStore</code></a> <strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/spacy-101#vocab">Vocab, hashes and lexemes 101</a></p></aside><h3 id="features-vectors" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-vectors" class="heading-text typography_permalink__UiIRy">Improved word vectors support <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>The new <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors"><code class="code_inline-code__Bq7ot">Vectors</code></a> class helps the <code class="code_inline-code__Bq7ot">Vocab</code> manage the vectors
assigned to strings, and lets you assign vectors individually, or
<a class="link_root__1Me7D" href="/usage/linguistic-features#adding-vectors">load in GloVe vectors</a> from a
directory. To help you strike a good balance between coverage and memory usage,
the <code class="code_inline-code__Bq7ot">Vectors</code> class lets you map <strong>multiple keys</strong> to the <strong>same row</strong> of the
table. If you’re using the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-model"><code class="code_inline-code__Bq7ot">spacy init-model</code></a> command to
create a vocabulary, pruning the vectors will be taken care of automatically if
you set the <code class="code_inline-code__Bq7ot">--prune-vectors</code> flag. Otherwise, you can use the new
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab#prune_vectors"><code class="code_inline-code__Bq7ot">Vocab.prune_vectors</code></a>.</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors"><code class="code_inline-code__Bq7ot">Vectors</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab"><code class="code_inline-code__Bq7ot">Vocab</code></a> <strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/vectors-similarity">Word vectors and semantic similarity</a></p></aside><h3 id="features-serializer" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-serializer" class="heading-text typography_permalink__UiIRy">Saving, loading and serialization <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>spaCy’s serialization API has been made consistent across classes and objects.
All container classes, i.e. <code class="code_inline-code__Bq7ot">Language</code>, <code class="code_inline-code__Bq7ot">Doc</code>, <code class="code_inline-code__Bq7ot">Vocab</code> and <code class="code_inline-code__Bq7ot">StringStore</code> now
have a <code class="code_inline-code__Bq7ot">to_bytes()</code>, <code class="code_inline-code__Bq7ot">from_bytes()</code>, <code class="code_inline-code__Bq7ot">to_disk()</code> and <code class="code_inline-code__Bq7ot">from_disk()</code> method that
supports the Pickle protocol.</p><p>The improved <code class="code_inline-code__Bq7ot">spacy.load</code> makes loading models easier and more transparent. You
can load a model by supplying its shortcut link, the name of an installed
<a class="link_root__1Me7D" href="/models">model package</a> or a path. The <code class="code_inline-code__Bq7ot">Language</code> class to initialize will be
determined based on the model’s settings. For a blank language, you can import
the class directly, e.g. <code class="code_inline-code__Bq7ot code_wrap__b41os">from spacy.lang.en import English</code> or use
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.blank"><code class="code_inline-code__Bq7ot">spacy.blank()</code></a>.</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.load"><code class="code_inline-code__Bq7ot">spacy.load</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#to_disk"><code class="code_inline-code__Bq7ot">Language.to_disk</code></a> <strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/models#usage">Models</a>,
<a class="link_root__1Me7D" href="/usage/saving-loading#models">Saving and loading</a></p></aside><h3 id="features-displacy" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-displacy" class="heading-text typography_permalink__UiIRy">displaCy visualizer with Jupyter support <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>Our popular dependency and named entity visualizers are now an official part of
the spaCy library. displaCy can run a simple web server, or generate raw HTML
markup or SVG files to be exported. You can pass in one or more docs, and
customize the style. displaCy also auto-detects whether you’re running
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://jupyter.org">Jupyter</a> and will render the visualizations in your
notebook.</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#displacy"><code class="code_inline-code__Bq7ot">displacy</code></a> <strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/visualizers">Visualizing spaCy</a></p></aside><h3 id="features-language" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-language" class="heading-text typography_permalink__UiIRy">Improved language data and lazy loading <!-- --> </a></h3><p>Language-specific data now lives in its own submodule, <code class="code_inline-code__Bq7ot">spacy.lang</code>. Languages
are lazy-loaded, i.e. only loaded when you import a <code class="code_inline-code__Bq7ot">Language</code> class, or load a
model that initializes one. This allows languages to contain more custom data,
e.g. lemmatizer lookup tables, or complex regular expressions. The language data
has also been tidied up and simplified. spaCy now also supports simple
lookup-based lemmatization – and <strong>many new languages</strong>!</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language"><code class="code_inline-code__Bq7ot">Language</code></a> <strong>Code:</strong>
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy/tree/v2.x/spacy/lang"><code class="code_inline-code__Bq7ot">spacy/lang</code></a>
<strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/adding-languages">Adding languages</a></p></aside><h3 id="features-matcher" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-matcher" class="heading-text typography_permalink__UiIRy">Revised matcher API and phrase matcher <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>Patterns can now be added to the matcher by calling
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#add"><code class="code_inline-code__Bq7ot">matcher.add()</code></a> with a match ID, an optional callback
function to be invoked on each match, and one or more patterns. This allows you
to write powerful, pattern-specific logic using only one matcher. For example,
you might only want to merge some entity types, and set custom flags for other
matched patterns. The new <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher"><code class="code_inline-code__Bq7ot">PhraseMatcher</code></a> lets you
efficiently match very large terminology lists using <code class="code_inline-code__Bq7ot">Doc</code> objects as match
patterns.</p><aside class="infobox_root__yNIMg"><p><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher"><code class="code_inline-code__Bq7ot">Matcher</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher"><code class="code_inline-code__Bq7ot">PhraseMatcher</code></a>
<strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/rule-based-matching">Rule-based matching</a></p></aside></section>
<section id="section-incompat" class="section_root__k1hUl"><h2 id="incompat" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#incompat" class="heading-text typography_permalink__UiIRy">Backwards incompatibilities <!-- --> </a></h2><p>The following modules, classes and methods have changed between v1.x and v2.0.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Old</th><th class="table_th__QJ9F8">New</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.download.en</code>, <code class="code_inline-code__Bq7ot">spacy.download.de</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#download"><code class="code_inline-code__Bq7ot">cli.download</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.en</code> etc.</td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.lang.en</code> etc.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.en.word_sets</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.lang.en.stop_words</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.orth</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.lang.xx.lex_attrs</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.syntax.iterators</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot code_wrap__b41os">spacy.lang.xx.syntax_iterators</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.tagger.Tagger</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.pipeline.Tagger</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy.cli.model</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#vocab"><code class="code_inline-code__Bq7ot">spacy.cli.vocab</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Language.save_to_directory</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#to_disk"><code class="code_inline-code__Bq7ot">Language.to_disk</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Language.end_training</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#begin_training"><code class="code_inline-code__Bq7ot">Language.begin_training</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Language.create_make_doc</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#attributes"><code class="code_inline-code__Bq7ot">Language.tokenizer</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Vocab.resize_vectors</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#resize"><code class="code_inline-code__Bq7ot">Vectors.resize</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Vocab.load</code> <code class="code_inline-code__Bq7ot">Vocab.load_lexemes</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab#from_disk"><code class="code_inline-code__Bq7ot">Vocab.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab#from_bytes"><code class="code_inline-code__Bq7ot">Vocab.from_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Vocab.dump</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab#to_disk"><code class="code_inline-code__Bq7ot">Vocab.to_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vocab#to_bytes"><code class="code_inline-code__Bq7ot">Vocab.to_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Vocab.load_vectors</code> <code class="code_inline-code__Bq7ot code_wrap__b41os">Vocab.load_vectors_from_bin_loc</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#from_disk"><code class="code_inline-code__Bq7ot">Vectors.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#from_bytes"><code class="code_inline-code__Bq7ot">Vectors.from_bytes</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#from_glove"><code class="code_inline-code__Bq7ot">Vectors.from_glove</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Vocab.dump_vectors</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#to_disk"><code class="code_inline-code__Bq7ot">Vectors.to_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/vectors#to_bytes"><code class="code_inline-code__Bq7ot">Vectors.to_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">StringStore.load</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore#from_disk"><code class="code_inline-code__Bq7ot">StringStore.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore#from_bytes"><code class="code_inline-code__Bq7ot">StringStore.from_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">StringStore.dump</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore#to_disk"><code class="code_inline-code__Bq7ot">StringStore.to_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore#to_bytes"><code class="code_inline-code__Bq7ot">StringStore.to_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Tokenizer.load</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tokenizer#from_disk"><code class="code_inline-code__Bq7ot">Tokenizer.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tokenizer#from_bytes"><code class="code_inline-code__Bq7ot">Tokenizer.from_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Tagger.load</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tagger#from_disk"><code class="code_inline-code__Bq7ot">Tagger.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tagger#from_bytes"><code class="code_inline-code__Bq7ot">Tagger.from_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Tagger.tag_names</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Tagger.labels</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">DependencyParser.load</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencyparser#from_disk"><code class="code_inline-code__Bq7ot">DependencyParser.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencyparser#from_bytes"><code class="code_inline-code__Bq7ot">DependencyParser.from_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">EntityRecognizer.load</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/entityrecognizer#from_disk"><code class="code_inline-code__Bq7ot">EntityRecognizer.from_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/entityrecognizer#from_bytes"><code class="code_inline-code__Bq7ot">EntityRecognizer.from_bytes</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Matcher.load</code></td><td class="table_td__rmpJx">-</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Matcher.add_pattern</code> <code class="code_inline-code__Bq7ot">Matcher.add_entity</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#add"><code class="code_inline-code__Bq7ot">Matcher.add</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher#add"><code class="code_inline-code__Bq7ot">PhraseMatcher.add</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Matcher.get_entity</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#get"><code class="code_inline-code__Bq7ot">Matcher.get</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Matcher.has_entity</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#has_key"><code class="code_inline-code__Bq7ot">Matcher.has_key</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Doc.read_bytes</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#to_bytes"><code class="code_inline-code__Bq7ot">Doc.to_bytes</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#from_bytes"><code class="code_inline-code__Bq7ot">Doc.from_bytes</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#to_disk"><code class="code_inline-code__Bq7ot">Doc.to_disk</code></a> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#from_disk"><code class="code_inline-code__Bq7ot">Doc.from_disk</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Token.is_ancestor_of</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token#is_ancestor"><code class="code_inline-code__Bq7ot">Token.is_ancestor</code></a></td></tr></tbody></table><h3 id="deprecated" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#deprecated" class="heading-text typography_permalink__UiIRy">Deprecated <!-- --> </a></h3><p>The following methods are deprecated. They can still be used, but should be
replaced.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Old</th><th class="table_th__QJ9F8">New</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Tokenizer.tokens_from_list</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Span.sent_start</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/span#is_sent_start"><code class="code_inline-code__Bq7ot">Span.is_sent_start</code></a></td></tr></tbody></table></section>
<section id="section-migrating" class="section_root__k1hUl"><h2 id="migrating" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#migrating" class="heading-text typography_permalink__UiIRy">Migrating from spaCy 1.x <!-- --> </a></h2><p>Because we’e made so many architectural changes to the library, we’ve tried to
<strong>keep breaking changes to a minimum</strong>. A lot of projects follow the philosophy
that if you’re going to break anything, you may as well break everything. We
think migration is easier if there’s a logic to what has changed. We’ve
therefore followed a policy of avoiding breaking changes to the <code class="code_inline-code__Bq7ot">Doc</code>, <code class="code_inline-code__Bq7ot">Span</code>
and <code class="code_inline-code__Bq7ot">Token</code> objects. This way, you can focus on only migrating the code that
does training, loading and serialization — in other words, code that works with
the <code class="code_inline-code__Bq7ot">nlp</code> object directly. Code that uses the annotations should continue to
work.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note</span></h4><p>If you’ve trained your own models, keep in mind that your train and runtime
inputs must match. This means you’ll have to <strong>retrain your models</strong> with spaCy
v2.0.</p></aside><h3 id="migrating-document-processing" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-document-processing" class="heading-text typography_permalink__UiIRy">Document processing <!-- --> </a></h3><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#pipe"><code class="code_inline-code__Bq7ot">Language.pipe</code></a> method allows spaCy to batch
documents, which brings a <strong>significant performance advantage</strong> in v2.0. The new
neural networks introduce some overhead per batch, so if you’re processing a
number of documents in a row, you should use <code class="code_inline-code__Bq7ot">nlp.pipe</code> and process the texts as
a stream.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>To make usage easier, there’s now a boolean <code class="code_inline-code__Bq7ot">as_tuples</code> keyword argument, that
lets you pass in an iterator of <code class="code_inline-code__Bq7ot">(text, context)</code> pairs, so you can get back an
iterator of <code class="code_inline-code__Bq7ot">(doc, context)</code> tuples.</p><h3 id="migrating-saving-loading" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-saving-loading" class="heading-text typography_permalink__UiIRy">Saving, loading and serialization <!-- --> </a></h3><p>Double-check all calls to <code class="code_inline-code__Bq7ot">spacy.load()</code> and make sure they don’t use the <code class="code_inline-code__Bq7ot">path</code>
keyword argument. If you’re only loading in binary data and not a model package
that can construct its own <code class="code_inline-code__Bq7ot">Language</code> class and pipeline, you should now use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#from_disk"><code class="code_inline-code__Bq7ot">Language.from_disk</code></a> method.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>Review all other code that writes state to disk or bytes. All containers, now
share the same, consistent API for saving and loading. Replace saving with
<code class="code_inline-code__Bq7ot">to_disk()</code> or <code class="code_inline-code__Bq7ot">to_bytes()</code>, and loading with <code class="code_inline-code__Bq7ot">from_disk()</code> and <code class="code_inline-code__Bq7ot">from_bytes()</code>.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>If you’ve trained models with input from v1.x, you’ll need to <strong>retrain them</strong>
with spaCy v2.0. All previous models will not be compatible with the new
version.</p><h3 id="migrating-languages" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-languages" class="heading-text typography_permalink__UiIRy">Processing pipelines and language data <!-- --> </a></h3><p>If you’re importing language data or <code class="code_inline-code__Bq7ot">Language</code> classes, make sure to change
your import statements to import from <code class="code_inline-code__Bq7ot">spacy.lang</code>. If you’ve added your own
custom language, it needs to be moved to <code class="code_inline-code__Bq7ot">spacy/lang/xx</code> and adjusted
accordingly.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>If you’ve been using custom pipeline components, check out the new guide on
<a class="link_root__1Me7D" href="/usage/processing-pipelines">processing pipelines</a>. Pipeline components are now
<code class="code_inline-code__Bq7ot">(name, func)</code> tuples. Appending them to the pipeline still works – but the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">add_pipe</code></a> method now makes this much more convenient.
Methods for removing, renaming, replacing and retrieving components have been
added as well. Components can now be disabled by passing a list of their names
to the <code class="code_inline-code__Bq7ot">disable</code> keyword argument on load, or by using
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#disable_pipes"><code class="code_inline-code__Bq7ot">disable_pipes</code></a> as a method or context manager:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>To add spaCy’s built-in pipeline components to your pipeline, you can still
import and instantiate them directly – but it’s more convenient to use the new
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#create_pipe"><code class="code_inline-code__Bq7ot">create_pipe</code></a> method with the component name, i.e.
<code class="code_inline-code__Bq7ot">&#x27;tagger&#x27;</code>, <code class="code_inline-code__Bq7ot">&#x27;parser&#x27;</code>, <code class="code_inline-code__Bq7ot">&#x27;ner&#x27;</code> or <code class="code_inline-code__Bq7ot">&#x27;textcat&#x27;</code>.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-training" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-training" class="heading-text typography_permalink__UiIRy">Training <!-- --> </a></h3><p>All built-in pipeline components are now subclasses of <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe"><code class="code_inline-code__Bq7ot">Pipe</code></a>,
fully trainable and serializable, and follow the same API. Instead of updating
the model and telling spaCy when to <em>stop</em>, you can now explicitly call
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#begin_training"><code class="code_inline-code__Bq7ot">begin_training</code></a>, which returns an optimizer you
can pass into the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#update"><code class="code_inline-code__Bq7ot">update</code></a> function. While <code class="code_inline-code__Bq7ot">update</code>
still accepts sequences of <code class="code_inline-code__Bq7ot">Doc</code> and <code class="code_inline-code__Bq7ot">GoldParse</code> objects, you can now also pass
in a list of strings and dictionaries describing the annotations. We call this
the <a class="link_root__1Me7D" href="/usage/training#training-simple-style">“simple training style”</a>. This is
also the recommended usage, as it removes one layer of abstraction from the
training.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-doc" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-doc" class="heading-text typography_permalink__UiIRy">Attaching custom data to the Doc <!-- --> </a></h3><p>Previously, you had to create a new container in order to attach custom data to
a <code class="code_inline-code__Bq7ot">Doc</code> object. This often required converting the <code class="code_inline-code__Bq7ot">Doc</code> objects to and from
arrays. In spaCy v2.0, you can set your own attributes, properties and methods
on the <code class="code_inline-code__Bq7ot">Doc</code>, <code class="code_inline-code__Bq7ot">Token</code> and <code class="code_inline-code__Bq7ot">Span</code> via
<a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components-attributes">custom extensions</a>.
This means that your application can – and should – only pass around <code class="code_inline-code__Bq7ot">Doc</code>
objects and refer to them as the single source of truth.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>If you wrap your extension attributes in a
<a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components">custom pipeline component</a>, they
will be assigned automatically when you call <code class="code_inline-code__Bq7ot">nlp</code> on a text. If your
application assigns custom data to spaCy’s container objects, or includes other
utilities that interact with the pipeline, consider moving this logic into its
own extension module.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-strings" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-strings" class="heading-text typography_permalink__UiIRy">Strings and hash values <!-- --> </a></h3><p>The change from integer IDs to hash values may not actually affect your code
very much. However, if you’re adding strings to the vocab manually, you now need
to call <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/stringstore#add"><code class="code_inline-code__Bq7ot">StringStore.add</code></a> explicitly. You can also now
be sure that the string-to-hash mapping will always match across vocabularies.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-matcher" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-matcher" class="heading-text typography_permalink__UiIRy">Adding patterns and callbacks to the matcher <!-- --> </a></h3><p>If you’re using the matcher, you can now add patterns in one step. This should
be easy to update – simply merge the ID, callback and patterns into one call to
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#add"><code class="code_inline-code__Bq7ot">Matcher.add()</code></a>. The matcher now also supports string keys,
which saves you an extra import. If you’ve been using <strong>acceptor functions</strong>,
you’ll need to move this logic into the
<a class="link_root__1Me7D" href="/usage/linguistic-features#on_match"><code class="code_inline-code__Bq7ot">on_match</code> callbacks</a>. The callback
function is invoked on every match and will give you access to the doc, the
index of the current match and all total matches. This lets you both accept or
reject the match, and define the actions to be triggered.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>If you need to match large terminology lists, you can now also use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher"><code class="code_inline-code__Bq7ot">PhraseMatcher</code></a>, which accepts <code class="code_inline-code__Bq7ot">Doc</code> objects as match
patterns and is more efficient than the regular, rule-based matcher.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/usage/v2.mdx">Suggest edits</a></div></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_blue.d167bed5.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"What's New in v2.0","teaser":"New features, backwards incompatibilities and migration guide","menu":[["Summary","summary"],["New Features","features"],["Backwards Incompatibilities","incompat"],["Migrating from v1.x","migrating"]],"slug":"/usage/v2","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    p: \"p\",\n    strong: \"strong\",\n    a: \"a\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    h3: \"h3\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    pre: \"pre\",\n    code: \"code\",\n    img: \"img\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {Grid, InlineCode, Infobox} = _components;\n  if (!Grid) _missingMdxReference(\"Grid\", true);\n  if (!Infobox) _missingMdxReference(\"Infobox\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.section, {\n      children: _jsxs(_components.p, {\n        children: [\"We’re very excited to finally introduce spaCy v2.0! On this page, you’ll find a\\nsummary of the new features, information on the backwards incompatibilities,\\nincluding a handy overview of what’s been renamed or deprecated. To help you\\nmake the most of v2.0, we also \", _jsx(_components.strong, {\n          children: \"re-wrote almost all of the usage guides and API\\ndocs\"\n        }), \", and added more \", _jsx(_components.a, {\n          href: \"/usage/examples\",\n          children: \"real-world examples\"\n        }), \". If you’re new to\\nspaCy, or just want to brush up on some NLP basics and the details of the\\nlibrary, check out the \", _jsx(_components.a, {\n          href: \"/usage/spacy-101\",\n          children: \"spaCy 101 guide\"\n        }), \" that explains the\\nmost important concepts with examples and illustrations.\"]\n      })\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-summary\",\n      children: [_jsx(_components.h2, {\n        id: \"summary\",\n        children: \"Summary \"\n      }), _jsxs(Grid, {\n        cols: 2,\n        children: [_jsxs(\"div\", {\n          children: [_jsxs(_components.p, {\n            children: [\"This release features entirely new \", _jsx(_components.strong, {\n              children: \"deep learning-powered models\"\n            }), \" for spaCy’s\\ntagger, parser and entity recognizer. The new models are \", _jsx(_components.strong, {\n              children: \"10× smaller\"\n            }), \", \", _jsx(_components.strong, {\n              children: \"20%\\nmore accurate\"\n            }), \" and \", _jsx(_components.strong, {\n              children: \"even cheaper to run\"\n            }), \" than the previous generation.\"]\n          }), _jsxs(_components.p, {\n            children: [\"We’ve also made several usability improvements that are particularly helpful for\\n\", _jsx(_components.strong, {\n              children: \"production deployments\"\n            }), \". spaCy v2 now fully supports the Pickle protocol,\\nmaking it easy to use spaCy with \", _jsx(_components.a, {\n              href: \"https://spark.apache.org/\",\n              children: \"Apache Spark\"\n            }), \". The\\nstring-to-integer mapping is \", _jsx(_components.strong, {\n              children: \"no longer stateful\"\n            }), \", making it easy to reconcile\\nannotations made in different processes. Models are smaller and use less memory,\\nand the APIs for serialization are now much more consistent. Custom pipeline\\ncomponents let you modify the \", _jsx(InlineCode, {\n              children: \"Doc\"\n            }), \" at any stage in the pipeline. You can now\\nalso add your own custom attributes, properties and methods to the \", _jsx(InlineCode, {\n              children: \"Doc\"\n            }), \",\\n\", _jsx(InlineCode, {\n              children: \"Token\"\n            }), \" and \", _jsx(InlineCode, {\n              children: \"Span\"\n            }), \".\"]\n          })]\n        }), _jsx(Infobox, {\n          title: \"Table of Contents\",\n          id: \"toc\",\n          children: _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#summary\",\n                children: \"Summary\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features\",\n                children: \"New features\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-models\",\n                children: \"Neural network models\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-pipelines\",\n                children: \"Improved processing pipelines\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-text-classification\",\n                children: \"Text classification\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-hash-ids\",\n                children: \"Hash values as IDs\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-vectors\",\n                children: \"Improved word vectors support\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-serializer\",\n                children: \"Saving, loading and serialization\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-displacy\",\n                children: \"displaCy visualizer\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-language\",\n                children: \"Language data and lazy loading\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-matcher\",\n                children: \"Revised matcher API and phrase matcher\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#incompat\",\n                children: \"Backwards incompatibilities\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#migrating\",\n                children: \"Migrating from spaCy v1.x\"\n              })\n            }), \"\\n\"]\n          })\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"The main usability improvements you’ll notice in spaCy v2.0 are around\\n\", _jsx(_components.strong, {\n          children: \"defining, training and loading your own models\"\n        }), \" and components. The new\\nneural network models make it much easier to train a model from scratch, or\\nupdate an existing model with a few examples. In v1.x, the statistical models\\ndepended on the state of the \", _jsx(InlineCode, {\n          children: \"Vocab\"\n        }), \". If you taught the model a new word, you\\nwould have to save and load a lot of data — otherwise the model wouldn’t\\ncorrectly recall the features of your new example. That’s no longer the case.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Due to some clever use of hashing, the statistical models \", _jsx(_components.strong, {\n          children: \"never change size\"\n        }), \",\\neven as they learn new vocabulary items. The whole pipeline is also now fully\\ndifferentiable. Even if you don’t have explicitly annotated data, you can update\\nspaCy using all the \", _jsx(_components.strong, {\n          children: \"latest deep learning tricks\"\n        }), \" like adversarial training,\\nnoise contrastive estimation or reinforcement learning.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-features\",\n      children: [_jsx(_components.h2, {\n        id: \"features\",\n        children: \"New features \"\n      }), _jsxs(_components.p, {\n        children: [\"This section contains an overview of the most important \", _jsx(_components.strong, {\n          children: \"new features and\\nimprovements\"\n        }), \". The \", _jsx(_components.a, {\n          href: \"/api\",\n          children: \"API docs\"\n        }), \" include additional deprecation notes.\"]\n      }), _jsx(_components.h3, {\n        id: \"features-models\",\n        children: \"Convolutional neural network models \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"python -m spacy download en_core_web_sm\\npython -m spacy download de_core_news_sm\\npython -m spacy download xx_ent_wiki_sm\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v2.0 features new neural models for tagging, parsing and entity\\nrecognition. The models have been designed and implemented from scratch\\nspecifically for spaCy, to give you an unmatched balance of speed, size and\\naccuracy. The new models are \", _jsx(_components.strong, {\n          children: \"10× smaller\"\n        }), \", \", _jsx(_components.strong, {\n          children: \"20% more accurate\"\n        }), \", and \", _jsx(_components.strong, {\n          children: \"even\\ncheaper to run\"\n        }), \" than the previous generation.\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v2.0’s new neural network models bring significant improvements in\\naccuracy, especially for English Named Entity Recognition. The new\\n\", _jsx(_components.a, {\n          href: \"/models/en#en_core_web_lg\",\n          children: _jsx(InlineCode, {\n            children: \"en_core_web_lg\"\n          })\n        }), \" model makes about \", _jsx(_components.strong, {\n          children: \"25% fewer\\nmistakes\"\n        }), \" than the corresponding v1.x model and is within \", _jsx(_components.strong, {\n          children: \"1% of the current\\nstate-of-the-art\"\n        }), \"\\n(\", _jsx(_components.a, {\n          href: \"https://arxiv.org/pdf/1702.02098.pdf\",\n          children: \"Strubell et al., 2017\"\n        }), \"). The v2.0 models\\nare also cheaper to run at scale, as they require \", _jsx(_components.strong, {\n          children: \"under 1 GB of memory\"\n        }), \" per\\nprocess.\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/models\",\n            children: \"Models directory\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-pipelines\",\n        children: \"Improved processing pipelines \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"# Set custom attributes\\nDoc.set_extension(\\\"my_attr\\\", default=False)\\nToken.set_extension(\\\"my_attr\\\", getter=my_token_getter)\\nassert doc._.my_attr, token._.my_attr\\n\\n# Add components to the pipeline\\nmy_component = lambda doc: doc\\nnlp.add_pipe(my_component)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"It’s now much easier to \", _jsx(_components.strong, {\n          children: \"customize the pipeline\"\n        }), \" with your own components:\\nfunctions that receive a \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" object, modify and return it. Extensions let you\\nwrite any \", _jsx(_components.strong, {\n          children: \"attributes, properties and methods\"\n        }), \" to the \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Token\"\n        }), \" and\\n\", _jsx(InlineCode, {\n          children: \"Span\"\n        }), \". You can add data, implement new features, integrate other libraries with\\nspaCy or plug in your own machine learning models.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/pipeline.svg\",\n        alt: \"The processing pipeline\"\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/language\",\n            children: _jsx(InlineCode, {\n              children: \"Language\"\n            })\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/api/doc#set_extension\",\n            children: _jsx(InlineCode, {\n              children: \"Doc.set_extension\"\n            })\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/api/span#set_extension\",\n            children: _jsx(InlineCode, {\n              children: \"Span.set_extension\"\n            })\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/api/token#set_extension\",\n            children: _jsx(InlineCode, {\n              children: \"Token.set_extension\"\n            })\n          }), \" \", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/processing-pipelines\",\n            children: \"Processing pipelines\"\n          }), \" \", _jsx(_components.strong, {\n            children: \"Code:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/examples#section-pipeline\",\n            children: \"Pipeline examples\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-text-classification\",\n        children: \"Text classification \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"textcat = nlp.create_pipe(\\\"textcat\\\")\\nnlp.add_pipe(textcat, last=True)\\nnlp.begin_training()\\nfor itn in range(100):\\n   for doc, gold in train_data:\\n       nlp.update([doc], [gold])\\ndoc = nlp(\\\"This is a text.\\\")\\nprint(doc.cats)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v2.0 lets you add text categorization models to spaCy pipelines. The model\\nsupports classification with multiple, non-mutually exclusive labels – so\\nmultiple labels can apply at once. You can change the model architecture rather\\neasily, but by default, the \", _jsx(InlineCode, {\n          children: \"TextCategorizer\"\n        }), \" class uses a convolutional neural\\nnetwork to assign position-sensitive vectors to each word in the document.\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/textcategorizer\",\n            children: _jsx(InlineCode, {\n              children: \"TextCategorizer\"\n            })\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/api/doc#attributes\",\n            children: _jsx(InlineCode, {\n              children: \"Doc.cats\"\n            })\n          }), \", \", _jsx(InlineCode, {\n            children: \"GoldParse.cats\"\n          }), \" \", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/training#textcat\",\n            children: \"Training a text classification model\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-hash-ids\",\n        children: \"Hash values instead of integer IDs \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"doc = nlp(\\\"I love coffee\\\")\\nassert doc.vocab.strings[\\\"coffee\\\"] == 3197928453018144401\\nassert doc.vocab.strings[3197928453018144401] == \\\"coffee\\\"\\n\\nbeer_hash = doc.vocab.strings.add(\\\"beer\\\")\\nassert doc.vocab.strings[\\\"beer\\\"] == beer_hash\\nassert doc.vocab.strings[beer_hash] == \\\"beer\\\"\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/stringstore\",\n          children: _jsx(InlineCode, {\n            children: \"StringStore\"\n          })\n        }), \" now resolves all strings to hash values\\ninstead of integer IDs. This means that the string-to-int mapping \", _jsx(_components.strong, {\n          children: \"no longer\\ndepends on the vocabulary state\"\n        }), \", making a lot of workflows much simpler,\\nespecially during training. Unlike integer IDs in spaCy v1.x, hash values will\\n\", _jsx(_components.strong, {\n          children: \"always match\"\n        }), \" – even across models. Strings can now be added explicitly using\\nthe new \", _jsx(_components.a, {\n          href: \"/api/stringstore#add\",\n          children: _jsx(InlineCode, {\n            children: \"Stringstore.add\"\n          })\n        }), \" method. A token’s hash is\\navailable via \", _jsx(InlineCode, {\n          children: \"token.orth\"\n        }), \".\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/stringstore\",\n            children: _jsx(InlineCode, {\n              children: \"StringStore\"\n            })\n          }), \" \", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/spacy-101#vocab\",\n            children: \"Vocab, hashes and lexemes 101\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-vectors\",\n        children: \"Improved word vectors support \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"for word, vector in vector_data:\\n    nlp.vocab.set_vector(word, vector)\\nnlp.vocab.vectors.from_glove(\\\"/path/to/vectors\\\")\\n# Keep 10000 unique vectors and remap the rest\\nnlp.vocab.prune_vectors(10000)\\nnlp.to_disk(\\\"/model\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The new \", _jsx(_components.a, {\n          href: \"/api/vectors\",\n          children: _jsx(InlineCode, {\n            children: \"Vectors\"\n          })\n        }), \" class helps the \", _jsx(InlineCode, {\n          children: \"Vocab\"\n        }), \" manage the vectors\\nassigned to strings, and lets you assign vectors individually, or\\n\", _jsx(_components.a, {\n          href: \"/usage/linguistic-features#adding-vectors\",\n          children: \"load in GloVe vectors\"\n        }), \" from a\\ndirectory. To help you strike a good balance between coverage and memory usage,\\nthe \", _jsx(InlineCode, {\n          children: \"Vectors\"\n        }), \" class lets you map \", _jsx(_components.strong, {\n          children: \"multiple keys\"\n        }), \" to the \", _jsx(_components.strong, {\n          children: \"same row\"\n        }), \" of the\\ntable. If you’re using the \", _jsx(_components.a, {\n          href: \"/api/cli#init-model\",\n          children: _jsx(InlineCode, {\n            children: \"spacy init-model\"\n          })\n        }), \" command to\\ncreate a vocabulary, pruning the vectors will be taken care of automatically if\\nyou set the \", _jsx(InlineCode, {\n          children: \"--prune-vectors\"\n        }), \" flag. Otherwise, you can use the new\\n\", _jsx(_components.a, {\n          href: \"/api/vocab#prune_vectors\",\n          children: _jsx(InlineCode, {\n            children: \"Vocab.prune_vectors\"\n          })\n        }), \".\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/vectors\",\n            children: _jsx(InlineCode, {\n              children: \"Vectors\"\n            })\n          }), \", \", _jsx(_components.a, {\n            href: \"/api/vocab\",\n            children: _jsx(InlineCode, {\n              children: \"Vocab\"\n            })\n          }), \" \", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/vectors-similarity\",\n            children: \"Word vectors and semantic similarity\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-serializer\",\n        children: \"Saving, loading and serialization \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"nlp = spacy.load(\\\"en\\\") # shortcut link\\nnlp = spacy.load(\\\"en_core_web_sm\\\") # package\\nnlp = spacy.load(\\\"/path/to/en\\\") # unicode path\\nnlp = spacy.load(Path(\\\"/path/to/en\\\")) # pathlib Path\\n\\nnlp.to_disk(\\\"/path/to/nlp\\\")\\nnlp = English().from_disk(\\\"/path/to/nlp\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy’s serialization API has been made consistent across classes and objects.\\nAll container classes, i.e. \", _jsx(InlineCode, {\n          children: \"Language\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Vocab\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"StringStore\"\n        }), \" now\\nhave a \", _jsx(InlineCode, {\n          children: \"to_bytes()\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"from_bytes()\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"to_disk()\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"from_disk()\"\n        }), \" method that\\nsupports the Pickle protocol.\"]\n      }), _jsxs(_components.p, {\n        children: [\"The improved \", _jsx(InlineCode, {\n          children: \"spacy.load\"\n        }), \" makes loading models easier and more transparent. You\\ncan load a model by supplying its shortcut link, the name of an installed\\n\", _jsx(_components.a, {\n          href: \"/models\",\n          children: \"model package\"\n        }), \" or a path. The \", _jsx(InlineCode, {\n          children: \"Language\"\n        }), \" class to initialize will be\\ndetermined based on the model’s settings. For a blank language, you can import\\nthe class directly, e.g. \", _jsx(InlineCode, {\n          children: \"from spacy.lang.en import English\"\n        }), \" or use\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.blank\",\n          children: _jsx(InlineCode, {\n            children: \"spacy.blank()\"\n          })\n        }), \".\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/top-level#spacy.load\",\n            children: _jsx(InlineCode, {\n              children: \"spacy.load\"\n            })\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/api/language#to_disk\",\n            children: _jsx(InlineCode, {\n              children: \"Language.to_disk\"\n            })\n          }), \" \", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/models#usage\",\n            children: \"Models\"\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/usage/saving-loading#models\",\n            children: \"Saving and loading\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-displacy\",\n        children: \"displaCy visualizer with Jupyter support \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from spacy import displacy\\ndoc = nlp(\\\"This is a sentence about Facebook.\\\")\\ndisplacy.serve(doc, style=\\\"dep\\\") # run the web server\\nhtml = displacy.render(doc, style=\\\"ent\\\") # generate HTML\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Our popular dependency and named entity visualizers are now an official part of\\nthe spaCy library. displaCy can run a simple web server, or generate raw HTML\\nmarkup or SVG files to be exported. You can pass in one or more docs, and\\ncustomize the style. displaCy also auto-detects whether you’re running\\n\", _jsx(_components.a, {\n          href: \"https://jupyter.org\",\n          children: \"Jupyter\"\n        }), \" and will render the visualizations in your\\nnotebook.\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/top-level#displacy\",\n            children: _jsx(InlineCode, {\n              children: \"displacy\"\n            })\n          }), \" \", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"/usage/visualizers\",\n            children: \"Visualizing spaCy\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-language\",\n        children: \"Improved language data and lazy loading \"\n      }), _jsxs(_components.p, {\n        children: [\"Language-specific data now lives in its own submodule, \", _jsx(InlineCode, {\n          children: \"spacy.lang\"\n        }), \". Languages\\nare lazy-loaded, i.e. only loaded when you import a \", _jsx(InlineCode, {\n          children: \"Language\"\n        }), \" class, or load a\\nmodel that initializes one. This allows languages to contain more custom data,\\ne.g. lemmatizer lookup tables, or complex regular expressions. The language data\\nhas also been tidied up and simplified. spaCy now also supports simple\\nlookup-based lemmatization – and \", _jsx(_components.strong, {\n          children: \"many new languages\"\n        }), \"!\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/language\",\n            children: _jsx(InlineCode, {\n              children: \"Language\"\n            })\n          }), \" \", _jsx(_components.strong, {\n            children: \"Code:\"\n          }), \"\\n\", _jsx(_components.a, {\n            href: \"https://github.com/explosion/spacy/tree/v2.x/spacy/lang\",\n            children: _jsx(InlineCode, {\n              children: \"spacy/lang\"\n            })\n          }), \"\\n\", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/usage/adding-languages\",\n            children: \"Adding languages\"\n          })]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-matcher\",\n        children: \"Revised matcher API and phrase matcher \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from spacy.matcher import Matcher, PhraseMatcher\\n\\nmatcher = Matcher(nlp.vocab)\\nmatcher.add('HEARTS', None, [{\\\"ORTH\\\": \\\"❤️\\\", \\\"OP\\\": '+'}])\\n\\nphrasematcher = PhraseMatcher(nlp.vocab)\\nphrasematcher.add(\\\"OBAMA\\\", None, nlp(\\\"Barack Obama\\\"))\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Patterns can now be added to the matcher by calling\\n\", _jsx(_components.a, {\n          href: \"/api/matcher#add\",\n          children: _jsx(InlineCode, {\n            children: \"matcher.add()\"\n          })\n        }), \" with a match ID, an optional callback\\nfunction to be invoked on each match, and one or more patterns. This allows you\\nto write powerful, pattern-specific logic using only one matcher. For example,\\nyou might only want to merge some entity types, and set custom flags for other\\nmatched patterns. The new \", _jsx(_components.a, {\n          href: \"/api/phrasematcher\",\n          children: _jsx(InlineCode, {\n            children: \"PhraseMatcher\"\n          })\n        }), \" lets you\\nefficiently match very large terminology lists using \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects as match\\npatterns.\"]\n      }), _jsx(Infobox, {\n        children: _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"API:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/api/matcher\",\n            children: _jsx(InlineCode, {\n              children: \"Matcher\"\n            })\n          }), \", \", _jsx(_components.a, {\n            href: \"/api/phrasematcher\",\n            children: _jsx(InlineCode, {\n              children: \"PhraseMatcher\"\n            })\n          }), \"\\n\", _jsx(_components.strong, {\n            children: \"Usage:\"\n          }), \" \", _jsx(_components.a, {\n            href: \"/usage/rule-based-matching\",\n            children: \"Rule-based matching\"\n          })]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-incompat\",\n      children: [_jsx(_components.h2, {\n        id: \"incompat\",\n        children: \"Backwards incompatibilities \"\n      }), _jsx(_components.p, {\n        children: \"The following modules, classes and methods have changed between v1.x and v2.0.\"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Old\"\n            }), _jsx(_components.th, {\n              children: \"New\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"spacy.download.en\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"spacy.download.de\"\n              })]\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#download\",\n                children: _jsx(InlineCode, {\n                  children: \"cli.download\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"spacy.en\"\n              }), \" etc.\"]\n            }), _jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"spacy.lang.en\"\n              }), \" etc.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.en.word_sets\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.lang.en.stop_words\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.orth\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.lang.xx.lex_attrs\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.syntax.iterators\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.lang.xx.syntax_iterators\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.tagger.Tagger\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.pipeline.Tagger\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy.cli.model\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#vocab\",\n                children: _jsx(InlineCode, {\n                  children: \"spacy.cli.vocab\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Language.save_to_directory\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#to_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.to_disk\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Language.end_training\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#begin_training\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.begin_training\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Language.create_make_doc\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.tokenizer\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Vocab.resize_vectors\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/vectors#resize\",\n                children: _jsx(InlineCode, {\n                  children: \"Vectors.resize\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Vocab.load\"\n              }), \" \", _jsx(InlineCode, {\n                children: \"Vocab.load_lexemes\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/vocab#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Vocab.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/vocab#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Vocab.from_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Vocab.dump\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/vocab#to_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Vocab.to_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/vocab#to_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Vocab.to_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Vocab.load_vectors\"\n              }), \" \", _jsx(InlineCode, {\n                children: \"Vocab.load_vectors_from_bin_loc\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/vectors#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Vectors.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/vectors#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Vectors.from_bytes\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/vectors#from_glove\",\n                children: _jsx(InlineCode, {\n                  children: \"Vectors.from_glove\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Vocab.dump_vectors\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/vectors#to_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Vectors.to_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/vectors#to_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Vectors.to_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"StringStore.load\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/stringstore#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"StringStore.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/stringstore#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"StringStore.from_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"StringStore.dump\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/stringstore#to_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"StringStore.to_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/stringstore#to_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"StringStore.to_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Tokenizer.load\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/tokenizer#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Tokenizer.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/tokenizer#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Tokenizer.from_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Tagger.load\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/tagger#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Tagger.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/tagger#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Tagger.from_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Tagger.tag_names\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Tagger.labels\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"DependencyParser.load\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/dependencyparser#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"DependencyParser.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/dependencyparser#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"DependencyParser.from_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"EntityRecognizer.load\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/entityrecognizer#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"EntityRecognizer.from_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/entityrecognizer#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"EntityRecognizer.from_bytes\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Matcher.load\"\n              })\n            }), _jsx(_components.td, {\n              children: \"-\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Matcher.add_pattern\"\n              }), \" \", _jsx(InlineCode, {\n                children: \"Matcher.add_entity\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/matcher#add\",\n                children: _jsx(InlineCode, {\n                  children: \"Matcher.add\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/phrasematcher#add\",\n                children: _jsx(InlineCode, {\n                  children: \"PhraseMatcher.add\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Matcher.get_entity\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/matcher#get\",\n                children: _jsx(InlineCode, {\n                  children: \"Matcher.get\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Matcher.has_entity\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/matcher#has_key\",\n                children: _jsx(InlineCode, {\n                  children: \"Matcher.has_key\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Doc.read_bytes\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/doc#to_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.to_bytes\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/doc#from_bytes\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.from_bytes\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/doc#to_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.to_disk\"\n                })\n              }), \" \", _jsx(_components.a, {\n                href: \"/api/doc#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.from_disk\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Token.is_ancestor_of\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/token#is_ancestor\",\n                children: _jsx(InlineCode, {\n                  children: \"Token.is_ancestor\"\n                })\n              })\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"deprecated\",\n        children: \"Deprecated \"\n      }), _jsx(_components.p, {\n        children: \"The following methods are deprecated. They can still be used, but should be\\nreplaced.\"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Old\"\n            }), _jsx(_components.th, {\n              children: \"New\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Tokenizer.tokens_from_list\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/doc\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Span.sent_start\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/span#is_sent_start\",\n                children: _jsx(InlineCode, {\n                  children: \"Span.is_sent_start\"\n                })\n              })\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-migrating\",\n      children: [_jsx(_components.h2, {\n        id: \"migrating\",\n        children: \"Migrating from spaCy 1.x \"\n      }), _jsxs(_components.p, {\n        children: [\"Because we’e made so many architectural changes to the library, we’ve tried to\\n\", _jsx(_components.strong, {\n          children: \"keep breaking changes to a minimum\"\n        }), \". A lot of projects follow the philosophy\\nthat if you’re going to break anything, you may as well break everything. We\\nthink migration is easier if there’s a logic to what has changed. We’ve\\ntherefore followed a policy of avoiding breaking changes to the \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Span\"\n        }), \"\\nand \", _jsx(InlineCode, {\n          children: \"Token\"\n        }), \" objects. This way, you can focus on only migrating the code that\\ndoes training, loading and serialization — in other words, code that works with\\nthe \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \" object directly. Code that uses the annotations should continue to\\nwork.\"]\n      }), _jsx(Infobox, {\n        title: \"Important note\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"If you’ve trained your own models, keep in mind that your train and runtime\\ninputs must match. This means you’ll have to \", _jsx(_components.strong, {\n            children: \"retrain your models\"\n          }), \" with spaCy\\nv2.0.\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-document-processing\",\n        children: \"Document processing \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/language#pipe\",\n          children: _jsx(InlineCode, {\n            children: \"Language.pipe\"\n          })\n        }), \" method allows spaCy to batch\\ndocuments, which brings a \", _jsx(_components.strong, {\n          children: \"significant performance advantage\"\n        }), \" in v2.0. The new\\nneural networks introduce some overhead per batch, so if you’re processing a\\nnumber of documents in a row, you should use \", _jsx(InlineCode, {\n          children: \"nlp.pipe\"\n        }), \" and process the texts as\\na stream.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- docs = (nlp(text) for text in texts)\\n\\n+ docs = nlp.pipe(texts)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"To make usage easier, there’s now a boolean \", _jsx(InlineCode, {\n          children: \"as_tuples\"\n        }), \" keyword argument, that\\nlets you pass in an iterator of \", _jsx(InlineCode, {\n          children: \"(text, context)\"\n        }), \" pairs, so you can get back an\\niterator of \", _jsx(InlineCode, {\n          children: \"(doc, context)\"\n        }), \" tuples.\"]\n      }), _jsx(_components.h3, {\n        id: \"migrating-saving-loading\",\n        children: \"Saving, loading and serialization \"\n      }), _jsxs(_components.p, {\n        children: [\"Double-check all calls to \", _jsx(InlineCode, {\n          children: \"spacy.load()\"\n        }), \" and make sure they don’t use the \", _jsx(InlineCode, {\n          children: \"path\"\n        }), \"\\nkeyword argument. If you’re only loading in binary data and not a model package\\nthat can construct its own \", _jsx(InlineCode, {\n          children: \"Language\"\n        }), \" class and pipeline, you should now use the\\n\", _jsx(_components.a, {\n          href: \"/api/language#from_disk\",\n          children: _jsx(InlineCode, {\n            children: \"Language.from_disk\"\n          })\n        }), \" method.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- nlp = spacy.load(\\\"en\\\", path=\\\"/model\\\")\\n\\n+ nlp = spacy.load(\\\"/model\\\")\\n+ nlp = spacy.blank(\\\"en\\\").from_disk(\\\"/model/data\\\")\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Review all other code that writes state to disk or bytes. All containers, now\\nshare the same, consistent API for saving and loading. Replace saving with\\n\", _jsx(InlineCode, {\n          children: \"to_disk()\"\n        }), \" or \", _jsx(InlineCode, {\n          children: \"to_bytes()\"\n        }), \", and loading with \", _jsx(InlineCode, {\n          children: \"from_disk()\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"from_bytes()\"\n        }), \".\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- nlp.save_to_directory(\\\"/model\\\")\\n- nlp.vocab.dump(\\\"/vocab\\\")\\n\\n+ nlp.to_disk(\\\"/model\\\")\\n+ nlp.vocab.to_disk(\\\"/vocab\\\")\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you’ve trained models with input from v1.x, you’ll need to \", _jsx(_components.strong, {\n          children: \"retrain them\"\n        }), \"\\nwith spaCy v2.0. All previous models will not be compatible with the new\\nversion.\"]\n      }), _jsx(_components.h3, {\n        id: \"migrating-languages\",\n        children: \"Processing pipelines and language data \"\n      }), _jsxs(_components.p, {\n        children: [\"If you’re importing language data or \", _jsx(InlineCode, {\n          children: \"Language\"\n        }), \" classes, make sure to change\\nyour import statements to import from \", _jsx(InlineCode, {\n          children: \"spacy.lang\"\n        }), \". If you’ve added your own\\ncustom language, it needs to be moved to \", _jsx(InlineCode, {\n          children: \"spacy/lang/xx\"\n        }), \" and adjusted\\naccordingly.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- from spacy.en import English\\n\\n+ from spacy.lang.en import English\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you’ve been using custom pipeline components, check out the new guide on\\n\", _jsx(_components.a, {\n          href: \"/usage/processing-pipelines\",\n          children: \"processing pipelines\"\n        }), \". Pipeline components are now\\n\", _jsx(InlineCode, {\n          children: \"(name, func)\"\n        }), \" tuples. Appending them to the pipeline still works – but the\\n\", _jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"add_pipe\"\n          })\n        }), \" method now makes this much more convenient.\\nMethods for removing, renaming, replacing and retrieving components have been\\nadded as well. Components can now be disabled by passing a list of their names\\nto the \", _jsx(InlineCode, {\n          children: \"disable\"\n        }), \" keyword argument on load, or by using\\n\", _jsx(_components.a, {\n          href: \"/api/language#disable_pipes\",\n          children: _jsx(InlineCode, {\n            children: \"disable_pipes\"\n          })\n        }), \" as a method or context manager:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- nlp = spacy.load(\\\"en_core_web_sm\\\", tagger=False, entity=False)\\n- doc = nlp(\\\"I don't want parsed\\\", parse=False)\\n\\n+ nlp = spacy.load(\\\"en_core_web_sm\\\", disable=[\\\"tagger\\\", \\\"ner\\\"])\\n+ with nlp.disable_pipes(\\\"parser\\\"):\\n+    doc = nlp(\\\"I don't want parsed\\\")\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"To add spaCy’s built-in pipeline components to your pipeline, you can still\\nimport and instantiate them directly – but it’s more convenient to use the new\\n\", _jsx(_components.a, {\n          href: \"/api/language#create_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"create_pipe\"\n          })\n        }), \" method with the component name, i.e.\\n\", _jsx(InlineCode, {\n          children: \"'tagger'\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"'parser'\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"'ner'\"\n        }), \" or \", _jsx(InlineCode, {\n          children: \"'textcat'\"\n        }), \".\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- from spacy.pipeline import Tagger\\n- tagger = Tagger(nlp.vocab)\\n- nlp.pipeline.insert(0, tagger)\\n\\n+ tagger = nlp.create_pipe(\\\"tagger\\\")\\n+ nlp.add_pipe(tagger, first=True)\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-training\",\n        children: \"Training \"\n      }), _jsxs(_components.p, {\n        children: [\"All built-in pipeline components are now subclasses of \", _jsx(_components.a, {\n          href: \"/api/pipe\",\n          children: _jsx(InlineCode, {\n            children: \"Pipe\"\n          })\n        }), \",\\nfully trainable and serializable, and follow the same API. Instead of updating\\nthe model and telling spaCy when to \", _jsx(_components.em, {\n          children: \"stop\"\n        }), \", you can now explicitly call\\n\", _jsx(_components.a, {\n          href: \"/api/language#begin_training\",\n          children: _jsx(InlineCode, {\n            children: \"begin_training\"\n          })\n        }), \", which returns an optimizer you\\ncan pass into the \", _jsx(_components.a, {\n          href: \"/api/language#update\",\n          children: _jsx(InlineCode, {\n            children: \"update\"\n          })\n        }), \" function. While \", _jsx(InlineCode, {\n          children: \"update\"\n        }), \"\\nstill accepts sequences of \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"GoldParse\"\n        }), \" objects, you can now also pass\\nin a list of strings and dictionaries describing the annotations. We call this\\nthe \", _jsx(_components.a, {\n          href: \"/usage/training#training-simple-style\",\n          children: \"“simple training style”\"\n        }), \". This is\\nalso the recommended usage, as it removes one layer of abstraction from the\\ntraining.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- for itn in range(1000):\\n-     for text, entities in train_data:\\n-         doc = Doc(text)\\n-         gold = GoldParse(doc, entities=entities)\\n-         nlp.update(doc, gold)\\n- nlp.end_training()\\n- nlp.save_to_directory(\\\"/model\\\")\\n\\n+ nlp.begin_training()\\n+ for itn in range(1000):\\n+     for texts, annotations in train_data:\\n+         nlp.update(texts, annotations)\\n+ nlp.to_disk(\\\"/model\\\")\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-doc\",\n        children: \"Attaching custom data to the Doc \"\n      }), _jsxs(_components.p, {\n        children: [\"Previously, you had to create a new container in order to attach custom data to\\na \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" object. This often required converting the \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects to and from\\narrays. In spaCy v2.0, you can set your own attributes, properties and methods\\non the \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Token\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"Span\"\n        }), \" via\\n\", _jsx(_components.a, {\n          href: \"/usage/processing-pipelines#custom-components-attributes\",\n          children: \"custom extensions\"\n        }), \".\\nThis means that your application can – and should – only pass around \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \"\\nobjects and refer to them as the single source of truth.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- doc = nlp(\\\"This is a regular doc\\\")\\n- doc_array = doc.to_array([\\\"ORTH\\\", \\\"POS\\\"])\\n- doc_with_meta = {\\\"doc_array\\\": doc_array, \\\"meta\\\": get_doc_meta(doc_array)}\\n\\n+ Doc.set_extension(\\\"meta\\\", getter=get_doc_meta)\\n+ doc_with_meta = nlp(u'This is a doc with meta data')\\n+ meta = doc._.meta\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you wrap your extension attributes in a\\n\", _jsx(_components.a, {\n          href: \"/usage/processing-pipelines#custom-components\",\n          children: \"custom pipeline component\"\n        }), \", they\\nwill be assigned automatically when you call \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \" on a text. If your\\napplication assigns custom data to spaCy’s container objects, or includes other\\nutilities that interact with the pipeline, consider moving this logic into its\\nown extension module.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- doc = nlp(\\\"Doc with a standard pipeline\\\")\\n- meta = get_meta(doc)\\n\\n+ nlp.add_pipe(meta_component)\\n+ doc = nlp(\\\"Doc with a custom pipeline that assigns meta\\\")\\n+ meta = doc._.meta\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-strings\",\n        children: \"Strings and hash values \"\n      }), _jsxs(_components.p, {\n        children: [\"The change from integer IDs to hash values may not actually affect your code\\nvery much. However, if you’re adding strings to the vocab manually, you now need\\nto call \", _jsx(_components.a, {\n          href: \"/api/stringstore#add\",\n          children: _jsx(InlineCode, {\n            children: \"StringStore.add\"\n          })\n        }), \" explicitly. You can also now\\nbe sure that the string-to-hash mapping will always match across vocabularies.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- nlp.vocab.strings[\\\"coffee\\\"]       # 3672\\n- other_nlp.vocab.strings[\\\"coffee\\\"] # 40259\\n\\n+ nlp.vocab.strings.add(\\\"coffee\\\")\\n+ nlp.vocab.strings[\\\"coffee\\\"]       # 3197928453018144401\\n+ other_nlp.vocab.strings[\\\"coffee\\\"] # 3197928453018144401\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-matcher\",\n        children: \"Adding patterns and callbacks to the matcher \"\n      }), _jsxs(_components.p, {\n        children: [\"If you’re using the matcher, you can now add patterns in one step. This should\\nbe easy to update – simply merge the ID, callback and patterns into one call to\\n\", _jsx(_components.a, {\n          href: \"/api/matcher#add\",\n          children: _jsx(InlineCode, {\n            children: \"Matcher.add()\"\n          })\n        }), \". The matcher now also supports string keys,\\nwhich saves you an extra import. If you’ve been using \", _jsx(_components.strong, {\n          children: \"acceptor functions\"\n        }), \",\\nyou’ll need to move this logic into the\\n\", _jsxs(_components.a, {\n          href: \"/usage/linguistic-features#on_match\",\n          children: [_jsx(InlineCode, {\n            children: \"on_match\"\n          }), \" callbacks\"]\n        }), \". The callback\\nfunction is invoked on every match and will give you access to the doc, the\\nindex of the current match and all total matches. This lets you both accept or\\nreject the match, and define the actions to be triggered.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- matcher.add_entity(\\\"GoogleNow\\\", on_match=merge_phrases)\\n- matcher.add_pattern(\\\"GoogleNow\\\", [{ORTH: \\\"Google\\\"}, {ORTH: \\\"Now\\\"}])\\n\\n+ matcher.add(\\\"GoogleNow\\\", merge_phrases, [{\\\"ORTH\\\": \\\"Google\\\"}, {\\\"ORTH\\\": \\\"Now\\\"}])\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you need to match large terminology lists, you can now also use the\\n\", _jsx(_components.a, {\n          href: \"/api/phrasematcher\",\n          children: _jsx(InlineCode, {\n            children: \"PhraseMatcher\"\n          })\n        }), \", which accepts \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects as match\\npatterns and is more efficient than the regular, rule-based matcher.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- matcher = Matcher(nlp.vocab)\\n- matcher.add_entity(\\\"PRODUCT\\\")\\n- for text in large_terminology_list\\n-     matcher.add_pattern(\\\"PRODUCT\\\", [{ORTH: text}])\\n\\n+ from spacy.matcher import PhraseMatcher\\n+ matcher = PhraseMatcher(nlp.vocab)\\n+ patterns = [nlp.make_doc(text) for text in large_terminology_list]\\n+ matcher.add(\\\"PRODUCT\\\", None, *patterns)\\n\"\n        })\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"What's New in v2.0","teaser":"New features, backwards incompatibilities and migration guide","menu":[["Summary","summary"],["New Features","features"],["Backwards Incompatibilities","incompat"],["Migrating from v1.x","migrating"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":null},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["usage","v2"]},"buildId":"Ugre-usgT1EZhnSeYcBR9","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>