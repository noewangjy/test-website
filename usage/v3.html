<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>What&#x27;s New in v3.0 ¬∑ spaCy Usage Documentation</title><meta name="description" content="New features, backwards incompatibilities and migration guide"/><meta property="og:title" content="What&#x27;s New in v3.0 ¬∑ spaCy Usage Documentation"/><meta property="og:description" content="New features, backwards incompatibilities and migration guide"/><meta property="og:type" content="website"/><meta property="og:site_name" content="What&#x27;s New in v3.0"/><meta property="og:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="What&#x27;s New in v3.0 ¬∑ spaCy Usage Documentation"/><meta name="twitter:description" content="New features, backwards incompatibilities and migration guide"/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ee1fab0e25bb912e.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_buildManifest.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-blue"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>üí• Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage" selected="">Usage</option><option value="/models">Models</option><option value="/api">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Get started</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/usage">Get started<!-- --> ‚Ä∫ <!-- -->Installation</option><option value="/usage/models">Get started<!-- --> ‚Ä∫ <!-- -->Models &amp; Languages</option><option value="/usage/facts-figures">Get started<!-- --> ‚Ä∫ <!-- -->Facts &amp; Figures</option><option value="/usage/spacy-101">Get started<!-- --> ‚Ä∫ <!-- -->spaCy 101</option><option value="/usage/v3" selected="">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.0</option><option value="/usage/v3-1">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.1</option><option value="/usage/v3-2">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.2</option><option value="/usage/v3-3">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.3</option><option value="/usage/v3-4">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.4</option><option value="/usage/v3-5">Get started<!-- --> ‚Ä∫ <!-- -->New in v3.5</option><option value="/usage/linguistic-features">Guides<!-- --> ‚Ä∫ <!-- -->Linguistic Features</option><option value="/usage/rule-based-matching">Guides<!-- --> ‚Ä∫ <!-- -->Rule-based Matching</option><option value="/usage/processing-pipelines">Guides<!-- --> ‚Ä∫ <!-- -->Processing Pipelines</option><option value="/usage/embeddings-transformers">Guides<!-- --> ‚Ä∫ <!-- -->Embeddings &amp; Transformers</option><option value="/usage/training">Guides<!-- --> ‚Ä∫ <!-- -->Training Models</option><option value="/usage/layers-architectures">Guides<!-- --> ‚Ä∫ <!-- -->Layers &amp; Model Architectures</option><option value="/usage/projects">Guides<!-- --> ‚Ä∫ <!-- -->spaCy Projects</option><option value="/usage/saving-loading">Guides<!-- --> ‚Ä∫ <!-- -->Saving &amp; Loading</option><option value="/usage/visualizers">Guides<!-- --> ‚Ä∫ <!-- -->Visualizers</option><option value="https://github.com/explosion/projects">Resources<!-- --> ‚Ä∫ <!-- -->Project Templates</option><option value="https://v2.spacy.io">Resources<!-- --> ‚Ä∫ <!-- -->v2.x Documentation</option><option value="https://explosion.ai/custom-solutions">Resources<!-- --> ‚Ä∫ <!-- -->Custom Solutions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Get started</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage">Installation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/models">Models &amp; Languages</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/facts-figures">Facts &amp; Figures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/spacy-101">spaCy 101</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/usage/v3">New in v3.0</a><ul class="sidebar_crumbs__NhM2y"><li class="sidebar_crumb__tiiDl sidebar_crumb-active__zq8BI"><a href="#summary">Summary</a></li><li class="sidebar_crumb__tiiDl"><a href="#features">New Features</a></li><li class="sidebar_crumb__tiiDl"><a href="#incompat">Backwards Incompatibilities</a></li><li class="sidebar_crumb__tiiDl"><a href="#migrating">Migrating from v2.x</a></li></ul></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-1">New in v3.1</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-2">New in v3.2</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-3">New in v3.3</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-4">New in v3.4</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-5">New in v3.5</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Guides</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/linguistic-features">Linguistic Features</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/rule-based-matching">Rule-based Matching</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/processing-pipelines">Processing Pipelines</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/embeddings-transformers">Embeddings &amp; Transformers<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/training">Training Models<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/layers-architectures">Layers &amp; Model Architectures<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/projects">spaCy Projects<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/saving-loading">Saving &amp; Loading</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/visualizers">Visualizers</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Resources</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects">Project Templates</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://v2.spacy.io">v2.x Documentation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">What&#x27;s New in v3.0<!-- --> </span></h1><div class="heading-teaser title_teaser__QhwCH">New features, backwards incompatibilities and migration guide</div></header><section id="section-summary" class="section_root__k1hUl"><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">üìñ Looking for the old docs?<!-- --> </span></h4>
<p>To help you make the transition from v2.x to v3.0, we‚Äôve uploaded the old
website to <a class="link_root__1Me7D" href="https://v2.spacy.io/docs"><strong>v2.spacy.io</strong></a>.</p>
</div></div></aside><div class="grid_root__EfDZl grid_half__xoJZs"><div><p>spaCy v3.0 features all new <strong>transformer-based pipelines</strong> that bring spaCy‚Äôs
accuracy right up to the current <strong>state-of-the-art</strong>. You can use any
pretrained transformer to train your own pipelines, and even share one
transformer between multiple components with <strong>multi-task learning</strong>. Training
is now fully configurable and extensible, and you can define your own custom
models using <strong>PyTorch</strong>, <strong>TensorFlow</strong> and other frameworks. The new spaCy
projects system lets you describe whole <strong>end-to-end workflows</strong> in a single
file, giving you an easy path from prototype to production, and making it easy
to clone and adapt best-practice projects for your own use cases.</p></div><div><a id="toc"></a><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span>Table of Contents</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#summary">Summary</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features">New features</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-transformers">Transformer-based pipelines</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-training">Training &amp; config system</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-custom-models">Custom models</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-projects">End-to-end project workflows</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-parallel-training">Parallel training with Ray</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-pipeline-components">New built-in components</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-components">New custom component API</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-dep-matcher">Dependency matching</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#features-types">Python type hints</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#new-methods">New methods &amp; attributes</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#new-docs">New &amp; updated documentation</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#incompat">Backwards incompatibilities</a></li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D" href="/usage/v3#migrating">Migrating from spaCy v2.x</a></li>
</ul></aside></div></div></section>
<section id="section-features" class="section_root__k1hUl"><h2 id="features" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#features" class="heading-text typography_permalink__UiIRy">New Features <!-- --> </a></h2><p>This section contains an overview of the most important <strong>new features and
improvements</strong>. The <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api"><span class="link_source-text__VDP74">API docs</span></a> include additional deprecation notes. New
methods and functions that were introduced in this version are marked with the
tag <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.0">v<!-- -->3.0</span>.</p><figure class="embed_root__mluJp embed_responsive__k3do3 embed_ratio16x9__iHV71"><iframe class="embed_iframe__YqdML" title="9k_EfV7Cns0" src="https://www.youtube-nocookie.com/embed/9k_EfV7Cns0" frameBorder="0" height="500" allowfullscreen=""></iframe></figure><div class="grid_root__EfDZl grid_narrow__x_6xS grid_half__xoJZs"><figure class="embed_root__mluJp embed_responsive__k3do3 embed_ratio16x9__iHV71"><iframe class="embed_iframe__YqdML" title="BWhh3r6W-qE" src="https://www.youtube-nocookie.com/embed/BWhh3r6W-qE" frameBorder="0" height="500" allowfullscreen=""></iframe></figure><figure class="embed_root__mluJp embed_responsive__k3do3 embed_ratio16x9__iHV71"><iframe class="embed_iframe__YqdML" title="8HL-Ap5_Axo" src="https://www.youtube-nocookie.com/embed/8HL-Ap5_Axo" frameBorder="0" height="500" allowfullscreen=""></iframe></figure></div><h3 id="features-transformers" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-transformers" class="heading-text typography_permalink__UiIRy">Transformer-based pipelines <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><p>spaCy v3.0 features all new transformer-based pipelines that bring spaCy‚Äôs
accuracy right up to the current <strong>state-of-the-art</strong>. You can use any
pretrained transformer to train your own pipelines, and even share one
transformer between multiple components with <strong>multi-task learning</strong>. spaCy‚Äôs
transformer support interoperates with <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://pytorch.org">PyTorch</a> and the
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/transformers/">HuggingFace <code class="code_inline-code__Bq7ot">transformers</code></a> library,
giving you access to thousands of pretrained models for your pipelines.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/tok2vec-listener.svg" alt="Pipeline components listening to shared embedding component" width="650" height="auto"/></figure><figure><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Pipeline</th><th class="table_th__QJ9F8" align="right">Parser</th><th class="table_th__QJ9F8" align="right">Tagger</th><th class="table_th__QJ9F8" align="right">NER</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_trf"><code class="code_inline-code__Bq7ot">en_core_web_trf</code></a> (spaCy v3)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.1</td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">89.8</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_lg"><code class="code_inline-code__Bq7ot">en_core_web_lg</code></a> (spaCy v3)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">92.0</td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.4</td><td class="table_td__rmpJx table_num__mTxMB" align="right">85.5</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">en_core_web_lg</code> (spaCy v2)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">91.9</td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">85.5</td></tr></tbody></table><figcaption class="caption"><p><strong>Full pipeline accuracy</strong> on the
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://catalog.ldc.upenn.edu/LDC2013T19">OntoNotes 5.0</a> corpus (reported on
the development set).</p></figcaption></figure>
<figure><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Named Entity Recognition System</th><th class="table_th__QJ9F8" align="right">OntoNotes</th><th class="table_th__QJ9F8" align="right">CoNLL ‚Äò03</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">spaCy RoBERTa (2020)</td><td class="table_td__rmpJx table_num__mTxMB" align="right">89.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">91.6</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">Stanza (StanfordNLP)<sup>1</sup></td><td class="table_td__rmpJx table_num__mTxMB" align="right">88.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">92.1</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">Flair<sup>2</sup></td><td class="table_td__rmpJx table_num__mTxMB" align="right">89.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">93.1</td></tr></tbody></table><figcaption class="caption"><p><strong>Named entity recognition accuracy</strong> on the
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://catalog.ldc.upenn.edu/LDC2013T19">OntoNotes 5.0</a> and
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://www.aclweb.org/anthology/W03-0419.pdf">CoNLL-2003</a> corpora. See
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="http://nlpprogress.com/english/named_entity_recognition.html">NLP-progress</a> for
more results. Project template:
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/benchmarks/ner_conll03"><code class="code_inline-code__Bq7ot">benchmarks/ner_conll03</code></a>. <strong>1.</strong>
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://arxiv.org/pdf/2003.07082.pdf">Qi et al. (2020)</a>. <strong>2.</strong>
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://www.aclweb.org/anthology/C18-1139/">Akbik et al. (2018)</a>.</p></figcaption></figure><h4 id="features-transformers-pipelines" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#features-transformers-pipelines" class="heading-text typography_permalink__UiIRy">New trained transformer-based pipelines <!-- --> </a></h4><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Notes on model capabilities<!-- --> </span></h4>
<p>The models are each trained with a <strong>single transformer</strong> shared across the
pipeline, which requires it to be trained on a single corpus. For
<a class="link_root__1Me7D link_with-icon__NAVDA" href="/models/en"><span class="link_source-text__VDP74">English</span></a> and <a class="link_root__1Me7D link_with-icon__NAVDA" href="/models/zh"><span class="link_source-text__VDP74">Chinese</span></a>, we used the OntoNotes 5
corpus, which has annotations across several tasks. For <a class="link_root__1Me7D link_with-icon__NAVDA" href="/models/fr"><span class="link_source-text__VDP74">French</span></a>,
<a class="link_root__1Me7D link_with-icon__NAVDA" href="/models/es"><span class="link_source-text__VDP74">Spanish</span></a> and <a class="link_root__1Me7D link_with-icon__NAVDA" href="/models/de"><span class="link_source-text__VDP74">German</span></a>, we didn‚Äôt have a suitable
corpus that had both syntactic and entity annotations, so the transformer
models for those languages do not include NER.</p>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Package</th><th class="table_th__QJ9F8">Language</th><th class="table_th__QJ9F8">Transformer</th><th class="table_th__QJ9F8" align="right">Tagger</th><th class="table_th__QJ9F8" align="right">Parser</th><th class="table_th__QJ9F8" align="right">NER</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_trf"><code class="code_inline-code__Bq7ot">en_core_web_trf</code></a></td><td class="table_td__rmpJx">English</td><td class="table_td__rmpJx"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/roberta-base"><code class="code_inline-code__Bq7ot">roberta-base</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">97.8</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">89.9</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/de#de_dep_news_trf"><code class="code_inline-code__Bq7ot">de_dep_news_trf</code></a></td><td class="table_td__rmpJx">German</td><td class="table_td__rmpJx"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/bert-base-german-cased"><code class="code_inline-code__Bq7ot">bert-base-german-cased</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">99.0</td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.8</td><td class="table_td__rmpJx" align="right">-</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/es#es_dep_news_trf"><code class="code_inline-code__Bq7ot">es_dep_news_trf</code></a></td><td class="table_td__rmpJx">Spanish</td><td class="table_td__rmpJx"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/dccuchile/bert-base-spanish-wwm-cased"><code class="code_inline-code__Bq7ot">bert-base-spanish-wwm-cased</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">98.2</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.6</td><td class="table_td__rmpJx" align="right">-</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/fr#fr_dep_news_trf"><code class="code_inline-code__Bq7ot">fr_dep_news_trf</code></a></td><td class="table_td__rmpJx">French</td><td class="table_td__rmpJx"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/camembert-base"><code class="code_inline-code__Bq7ot">camembert-base</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">95.7</td><td class="table_td__rmpJx table_num__mTxMB" align="right">94.4</td><td class="table_td__rmpJx" align="right">-</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/zh#zh_core_news_trf"><code class="code_inline-code__Bq7ot">zh_core_web_trf</code></a></td><td class="table_td__rmpJx">Chinese</td><td class="table_td__rmpJx"><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/bert-base-chinese"><code class="code_inline-code__Bq7ot">bert-base-chinese</code></a></td><td class="table_td__rmpJx table_num__mTxMB" align="right">92.5</td><td class="table_td__rmpJx table_num__mTxMB" align="right">76.6</td><td class="table_td__rmpJx table_num__mTxMB" align="right">75.4</td></tr></tbody></table><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/embeddings-transformers">Embeddings &amp; Transformers</a>,
<a class="link_root__1Me7D" href="/usage/training">Training pipelines and models</a>,
<a class="link_root__1Me7D" href="/usage/facts-figures#benchmarks">Benchmarks</a></li>
<li class="list_li__sfx_z"><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/transformer"><code class="code_inline-code__Bq7ot">Transformer</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/transformer#transformerdata"><code class="code_inline-code__Bq7ot">TransformerData</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/transformer#fulltransformerbatch"><code class="code_inline-code__Bq7ot">FullTransformerBatch</code></a></li>
<li class="list_li__sfx_z">**Architectures: ** <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#TransformerModel"><span class="link_source-text__VDP74">TransformerModel</span></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#TransformerListener"><span class="link_source-text__VDP74">TransformerListener</span></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/architectures#Tok2VecTransformer"><span class="link_source-text__VDP74">Tok2VecTransformer</span></a></li>
<li class="list_li__sfx_z"><strong>Implementation:</strong>
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-transformers"><code class="code_inline-code__Bq7ot">spacy-transformers</code></a></li>
</ul></aside><h3 id="features-training" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-training" class="heading-text typography_permalink__UiIRy">New training workflow and config system <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><p>spaCy v3.0 introduces a comprehensive and extensible system for <strong>configuring
your training runs</strong>. A single configuration file describes every detail of your
training run, with no hidden defaults, making it easy to rerun your experiments
and track changes. You can use the
<a class="link_root__1Me7D" href="/usage/training#quickstart">quickstart widget</a> or the <code class="code_inline-code__Bq7ot">init config</code> command to
get started. Instead of providing lots of arguments on the command line, you
only need to pass your <code class="code_inline-code__Bq7ot">config.cfg</code> file to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">spacy train</code></a>.
Training config files include all <strong>settings and hyperparameters</strong> for training
your pipeline. Some settings can also be registered <strong>functions</strong> that you can
swap out and customize, making it easy to implement your own custom models and
architectures.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/lifecycle.svg" alt="Illustration of pipeline lifecycle" width="650" height="auto"/></figure><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/training">Training pipelines and models</a></li>
<li class="list_li__sfx_z"><strong>Thinc:</strong> <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-config">Thinc‚Äôs config system</a>,
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-config#config"><code class="code_inline-code__Bq7ot">Config</code></a></li>
<li class="list_li__sfx_z"><strong>CLI:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-config"><code class="code_inline-code__Bq7ot">init config</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-fill-config"><code class="code_inline-code__Bq7ot">init fill-config</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">train</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#pretrain"><code class="code_inline-code__Bq7ot">pretrain</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#evaluate"><code class="code_inline-code__Bq7ot">evaluate</code></a></li>
<li class="list_li__sfx_z"><strong>API:</strong> <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/data-formats#config"><span class="link_source-text__VDP74">Config format</span></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#registry"><code class="code_inline-code__Bq7ot">registry</code></a></li>
</ul></aside><h3 id="features-custom-models" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-custom-models" class="heading-text typography_permalink__UiIRy">Custom models using any framework <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>spaCy‚Äôs new configuration system makes it easy to customize the neural network
models used by the different pipeline components. You can also implement your
own architectures via spaCy‚Äôs machine learning library <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai">Thinc</a>
that provides various layers and utilities, as well as thin wrappers around
frameworks like <strong>PyTorch</strong>, <strong>TensorFlow</strong> and <strong>MXNet</strong>. Component models all
follow the same unified <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-model"><code class="code_inline-code__Bq7ot">Model</code></a> API and each
<code class="code_inline-code__Bq7ot">Model</code> can also be used as a sublayer of a larger network, allowing you to
freely combine implementations from different frameworks into a single model.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/trainable_component.svg" alt="Illustration of Pipe methods" width="650" height="auto"/></figure><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">**Usage: ** <a class="link_root__1Me7D" href="/usage/layers-architectures">Layers and architectures</a>,
<a class="link_root__1Me7D" href="/usage/processing-pipelines#trainable-components">Trainable component API</a>,
<a class="link_root__1Me7D" href="/usage/layers-architectures#components">Trainable components and models</a></li>
<li class="list_li__sfx_z">**Thinc: **
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-frameworks">Wrapping PyTorch, TensorFlow &amp; MXNet</a>,
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-model"><code class="code_inline-code__Bq7ot">Model</code> API</a></li>
<li class="list_li__sfx_z"><strong>API:</strong> <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/architectures"><span class="link_source-text__VDP74">Model architectures</span></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe"><code class="code_inline-code__Bq7ot">TrainablePipe</code></a></li>
</ul></aside><h3 id="features-projects" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-projects" class="heading-text typography_permalink__UiIRy">Manage end-to-end workflows with projects <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><p>spaCy projects let you manage and share <strong>end-to-end spaCy workflows</strong> for
different <strong>use cases and domains</strong>, and orchestrate training, packaging and
serving your custom pipelines. You can start off by cloning a pre-defined
project template, adjust it to fit your needs, load in your data, train a
pipeline, export it as a Python package, upload your outputs to a remote storage
and share your results with your team.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/projects.svg" alt="Illustration of project workflow and commands" width="650" height="auto"/></figure><p>spaCy projects also make it easy to <strong>integrate with other tools</strong> in the data
science and machine learning ecosystem, including <a class="link_root__1Me7D" href="/usage/projects#dvc">DVC</a> for
data version control, <a class="link_root__1Me7D" href="/usage/projects#prodigy">Prodigy</a> for creating labelled
data, <a class="link_root__1Me7D" href="/usage/projects#streamlit">Streamlit</a> for building interactive apps,
<a class="link_root__1Me7D" href="/usage/projects#fastapi">FastAPI</a> for serving models in production,
<a class="link_root__1Me7D" href="/usage/projects#ray">Ray</a> for parallel training,
<a class="link_root__1Me7D" href="/usage/projects#wandb">Weights &amp; Biases</a> for experiment tracking, and more!</p><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/projects">spaCy projects</a>,
<a class="link_root__1Me7D" href="/usage/training">Training pipelines and models</a></li>
<li class="list_li__sfx_z"><strong>CLI:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project"><code class="code_inline-code__Bq7ot">project</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">train</code></a></li>
<li class="list_li__sfx_z"><strong>Templates:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects"><code class="code_inline-code__Bq7ot">projects</code></a></li>
</ul></aside><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">ü™ê</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud"><code class="code_inline-code__Bq7ot">pipelines/tagger_parser_ud</code></a></span></h4><p>The easiest way to get started is to clone a <a class="link_root__1Me7D" href="/usage/projects">project template</a>
and run it ‚Äì¬†for example, this end-to-end template that lets you train a
<strong>part-of-speech tagger</strong> and <strong>dependency parser</strong> on a Universal Dependencies
treebank.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone pipelines/tagger_parser_ud</textarea></div></aside><h3 id="features-parallel-training" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-parallel-training" class="heading-text typography_permalink__UiIRy">Parallel and distributed training with Ray <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><p><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://ray.io/">Ray</a> is a fast and simple framework for building and running
<strong>distributed applications</strong>. You can use Ray to train spaCy on one or more
remote machines, potentially speeding up your training process. The Ray
integration is powered by a lightweight extension package,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-ray"><code class="code_inline-code__Bq7ot">spacy-ray</code></a>, that automatically adds
the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#ray"><code class="code_inline-code__Bq7ot">ray</code></a> command to your spaCy CLI if it‚Äôs installed in the
same environment. You can then run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#ray-train"><code class="code_inline-code__Bq7ot">spacy ray train</code></a> for
parallel training.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/spacy-ray.svg" alt="Illustration of setup" width="650" height="auto"/></figure><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">**Usage: **
<a class="link_root__1Me7D" href="/usage/training#parallel-training">Parallel and distributed training</a>,
<a class="link_root__1Me7D" href="/usage/projects#ray">spaCy Projects integration</a></li>
<li class="list_li__sfx_z"><strong>CLI:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#ray"><code class="code_inline-code__Bq7ot">ray</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#ray-train"><code class="code_inline-code__Bq7ot">ray train</code></a></li>
<li class="list_li__sfx_z"><strong>Implementation:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-ray"><code class="code_inline-code__Bq7ot">spacy-ray</code></a></li>
</ul></aside><h3 id="features-pipeline-components" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-pipeline-components" class="heading-text typography_permalink__UiIRy">New built-in pipeline components <!-- --> </a></h3><p>spaCy v3.0 includes several new trainable and rule-based components that you can
add to your pipeline and customize for your use case:</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/sentencerecognizer"><code class="code_inline-code__Bq7ot">SentenceRecognizer</code></a></td><td class="table_td__rmpJx">Trainable component for sentence segmentation.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/morphologizer"><code class="code_inline-code__Bq7ot">Morphologizer</code></a></td><td class="table_td__rmpJx">Trainable component to predict morphological features.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lemmatizer"><code class="code_inline-code__Bq7ot">Lemmatizer</code></a></td><td class="table_td__rmpJx">Standalone component for rule-based and lookup lemmatization.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler"><code class="code_inline-code__Bq7ot">AttributeRuler</code></a></td><td class="table_td__rmpJx">Component for setting token attributes using match patterns.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/transformer"><code class="code_inline-code__Bq7ot">Transformer</code></a></td><td class="table_td__rmpJx">Component for using <a class="link_root__1Me7D" href="/usage/embeddings-transformers">transformer models</a> in your pipeline, accessing outputs and aligning tokens. Provided via <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-transformers"><code class="code_inline-code__Bq7ot">spacy-transformers</code></a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe"><code class="code_inline-code__Bq7ot">TrainablePipe</code></a></td><td class="table_td__rmpJx">Base class for trainable pipeline components.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/textcategorizer"><code class="code_inline-code__Bq7ot">Multi-label TextCategorizer</code></a></td><td class="table_td__rmpJx">Trainable component for multi-label text classification.</td></tr></tbody></table><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/processing-pipelines">Processing pipelines</a></li>
<li class="list_li__sfx_z"><strong>API:</strong> <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api#architecture-pipeline"><span class="link_source-text__VDP74">Built-in pipeline components</span></a></li>
<li class="list_li__sfx_z"><strong>Implementation:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/pipeline"><code class="code_inline-code__Bq7ot">spacy/pipeline</code></a></li>
</ul></aside><h3 id="features-components" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-components" class="heading-text typography_permalink__UiIRy">New and improved pipeline component APIs <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>Defining, configuring, reusing, training and analyzing pipeline components is
now easier and more convenient. The <code class="code_inline-code__Bq7ot">@Language.component</code> and
<code class="code_inline-code__Bq7ot">@Language.factory</code> decorators let you register your component, define its
default configuration and meta data, like the attribute values it assigns and
requires. Any custom component can be included during training, and sourcing
components from existing trained pipelines lets you <strong>mix and match custom
pipelines</strong>. The <code class="code_inline-code__Bq7ot">nlp.analyze_pipes</code> method outputs structured information about
the current pipeline and its components, including the attributes they assign,
the scores they compute during training and whether any required attributes
aren‚Äôt set.</p><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><strong>Usage:</strong> <a class="link_root__1Me7D" href="/usage/processing-pipelines#custom_components">Custom components</a>,
<a class="link_root__1Me7D" href="/usage/training#config-components">Defining components for training</a></li>
<li class="list_li__sfx_z"><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#component"><code class="code_inline-code__Bq7ot">@Language.component</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factory"><code class="code_inline-code__Bq7ot">@Language.factory</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">Language.add_pipe</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#analyze_pipes"><code class="code_inline-code__Bq7ot">Language.analyze_pipes</code></a></li>
<li class="list_li__sfx_z"><strong>Implementation:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/language.py"><code class="code_inline-code__Bq7ot">spacy/language.py</code></a></li>
</ul></aside><h3 id="features-dep-matcher" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-dep-matcher" class="heading-text typography_permalink__UiIRy">Dependency matching <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>The new <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencymatcher"><code class="code_inline-code__Bq7ot">DependencyMatcher</code></a> lets you match patterns
within the dependency parse using
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://nlp.stanford.edu/nlp/javadoc/javanlp/edu/stanford/nlp/semgraph/semgrex/SemgrexPattern.html">Semgrex</a>
operators. It follows the same API as the token-based <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher"><code class="code_inline-code__Bq7ot">Matcher</code></a>.
A pattern added to the dependency matcher consists of a <strong>list of
dictionaries</strong>, with each dictionary describing a <strong>token to match</strong> and its
<strong>relation to an existing token</strong> in the pattern.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/dep-match-diagram.svg" alt="Dependency matcher pattern" width="650" height="auto"/></figure><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z"><strong>Usage:</strong>
<a class="link_root__1Me7D" href="/usage/rule-based-matching#dependencymatcher">Dependency matching</a>,</li>
<li class="list_li__sfx_z"><strong>API:</strong> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencymatcher"><code class="code_inline-code__Bq7ot">DependencyMatcher</code></a>,</li>
<li class="list_li__sfx_z"><strong>Implementation:</strong>
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/matcher/dependencymatcher.pyx"><code class="code_inline-code__Bq7ot code_wrap__b41os">spacy/matcher/dependencymatcher.pyx</code></a></li>
</ul></aside><h3 id="features-types" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#features-types" class="heading-text typography_permalink__UiIRy">Type hints and type-based data validation <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python"></code></pre>
</div></div></aside><p>spaCy v3.0 officially drops support for Python 2 and now requires <strong>Python
3.6+</strong>. This also means that the code base can take full advantage of
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://docs.python.org/3/library/typing.html">type hints</a>. spaCy‚Äôs user-facing
API that‚Äôs implemented in pure Python (as opposed to Cython) now comes with type
hints. The new version of spaCy‚Äôs machine learning library
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai">Thinc</a> also features extensive
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-type-checking/">type support</a>, including custom
types for models and arrays, and a custom <code class="code_inline-code__Bq7ot">mypy</code> plugin that can be used to
type-check model definitions.</p><p>For data validation, spaCy v3.0 adopts
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/samuelcolvin/pydantic"><code class="code_inline-code__Bq7ot">pydantic</code></a>. It also powers the data
validation of Thinc‚Äôs <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-config">config system</a>, which
lets you register <strong>custom functions with typed arguments</strong>, reference them in
your config and see validation errors if the argument values don‚Äôt match.</p><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>Details &amp; Documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">**Usage: **
<a class="link_root__1Me7D" href="/usage/processing-pipelines#type-hints">Component type hints and validation</a>,
<a class="link_root__1Me7D" href="/usage/training#custom-code">Training with custom code</a></li>
<li class="list_li__sfx_z">**Thinc: **
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-type-checking">Type checking in Thinc</a>,
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-config">Thinc‚Äôs config system</a></li>
</ul></aside><h3 id="new-methods" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#new-methods" class="heading-text typography_permalink__UiIRy">New methods, attributes and commands <!-- --> </a></h3><p>The following methods, attributes and commands are new in spaCy v3.0.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token#attributes"><code class="code_inline-code__Bq7ot">Token.lex</code></a></td><td class="table_td__rmpJx">Access a token‚Äôs <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lexeme"><code class="code_inline-code__Bq7ot">Lexeme</code></a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token#attributes"><code class="code_inline-code__Bq7ot">Token.morph</code></a></td><td class="table_td__rmpJx">Access a token‚Äôs morphological analysis.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#spans"><code class="code_inline-code__Bq7ot">Doc.spans</code></a></td><td class="table_td__rmpJx">Named span groups to store and access collections of potentially overlapping spans. Uses the new <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/spangroup"><code class="code_inline-code__Bq7ot">SpanGroup</code></a> data structure.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#has_annotation"><code class="code_inline-code__Bq7ot">Doc.has_annotation</code></a></td><td class="table_td__rmpJx">Check whether a doc has annotation on a token attribute.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#select_pipes"><code class="code_inline-code__Bq7ot">Language.select_pipes</code></a></td><td class="table_td__rmpJx">Context manager for enabling or disabling specific pipeline components for a block.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#disable_pipe"><code class="code_inline-code__Bq7ot">Language.disable_pipe</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#enable_pipe"><code class="code_inline-code__Bq7ot">Language.enable_pipe</code></a></td><td class="table_td__rmpJx">Disable or enable a loaded pipeline component (but don‚Äôt remove it).</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#analyze_pipes"><code class="code_inline-code__Bq7ot">Language.analyze_pipes</code></a></td><td class="table_td__rmpJx"><a class="link_root__1Me7D" href="/usage/processing-pipelines#analysis">Analyze</a> components and their interdependencies.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#resume_training"><code class="code_inline-code__Bq7ot">Language.resume_training</code></a></td><td class="table_td__rmpJx">Experimental: continue training a trained pipeline and initialize ‚Äúrehearsal‚Äù for components that implement a <code class="code_inline-code__Bq7ot">rehearse</code> method to prevent catastrophic forgetting.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factory"><code class="code_inline-code__Bq7ot">@Language.factory</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#component"><code class="code_inline-code__Bq7ot">@Language.component</code></a></td><td class="table_td__rmpJx">Decorators for <a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components">registering</a> pipeline component factories and simple stateless component functions.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#has_factory"><code class="code_inline-code__Bq7ot">Language.has_factory</code></a></td><td class="table_td__rmpJx">Check whether a component factory is registered on a language class.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#get_factory_meta"><code class="code_inline-code__Bq7ot">Language.get_factory_meta</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#get_factory_meta"><code class="code_inline-code__Bq7ot">Language.get_pipe_meta</code></a></td><td class="table_td__rmpJx">Get the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factorymeta"><code class="code_inline-code__Bq7ot">FactoryMeta</code></a> with component metadata for a factory or instance name.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#config"><code class="code_inline-code__Bq7ot">Language.config</code></a></td><td class="table_td__rmpJx">The <a class="link_root__1Me7D" href="/usage/training#config">config</a> used to create the current <code class="code_inline-code__Bq7ot">nlp</code> object. An instance of <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/api-config#config"><code class="code_inline-code__Bq7ot">Config</code></a> and can be saved to disk and used for training.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#attributes"><code class="code_inline-code__Bq7ot">Language.components</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#attributes"><code class="code_inline-code__Bq7ot">Language.component_names</code></a></td><td class="table_td__rmpJx">All available components and component names, including disabled components that are not run as part of the pipeline.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#attributes"><code class="code_inline-code__Bq7ot">Language.disabled</code></a></td><td class="table_td__rmpJx">Names of disabled components that are not run as part of the pipeline.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe#score"><code class="code_inline-code__Bq7ot">TrainablePipe.score</code></a></td><td class="table_td__rmpJx">Method on pipeline components that returns a dictionary of evaluation scores.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#registry"><code class="code_inline-code__Bq7ot">registry</code></a></td><td class="table_td__rmpJx">Function registry to map functions to string names that can be referenced in <a class="link_root__1Me7D" href="/usage/training#config">configs</a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#util.load_meta"><code class="code_inline-code__Bq7ot">util.load_meta</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#util.load_config"><code class="code_inline-code__Bq7ot">util.load_config</code></a></td><td class="table_td__rmpJx">Updated helpers for loading a pipeline‚Äôs <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#meta"><code class="code_inline-code__Bq7ot">meta.json</code></a> and <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#config"><code class="code_inline-code__Bq7ot">config.cfg</code></a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#util.get_installed_models"><code class="code_inline-code__Bq7ot">util.get_installed_models</code></a></td><td class="table_td__rmpJx">Names of all pipeline packages installed in the environment.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-config"><code class="code_inline-code__Bq7ot">init config</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-fill-config"><code class="code_inline-code__Bq7ot">init fill-config</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug-config"><code class="code_inline-code__Bq7ot">debug config</code></a></td><td class="table_td__rmpJx">CLI commands for initializing, auto-filling and debugging <a class="link_root__1Me7D" href="/usage/training">training configs</a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-vectors"><code class="code_inline-code__Bq7ot">init vectors</code></a></td><td class="table_td__rmpJx">Convert word vectors for use with spaCy.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-labels"><code class="code_inline-code__Bq7ot">init labels</code></a></td><td class="table_td__rmpJx">Generate JSON files for the labels in the data to speed up training.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project"><code class="code_inline-code__Bq7ot">project</code></a></td><td class="table_td__rmpJx">Suite of CLI commands for cloning, running and managing <a class="link_root__1Me7D" href="/usage/projects">spaCy projects</a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#ray"><code class="code_inline-code__Bq7ot">ray</code></a></td><td class="table_td__rmpJx">Suite of CLI commands for parallel training with <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://ray.io/">Ray</a>, provided by the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-ray"><code class="code_inline-code__Bq7ot">spacy-ray</code></a> extension package.</td></tr></tbody></table><h3 id="new-docs" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#new-docs" class="heading-text typography_permalink__UiIRy">New and updated documentation <!-- --> </a></h3><div class="grid_root__EfDZl grid_half__xoJZs"><div><p>To help you get started with spaCy v3.0 and the new features, we‚Äôve added
several new or rewritten documentation pages, including a new usage guide on
<a class="link_root__1Me7D" href="/usage/embeddings-transformers">embeddings, transformers and transfer learning</a>,
a guide on <a class="link_root__1Me7D" href="/usage/training">training pipelines and models</a> rewritten from
scratch, a page explaining the new <a class="link_root__1Me7D" href="/usage/projects">spaCy projects</a> and updated
usage documentation on
<a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components">custom pipeline components</a>.
We‚Äôve also added a bunch of new illustrations and new API reference pages
documenting spaCy‚Äôs machine learning <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/architectures"><span class="link_source-text__VDP74">model architectures</span></a>
and the expected <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/data-formats"><span class="link_source-text__VDP74">data formats</span></a>. API pages about
<a class="link_root__1Me7D link_with-icon__NAVDA" href="/api#architecture-pipeline"><span class="link_source-text__VDP74">pipeline components</span></a> now include more information,
like the default config and implementation, and we‚Äôve adopted a more detailed
format for documenting argument and return types.</p></div><figure class="gatsby-resp-image-figure"><a class="link_root__1Me7D gatsby-resp-image-link embed_image-link__loaAa link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="/api"><img class="embed_image__mSQUH" src="/images/architecture.svg" alt="Library architecture" width="650" height="auto"/></a></figure></div><aside class="infobox_root__yNIMg infobox_list__0yKlB"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">üìñ</span>New or reworked documentation</span></h4><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">**Usage: ** <a class="link_root__1Me7D" href="/usage/embeddings-transformers">Embeddings &amp; Transformers</a>,
<a class="link_root__1Me7D" href="/usage/training">Training models</a>,
<a class="link_root__1Me7D" href="/usage/layers-architectures">Layers &amp; Architectures</a>,
<a class="link_root__1Me7D" href="/usage/projects">Projects</a>,
<a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components">Custom pipeline components</a>,
<a class="link_root__1Me7D" href="/usage/linguistic-features#custom-tokenizer">Custom tokenizers</a>,
<a class="link_root__1Me7D" href="/usage/linguistic-features#morphology">Morphology</a>,
<a class="link_root__1Me7D" href="/usage/linguistic-features#lemmatization">Lemmatization</a>,
<a class="link_root__1Me7D" href="/usage/linguistic-features#mappings-exceptions">Mapping &amp; Exceptions</a>,
<a class="link_root__1Me7D" href="/usage/rule-based-matching#dependencymatcher">Dependency matching</a></li>
<li class="list_li__sfx_z">**API Reference: ** <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api"><span class="link_source-text__VDP74">Library architecture</span></a>,
<a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/architectures"><span class="link_source-text__VDP74">Model architectures</span></a>, <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/data-formats"><span class="link_source-text__VDP74">Data formats</span></a></li>
<li class="list_li__sfx_z">**New Classes: ** <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example"><code class="code_inline-code__Bq7ot">Example</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tok2vec"><code class="code_inline-code__Bq7ot">Tok2Vec</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/transformer"><code class="code_inline-code__Bq7ot">Transformer</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lemmatizer"><code class="code_inline-code__Bq7ot">Lemmatizer</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/morphologizer"><code class="code_inline-code__Bq7ot">Morphologizer</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler"><code class="code_inline-code__Bq7ot">AttributeRuler</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/sentencerecognizer"><code class="code_inline-code__Bq7ot">SentenceRecognizer</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencymatcher"><code class="code_inline-code__Bq7ot">DependencyMatcher</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe"><code class="code_inline-code__Bq7ot">TrainablePipe</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/corpus"><code class="code_inline-code__Bq7ot">Corpus</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/spangroup"><code class="code_inline-code__Bq7ot">SpanGroup</code></a>,</li>
</ul></aside></section>
<section id="section-incompat" class="section_root__k1hUl"><h2 id="incompat" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#incompat" class="heading-text typography_permalink__UiIRy">Backwards Incompatibilities <!-- --> </a></h2><p>As always, we‚Äôve tried to keep the breaking changes to a minimum and focus on
changes that were necessary to support the new features, fix problems or improve
usability. The following section lists the relevant changes to the user-facing
API. For specific examples of how to rewrite your code, check out the
<a class="link_root__1Me7D" href="/usage/v3#migrating">migration guide</a>.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><p>Note that spaCy v3.0 now requires <strong>Python 3.6+</strong>.</p></aside><h3 id="incompat-api" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#incompat-api" class="heading-text typography_permalink__UiIRy">API changes <!-- --> </a></h3><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">Pipeline package symlinks, the <code class="code_inline-code__Bq7ot">link</code> command and shortcut names are now
deprecated. There can be many <a class="link_root__1Me7D" href="/models">different trained pipelines</a> and not
just one ‚ÄúEnglish model‚Äù, so you should always use the full package name like
<code class="code_inline-code__Bq7ot">en_core_web_sm</code> explicitly.</li>
<li class="list_li__sfx_z">A pipeline‚Äôs <code class="code_inline-code__Bq7ot">meta.json</code> is now only used to provide meta information like the
package name, author, license and labels. It‚Äôs <strong>not</strong> used to construct the
processing pipeline anymore. This is all defined in the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/data-formats#config"><code class="code_inline-code__Bq7ot">config.cfg</code></a>, which also includes all settings
used to train the pipeline.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">train</code>, <code class="code_inline-code__Bq7ot">pretrain</code> and <code class="code_inline-code__Bq7ot">debug data</code> commands now only take a
<code class="code_inline-code__Bq7ot">config.cfg</code>.</li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">Language.add_pipe</code></a> now takes the <strong>string name</strong> of
the component factory instead of the component function.</li>
<li class="list_li__sfx_z"><strong>Custom pipeline components</strong> now need to be decorated with the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#component"><code class="code_inline-code__Bq7ot">@Language.component</code></a> or
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factory"><code class="code_inline-code__Bq7ot">@Language.factory</code></a> decorator.</li>
<li class="list_li__sfx_z">The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#update"><code class="code_inline-code__Bq7ot">Language.update</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#evaluate"><code class="code_inline-code__Bq7ot">Language.evaluate</code></a> and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe#update"><code class="code_inline-code__Bq7ot">TrainablePipe.update</code></a> methods now all take batches of
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example"><code class="code_inline-code__Bq7ot">Example</code></a> objects instead of <code class="code_inline-code__Bq7ot">Doc</code> and <code class="code_inline-code__Bq7ot">GoldParse</code> objects, or
raw text and a dictionary of annotations.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">begin_training</code> methods have been renamed to <code class="code_inline-code__Bq7ot">initialize</code> and now take a
function that returns a sequence of <code class="code_inline-code__Bq7ot">Example</code> objects to initialize the model
instead of a list of tuples.</li>
<li class="list_li__sfx_z"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#add"><code class="code_inline-code__Bq7ot">Matcher.add</code></a> and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher#add"><code class="code_inline-code__Bq7ot">PhraseMatcher.add</code></a> now only accept a list of
patterns as the second argument (instead of a variable number of arguments).
The <code class="code_inline-code__Bq7ot">on_match</code> callback becomes an optional keyword argument.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">Doc</code> flags like <code class="code_inline-code__Bq7ot">Doc.is_parsed</code> or <code class="code_inline-code__Bq7ot">Doc.is_tagged</code> have been replaced by
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#has_annotation"><code class="code_inline-code__Bq7ot">Doc.has_annotation</code></a>.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">spacy.gold</code> module has been renamed to
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/spacy/training"><code class="code_inline-code__Bq7ot">spacy.training</code></a>.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">PRON_LEMMA</code> symbol and <code class="code_inline-code__Bq7ot">-PRON-</code> as an indicator for pronoun lemmas has
been removed.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">TAG_MAP</code> and <code class="code_inline-code__Bq7ot">MORPH_RULES</code> in the language data have been replaced by the
more flexible <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler"><code class="code_inline-code__Bq7ot">AttributeRuler</code></a>.</li>
<li class="list_li__sfx_z">The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/lemmatizer"><code class="code_inline-code__Bq7ot">Lemmatizer</code></a> is now a standalone pipeline component and
doesn‚Äôt provide lemmas by default or switch automatically between lookup and
rule-based lemmas. You can now add it to your pipeline explicitly and set its
mode on initialization.</li>
<li class="list_li__sfx_z">Various keyword arguments across functions and methods are now explicitly
declared as <strong>keyword-only</strong> arguments. Those arguments are documented
accordingly across the API reference using the <span class="tag_root__NTSnK">keyword-only</span> tag.</li>
<li class="list_li__sfx_z">The <code class="code_inline-code__Bq7ot">textcat</code> pipeline component is now only applicable for classification of
mutually exclusives classes - i.e. one predicted class per input sentence or
document. To perform multi-label classification, use the new
<code class="code_inline-code__Bq7ot">textcat_multilabel</code> component instead.</li>
</ul><h3 id="incompat-removed" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#incompat-removed" class="heading-text typography_permalink__UiIRy">Removed or renamed API <!-- --> </a></h3><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Removed</th><th class="table_th__QJ9F8">Replacement</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Language.disable_pipes</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#select_pipes"><code class="code_inline-code__Bq7ot">Language.select_pipes</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#disable_pipe"><code class="code_inline-code__Bq7ot">Language.disable_pipe</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#enable_pipe"><code class="code_inline-code__Bq7ot">Language.enable_pipe</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Language.begin_training</code>, <code class="code_inline-code__Bq7ot">Pipe.begin_training</code>, ‚Ä¶</td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#initialize"><code class="code_inline-code__Bq7ot">Language.initialize</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe#initialize"><code class="code_inline-code__Bq7ot">Pipe.initialize</code></a>, ‚Ä¶</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Doc.is_tagged</code>, <code class="code_inline-code__Bq7ot">Doc.is_parsed</code>, ‚Ä¶</td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#has_annotation"><code class="code_inline-code__Bq7ot">Doc.has_annotation</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">GoldParse</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example"><code class="code_inline-code__Bq7ot">Example</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">GoldCorpus</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/corpus"><code class="code_inline-code__Bq7ot">Corpus</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">KnowledgeBase.load_bulk</code>, <code class="code_inline-code__Bq7ot">KnowledgeBase.dump</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/kb#from_disk"><code class="code_inline-code__Bq7ot">KnowledgeBase.from_disk</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/kb#to_disk"><code class="code_inline-code__Bq7ot">KnowledgeBase.to_disk</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">KnowledgeBase.get_candidates</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/kb#get_alias_candidates"><code class="code_inline-code__Bq7ot code_wrap__b41os">KnowledgeBase.get_alias_candidates</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Matcher.pipe</code>, <code class="code_inline-code__Bq7ot">PhraseMatcher.pipe</code></td><td class="table_td__rmpJx">not needed</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">gold.offsets_from_biluo_tags</code>, <code class="code_inline-code__Bq7ot">gold.spans_from_biluo_tags</code>, <code class="code_inline-code__Bq7ot">gold.biluo_tags_from_offsets</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#biluo_tags_to_offsets"><code class="code_inline-code__Bq7ot code_wrap__b41os">training.biluo_tags_to_offsets</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#biluo_tags_to_spans"><code class="code_inline-code__Bq7ot">training.biluo_tags_to_spans</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#offsets_to_biluo_tags"><code class="code_inline-code__Bq7ot code_wrap__b41os">training.offsets_to_biluo_tags</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy init-model</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-vectors"><code class="code_inline-code__Bq7ot">spacy init vectors</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy debug-data</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug-data"><code class="code_inline-code__Bq7ot">spacy debug data</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy profile</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#debug-profile"><code class="code_inline-code__Bq7ot">spacy debug profile</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy link</code>, <code class="code_inline-code__Bq7ot">util.set_data_path</code>, <code class="code_inline-code__Bq7ot">util.get_data_path</code></td><td class="table_td__rmpJx">not needed, symlinks are deprecated</td></tr></tbody></table><p>The following methods, attributes and arguments were removed in v3.0. Most of
them have been <strong>deprecated for a while</strong> and many would previously raise
errors. Many of them were also mostly internals. If you‚Äôve been working with
more recent versions of spaCy v2.x, it‚Äôs <strong>unlikely</strong> that your code relied on
them.</p><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Removed</th><th class="table_th__QJ9F8">Replacement</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Doc.tokens_from_list</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#init"><code class="code_inline-code__Bq7ot">Doc.__init__</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Doc.merge</code>, <code class="code_inline-code__Bq7ot">Span.merge</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#retokenize"><code class="code_inline-code__Bq7ot">Doc.retokenize</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Token.string</code>, <code class="code_inline-code__Bq7ot">Span.string</code>, <code class="code_inline-code__Bq7ot">Span.upper</code>, <code class="code_inline-code__Bq7ot">Span.lower</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/span#attributes"><code class="code_inline-code__Bq7ot">Span.text</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/token#attributes"><code class="code_inline-code__Bq7ot">Token.text</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">Language.tagger</code>, <code class="code_inline-code__Bq7ot">Language.parser</code>, <code class="code_inline-code__Bq7ot">Language.entity</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#get_pipe"><code class="code_inline-code__Bq7ot">Language.get_pipe</code></a></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx">keyword-arguments like <code class="code_inline-code__Bq7ot">vocab=False</code> on <code class="code_inline-code__Bq7ot">to_disk</code>, <code class="code_inline-code__Bq7ot">from_disk</code>, <code class="code_inline-code__Bq7ot">to_bytes</code>, <code class="code_inline-code__Bq7ot">from_bytes</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">exclude=[&quot;vocab&quot;]</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">n_threads</code> argument on <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/tokenizer"><code class="code_inline-code__Bq7ot">Tokenizer</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher"><code class="code_inline-code__Bq7ot">Matcher</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher"><code class="code_inline-code__Bq7ot">PhraseMatcher</code></a></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">n_process</code></td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">verbose</code> argument on <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#evaluate"><code class="code_inline-code__Bq7ot">Language.evaluate</code></a></td><td class="table_td__rmpJx">logging (<code class="code_inline-code__Bq7ot">DEBUG</code>)</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">SentenceSegmenter</code> hook, <code class="code_inline-code__Bq7ot">SimilarityHook</code></td><td class="table_td__rmpJx"><a class="link_root__1Me7D" href="/usage/processing-pipelines#custom-components-user-hooks">user hooks</a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/sentencizer"><code class="code_inline-code__Bq7ot">Sentencizer</code></a>, <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/sentencerecognizer"><code class="code_inline-code__Bq7ot">SentenceRecognizer</code></a></td></tr></tbody></table></section>
<section id="section-migrating" class="section_root__k1hUl"><h2 id="migrating" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#migrating" class="heading-text typography_permalink__UiIRy">Migrating from v2.x <!-- --> </a></h2><h3 id="migrating-downloading-models" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-downloading-models" class="heading-text typography_permalink__UiIRy">Downloading and loading trained pipelines <!-- --> </a></h3><p>Symlinks and shortcuts like <code class="code_inline-code__Bq7ot">en</code> have been deprecated for a while, and are now
not supported anymore. There are <a class="link_root__1Me7D" href="/models">many different trained pipelines</a>
with different capabilities and not just one ‚ÄúEnglish model‚Äù. In order to
download and load a package, you should always use its full name ‚Äì for instance,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/models/en#en_core_web_sm"><code class="code_inline-code__Bq7ot">en_core_web_sm</code></a>.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-pipeline-components" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-pipeline-components" class="heading-text typography_permalink__UiIRy">Custom pipeline components and factories <!-- --> </a></h3><p>Custom pipeline components now have to be registered explicitly using the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#component"><code class="code_inline-code__Bq7ot">@Language.component</code></a> or
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factory"><code class="code_inline-code__Bq7ot">@Language.factory</code></a> decorator. For simple functions
that take a <code class="code_inline-code__Bq7ot">Doc</code> and return it, all you have to do is add the
<code class="code_inline-code__Bq7ot">@Language.component</code> decorator to it and assign it a name:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Stateless function components</h4><code class="code_code__CILJL language-diff language-diff"></code></pre><p>For class components that are initialized with settings and/or the shared <code class="code_inline-code__Bq7ot">nlp</code>
object, you can use the <code class="code_inline-code__Bq7ot">@Language.factory</code> decorator. Also make sure that that
the method used to initialize the factory has <strong>two named arguments</strong>: <code class="code_inline-code__Bq7ot">nlp</code>
(the current <code class="code_inline-code__Bq7ot">nlp</code> object) and <code class="code_inline-code__Bq7ot">name</code> (the string name of the component
instance).</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Stateful class components</h4><code class="code_code__CILJL language-diff language-diff"></code></pre><p>Instead of decorating your class, you could also add a factory function that
takes the arguments <code class="code_inline-code__Bq7ot">nlp</code> and <code class="code_inline-code__Bq7ot">name</code> and returns an instance of your component:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Stateful class components with factory function</h4><code class="code_code__CILJL language-diff language-diff"></code></pre><p>The <code class="code_inline-code__Bq7ot">@Language.component</code> and <code class="code_inline-code__Bq7ot">@Language.factory</code> decorators now take care of
adding an entry to the component factories, so spaCy knows how to load a
component back in from its string name. You won‚Äôt have to write to
<code class="code_inline-code__Bq7ot">Language.factories</code> manually anymore.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h4 id="migrating-add-pipe" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-add-pipe" class="heading-text typography_permalink__UiIRy">Adding components to the pipeline <!-- --> </a></h4><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a> method now takes the <strong>string
name</strong> of the component factory instead of a callable component. This allows
spaCy to track and serialize components that have been added and their settings.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p><a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a> now also returns the pipeline component
itself, so you can access its attributes. The
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#create_pipe"><code class="code_inline-code__Bq7ot">nlp.create_pipe</code></a> method is now mostly internals
and you typically shouldn‚Äôt have to use it in your code.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>If you need to add a component from an existing trained pipeline, you can now
use the <code class="code_inline-code__Bq7ot">source</code> argument on <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a>. This will
check that the component is compatible, and take care of porting over all
config. During training, you can also reference existing trained components in
your <a class="link_root__1Me7D" href="/usage/training#config-components">config</a> and decide whether or not they
should be updated with more data.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">config.cfg (excerpt)<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h4 id="migrating-configure-pipe" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-configure-pipe" class="heading-text typography_permalink__UiIRy">Configuring pipeline components with settings <!-- --> </a></h4><p>Because pipeline components are now added using their string names, you won‚Äôt
have to instantiate the <a class="link_root__1Me7D link_with-icon__NAVDA" href="/api#architecture-pipeline"><span class="link_source-text__VDP74">component classes</span></a>
directly anymore. To configure the component, you can now use the <code class="code_inline-code__Bq7ot">config</code>
argument on <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">config.cfg (excerpt)<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><p>The <code class="code_inline-code__Bq7ot">config</code> corresponds to the component settings in the
<a class="link_root__1Me7D" href="/usage/training#config-components"><code class="code_inline-code__Bq7ot">config.cfg</code></a> and will overwrite the default
config defined by the components.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note on config values</span></h4><p>Config values you pass to components <strong>need to be JSON-serializable</strong> and can‚Äôt
be arbitrary Python objects. Otherwise, the settings you provide can‚Äôt be
represented in the <code class="code_inline-code__Bq7ot">config.cfg</code> and spaCy has no way of knowing how to re-create
your component with the same settings when you load the pipeline back in. If you
need to pass arbitrary objects to a component, use a
<a class="link_root__1Me7D" href="/usage/processing-pipelines#example-stateful-components">registered function</a>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre></aside><h3 id="migrating-matcher" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-matcher" class="heading-text typography_permalink__UiIRy">Adding match patterns <!-- --> </a></h3><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher#add"><code class="code_inline-code__Bq7ot">Matcher.add</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/phrasematcher#add"><code class="code_inline-code__Bq7ot">PhraseMatcher.add</code></a> and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/dependencymatcher#add"><code class="code_inline-code__Bq7ot">DependencyMatcher.add</code></a> methods now only accept a
<strong>list of patterns</strong> as the second argument (instead of a variable number of
arguments). The <code class="code_inline-code__Bq7ot">on_match</code> callback becomes an optional keyword argument.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-tokenizer-exceptions" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-tokenizer-exceptions" class="heading-text typography_permalink__UiIRy">Migrating attributes in tokenizer exceptions <!-- --> </a></h3><p>Tokenizer exceptions are now only allowed to set <code class="code_inline-code__Bq7ot">ORTH</code> and <code class="code_inline-code__Bq7ot">NORM</code> values as
part of the token attributes. Exceptions for other attributes such as <code class="code_inline-code__Bq7ot">TAG</code> and
<code class="code_inline-code__Bq7ot">LEMMA</code> should be moved to an <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler"><code class="code_inline-code__Bq7ot">AttributeRuler</code></a> component:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-training-mappings-exceptions" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-training-mappings-exceptions" class="heading-text typography_permalink__UiIRy">Migrating tag maps and morph rules <!-- --> </a></h3><p>Instead of defining a <code class="code_inline-code__Bq7ot">tag_map</code> and <code class="code_inline-code__Bq7ot">morph_rules</code> in the language data, spaCy
v3.0 now manages mappings and exceptions with a separate and more flexible
pipeline component, the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler"><code class="code_inline-code__Bq7ot">AttributeRuler</code></a>. See the
<a class="link_root__1Me7D" href="/usage/linguistic-features#mappings-exceptions">usage guide</a> for examples. If
you have tag maps and morph rules in the v2.x format, you can load them into the
attribute ruler before training using the <code class="code_inline-code__Bq7ot">[initialize]</code> block of your config.</p><h3 class="typography_heading__D82WZ typography_h3__mPKmB"><span class="heading-text">Using Lexeme Tables<!-- --> </span></h3><p>To use tables like <code class="code_inline-code__Bq7ot">lexeme_prob</code> when training a model from scratch, you need to
add an entry to the <code class="code_inline-code__Bq7ot">initialize</code> block in your config. Here‚Äôs what that looks
like for the existing trained pipelines:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">What does the initialization do?<!-- --> </span></h4>
<p>The <code class="code_inline-code__Bq7ot">[initialize]</code> block is used when
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#initialize"><code class="code_inline-code__Bq7ot">nlp.initialize</code></a> is called (usually right before
training). It lets you define data resources for initializing the pipeline in
your <code class="code_inline-code__Bq7ot">config.cfg</code>. After training, the rules are saved to disk with the
exported pipeline, so your runtime model doesn‚Äôt depend on local data. For
details see the <a class="link_root__1Me7D" href="/usage/training#config-lifecycle">config lifecycle</a> and
<a class="link_root__1Me7D" href="/usage/training#initialization">initialization</a> docs.</p>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">config.cfg (excerpt)</h4><code class="code_code__CILJL language-ini language-ini"></code></pre><p>The <code class="code_inline-code__Bq7ot">AttributeRuler</code> also provides two handy helper methods
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler#load_from_tag_map"><code class="code_inline-code__Bq7ot">load_from_tag_map</code></a> and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/attributeruler#load_from_morph_rules"><code class="code_inline-code__Bq7ot">load_from_morph_rules</code></a> that let
you load in your existing tag map or morph rules:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-doc-flags" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-doc-flags" class="heading-text typography_permalink__UiIRy">Migrating Doc flags <!-- --> </a></h3><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc"><code class="code_inline-code__Bq7ot">Doc</code></a> flags <code class="code_inline-code__Bq7ot">Doc.is_tagged</code>, <code class="code_inline-code__Bq7ot">Doc.is_parsed</code>, <code class="code_inline-code__Bq7ot">Doc.is_nered</code> and
<code class="code_inline-code__Bq7ot">Doc.is_sentenced</code> are deprecated in v3.0 and replaced by
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/doc#has_annotation"><code class="code_inline-code__Bq7ot">Doc.has_annotation</code></a> method, which refers to the
token attribute symbols (the same symbols used in <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/matcher"><code class="code_inline-code__Bq7ot">Matcher</code></a>
patterns):</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h3 id="migrating-training" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#migrating-training" class="heading-text typography_permalink__UiIRy">Training pipelines and models <!-- --> </a></h3><p>To train your pipelines, you should now pretty much always use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">spacy train</code></a> CLI. You shouldn‚Äôt have to put together your own
training scripts anymore, unless you <em>really</em> want to. The training commands now
use a <a class="link_root__1Me7D" href="/usage/training#config">flexible config file</a> that describes all training
settings and hyperparameters, as well as your pipeline, components and
architectures to use. The <code class="code_inline-code__Bq7ot">--code</code> argument lets you pass in code containing
<a class="link_root__1Me7D" href="/usage/training#custom-code">custom registered functions</a> that you can
reference in your config. To get started, check out the
<a class="link_root__1Me7D" href="/usage/training#quickstart">quickstart widget</a>.</p><h4 id="migrating-training-format" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-training-format" class="heading-text typography_permalink__UiIRy">Binary .spacy training data format <!-- --> </a></h4><p>spaCy v3.0 uses a new
<a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/data-formats#binary-training"><span class="link_source-text__VDP74">binary training data format</span></a> created by
serializing a <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/docbin"><code class="code_inline-code__Bq7ot">DocBin</code></a>, which represents a collection of <code class="code_inline-code__Bq7ot">Doc</code>
objects. This means that you can train spaCy pipelines using the same format it
outputs: annotated <code class="code_inline-code__Bq7ot">Doc</code> objects. The binary format is extremely <strong>efficient in
storage</strong>, especially when packing multiple documents together. You can convert
your existing JSON-formatted data using the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#convert"><code class="code_inline-code__Bq7ot">spacy convert</code></a>
command, which outputs <code class="code_inline-code__Bq7ot">.spacy</code> files:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><h4 id="migrating-training-config" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-training-config" class="heading-text typography_permalink__UiIRy">Training config <!-- --> </a></h4><p>The easiest way to get started with a training config is to use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-config"><code class="code_inline-code__Bq7ot">init config</code></a> command or the
<a class="link_root__1Me7D" href="/usage/training#quickstart">quickstart widget</a>. You can define your
requirements, and it will auto-generate a starter config with the best-matching
default settings.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>If you‚Äôve exported a starter config from our
<a class="link_root__1Me7D" href="/usage/training#quickstart">quickstart widget</a>, you can use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#init-fill-config"><code class="code_inline-code__Bq7ot">init fill-config</code></a> to fill it with all default
values. You can then use the auto-generated <code class="code_inline-code__Bq7ot">config.cfg</code> for training:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">ü™ê</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud"><code class="code_inline-code__Bq7ot">pipelines/tagger_parser_ud</code></a></span></h4><p>The easiest way to get started is to clone a <a class="link_root__1Me7D" href="/usage/projects">project template</a>
and run it ‚Äì¬†for example, this end-to-end template that lets you train a
<strong>part-of-speech tagger</strong> and <strong>dependency parser</strong> on a Universal Dependencies
treebank.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone pipelines/tagger_parser_ud</textarea></div></aside><h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Modifying tokenizer settings<!-- --> </span></h4><p>If you were using a base model with <code class="code_inline-code__Bq7ot">spacy train</code> to customize the tokenizer
settings in v2, your modifications can be provided in the
<code class="code_inline-code__Bq7ot">[initialize.before_init]</code> callback.</p><p>Write a registered callback that modifies the tokenizer settings and specify
this callback in your config:</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">config.cfg<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">functions.py</h4><code class="code_code__CILJL language-python language-python"></code></pre><p>When training, provide the function above with the <code class="code_inline-code__Bq7ot">--code</code> option:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>The train step requires the <code class="code_inline-code__Bq7ot">--code</code> option with your registered functions from
the <code class="code_inline-code__Bq7ot">[initialize]</code> block, but since those callbacks are only required during the
initialization step, you don‚Äôt need to provide them with the final pipeline
package. However, to make it easier for others to replicate your training setup,
you can choose to package the initialization callbacks with the pipeline package
or to publish them separately.</p><h4 id="migrating-training-python" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-training-python" class="heading-text typography_permalink__UiIRy">Training via the Python API <!-- --> </a></h4><p>For most use cases, you <strong>shouldn‚Äôt</strong> have to write your own training scripts
anymore. Instead, you can use <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">spacy train</code></a> with a
<a class="link_root__1Me7D" href="/usage/training#config">config file</a> and custom
<a class="link_root__1Me7D" href="/usage/training#custom-code">registered functions</a> if needed. You can even
register callbacks that can modify the <code class="code_inline-code__Bq7ot">nlp</code> object at different stages of its
lifecycle to fully customize it before training.</p><p>If you do decide to use the <a class="link_root__1Me7D" href="/usage/training#api">internal training API</a> from
Python, you should only need a few small modifications to convert your scripts
from spaCy v2.x to v3.x. The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example#from_dict"><code class="code_inline-code__Bq7ot">Example.from_dict</code></a>
classmethod takes a reference <code class="code_inline-code__Bq7ot">Doc</code> and a
<a class="link_root__1Me7D link_with-icon__NAVDA" href="/api/data-formats#dict-input"><span class="link_source-text__VDP74">dictionary of annotations</span></a>, similar to the
‚Äúsimple training style‚Äù in spaCy v2.x:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Migrating Doc and GoldParse</h4><code class="code_code__CILJL language-diff language-diff"></code></pre><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Migrating simple training style</h4><code class="code_code__CILJL language-diff language-diff"></code></pre><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#update"><code class="code_inline-code__Bq7ot">Language.update</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#evaluate"><code class="code_inline-code__Bq7ot">Language.evaluate</code></a> and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe#update"><code class="code_inline-code__Bq7ot">TrainablePipe.update</code></a> methods now all take batches of
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/example"><code class="code_inline-code__Bq7ot">Example</code></a> objects instead of <code class="code_inline-code__Bq7ot">Doc</code> and <code class="code_inline-code__Bq7ot">GoldParse</code> objects, or
raw text and a dictionary of annotations.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Training loop</h4><code class="code_code__CILJL language-python language-python code_wrap__b41os"></code></pre><p><code class="code_inline-code__Bq7ot">Language.begin_training</code> and <code class="code_inline-code__Bq7ot">TrainablePipe.begin_training</code> have been renamed
to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#initialize"><code class="code_inline-code__Bq7ot">Language.initialize</code></a> and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/pipe#initialize"><code class="code_inline-code__Bq7ot">TrainablePipe.initialize</code></a>, and the methods now take a
function that returns a sequence of <code class="code_inline-code__Bq7ot">Example</code> objects to initialize the model
instead of a list of tuples. The data examples are used to <strong>initialize the
models</strong> of trainable pipeline components, which includes validating the
network,
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://thinc.ai/docs/usage-models#validation">inferring missing shapes</a> and
setting up the label scheme.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h4 id="migrating-training-packaging" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-training-packaging" class="heading-text typography_permalink__UiIRy">Packaging trained pipelines <!-- --> </a></h4><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#package"><code class="code_inline-code__Bq7ot">spacy package</code></a> command now automatically builds the
installable <code class="code_inline-code__Bq7ot">.tar.gz</code> sdist of the Python package, so you don‚Äôt have to run this
step manually anymore. To disable the behavior, you can set <code class="code_inline-code__Bq7ot">--build none</code>. You
can also choose to build a binary wheel (which installs more efficiently) by
setting <code class="code_inline-code__Bq7ot">--build wheel</code>, or to build both the sdist and wheel by setting
<code class="code_inline-code__Bq7ot">--build sdist,wheel</code>.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h4 id="migrating-gold" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-gold" class="heading-text typography_permalink__UiIRy">Data utilities and gold module <!-- --> </a></h4><p>The <code class="code_inline-code__Bq7ot">spacy.gold</code> module has been renamed to <code class="code_inline-code__Bq7ot">spacy.training</code> and the conversion
utilities now follow the naming format of <code class="code_inline-code__Bq7ot">x_to_y</code>. This mostly affects
internals, but if you‚Äôve been using the span offset conversion utilities
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#offsets_to_biluo_tags"><code class="code_inline-code__Bq7ot">offsets_to_biluo_tags</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#biluo_tags_to_offsets"><code class="code_inline-code__Bq7ot">biluo_tags_to_offsets</code></a> or
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#biluo_tags_to_spans"><code class="code_inline-code__Bq7ot">biluo_tags_to_spans</code></a>, you‚Äôll have to
change your names and imports:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><h4 id="migrating-plugins" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#migrating-plugins" class="heading-text typography_permalink__UiIRy">Migration notes for plugin maintainers <!-- --> </a></h4><p>Thanks to everyone who‚Äôs been contributing to the spaCy ecosystem by developing
and maintaining one of the many awesome <a class="link_root__1Me7D" href="/universe">plugins and extensions</a>.
We‚Äôve tried to make it as easy as possible for you to upgrade your packages for
spaCy v3.0. The most common use case for plugins is providing pipeline
components and extension attributes. When migrating your plugin, double-check
the following:</p><ul class="list_ul__fe_HF">
<li class="list_li__sfx_z">Use the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factory"><code class="code_inline-code__Bq7ot">@Language.factory</code></a> decorator to register
your component and assign it a name. This allows users to refer to your
components by name and serialize pipelines referencing them. Remove all manual
entries to the <code class="code_inline-code__Bq7ot">Language.factories</code>.</li>
<li class="list_li__sfx_z">Make sure your component factories take at least two <strong>named arguments</strong>:
<code class="code_inline-code__Bq7ot">nlp</code> (the current <code class="code_inline-code__Bq7ot">nlp</code> object) and <code class="code_inline-code__Bq7ot">name</code> (the instance name of the added
component so you can identify multiple instances of the same component).</li>
<li class="list_li__sfx_z">Update all references to <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#add_pipe"><code class="code_inline-code__Bq7ot">nlp.add_pipe</code></a> in your docs
to use <strong>string names</strong> instead of the component functions.</li>
</ul><pre class="code_pre__kzg60"><code class="code_code__CILJL language-python language-python code_wrap__b41os"></code></pre><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Result in config.cfg<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><code class="code_code__CILJL language-diff language-diff"></code></pre><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note on registering factories</span></h4><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/language#factory"><code class="code_inline-code__Bq7ot">@Language.factory</code></a> decorator takes care of letting
spaCy know that a component of that name is available. This means that your
users can add it to the pipeline using its <strong>string name</strong>. However, this
requires the decorator to be executed ‚Äì so users will still have to <strong>import
your plugin</strong>. Alternatively, your plugin could expose an
<a class="link_root__1Me7D" href="/usage/saving-loading#entry-points">entry point</a>, which spaCy can read from.
This means that spaCy knows how to initialize <code class="code_inline-code__Bq7ot">my_component</code>, even if your
package isn‚Äôt imported.</p></aside><h4 id="jupyter-notebook-gpu" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#jupyter-notebook-gpu" class="heading-text typography_permalink__UiIRy">Using GPUs in Jupyter notebooks <!-- --> </a></h4><p>In Jupyter notebooks, run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.prefer_gpu"><code class="code_inline-code__Bq7ot">prefer_gpu</code></a>,
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.require_gpu"><code class="code_inline-code__Bq7ot">require_gpu</code></a> or
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.require_cpu"><code class="code_inline-code__Bq7ot">require_cpu</code></a> in the same cell as
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/top-level#spacy.load"><code class="code_inline-code__Bq7ot">spacy.load</code></a> to ensure that the model is loaded on
the correct device.</p><p>Due to a bug related to <code class="code_inline-code__Bq7ot">contextvars</code> (see the
<a class="link_root__1Me7D link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/ipython/ipython/issues/11565"><span class="link_source-text__VDP74">bug report</span></a>), the GPU settings
may not be preserved correctly across cells, resulting in models being loaded on
the wrong device or only partially on GPU.</p></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/usage/v3.mdx">Suggest edits</a></div><a class="link_root__1Me7D readnext_root__JNzwZ link_no-link-layout__RPvod" href="/usage/v3-1"><span><span class="typography_label__l_oVJ">Read next</span>New in v3.1</span><span class="readnext_icon__jfRnJ"></span></a></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_blue.d167bed5.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>¬© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"What's New in v3.0","teaser":"New features, backwards incompatibilities and migration guide","menu":[["Summary","summary"],["New Features","features"],["Backwards Incompatibilities","incompat"],["Migrating from v2.x","migrating"]],"slug":"/usage/v3","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    ul: \"ul\",\n    li: \"li\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    img: \"img\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {Grid, Infobox, Tag, YouTube, InlineCode, Benchmarks, Project, Image} = _components;\n  if (!Benchmarks) _missingMdxReference(\"Benchmarks\", true);\n  if (!Grid) _missingMdxReference(\"Grid\", true);\n  if (!Image) _missingMdxReference(\"Image\", true);\n  if (!Infobox) _missingMdxReference(\"Infobox\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  if (!Project) _missingMdxReference(\"Project\", true);\n  if (!Tag) _missingMdxReference(\"Tag\", true);\n  if (!YouTube) _missingMdxReference(\"YouTube\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      id: \"section-summary\",\n      children: [_jsx(_components.h2, {\n        id: \"summary\",\n        hidden: \"true\",\n        children: \"Summary \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"üìñ Looking for the old docs?\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"To help you make the transition from v2.x to v3.0, we‚Äôve uploaded the old\\nwebsite to \", _jsx(_components.a, {\n            href: \"https://v2.spacy.io/docs\",\n            children: _jsx(_components.strong, {\n              children: \"v2.spacy.io\"\n            })\n          }), \".\"]\n        }), \"\\n\"]\n      }), _jsxs(Grid, {\n        cols: 2,\n        gutterBottom: false,\n        children: [_jsx(\"div\", {\n          children: _jsxs(_components.p, {\n            children: [\"spaCy v3.0 features all new \", _jsx(_components.strong, {\n              children: \"transformer-based pipelines\"\n            }), \" that bring spaCy‚Äôs\\naccuracy right up to the current \", _jsx(_components.strong, {\n              children: \"state-of-the-art\"\n            }), \". You can use any\\npretrained transformer to train your own pipelines, and even share one\\ntransformer between multiple components with \", _jsx(_components.strong, {\n              children: \"multi-task learning\"\n            }), \". Training\\nis now fully configurable and extensible, and you can define your own custom\\nmodels using \", _jsx(_components.strong, {\n              children: \"PyTorch\"\n            }), \", \", _jsx(_components.strong, {\n              children: \"TensorFlow\"\n            }), \" and other frameworks. The new spaCy\\nprojects system lets you describe whole \", _jsx(_components.strong, {\n              children: \"end-to-end workflows\"\n            }), \" in a single\\nfile, giving you an easy path from prototype to production, and making it easy\\nto clone and adapt best-practice projects for your own use cases.\"]\n          })\n        }), _jsx(Infobox, {\n          title: \"Table of Contents\",\n          id: \"toc\",\n          children: _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#summary\",\n                children: \"Summary\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features\",\n                children: \"New features\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-transformers\",\n                children: \"Transformer-based pipelines\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-training\",\n                children: \"Training \u0026 config system\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-custom-models\",\n                children: \"Custom models\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-projects\",\n                children: \"End-to-end project workflows\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-parallel-training\",\n                children: \"Parallel training with Ray\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-pipeline-components\",\n                children: \"New built-in components\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-components\",\n                children: \"New custom component API\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-dep-matcher\",\n                children: \"Dependency matching\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#features-types\",\n                children: \"Python type hints\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#new-methods\",\n                children: \"New methods \u0026 attributes\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#new-docs\",\n                children: \"New \u0026 updated documentation\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#incompat\",\n                children: \"Backwards incompatibilities\"\n              })\n            }), \"\\n\", _jsx(_components.li, {\n              children: _jsx(_components.a, {\n                href: \"#migrating\",\n                children: \"Migrating from spaCy v2.x\"\n              })\n            }), \"\\n\"]\n          })\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-features\",\n      children: [_jsx(_components.h2, {\n        id: \"features\",\n        children: \"New Features \"\n      }), _jsxs(_components.p, {\n        children: [\"This section contains an overview of the most important \", _jsx(_components.strong, {\n          children: \"new features and\\nimprovements\"\n        }), \". The \", _jsx(_components.a, {\n          href: \"/api\",\n          children: \"API docs\"\n        }), \" include additional deprecation notes. New\\nmethods and functions that were introduced in this version are marked with the\\ntag \", _jsx(Tag, {\n          variant: \"new\",\n          children: \"3\"\n        }), \".\"]\n      }), _jsx(YouTube, {\n        id: \"9k_EfV7Cns0\"\n      }), _jsxs(Grid, {\n        cols: 2,\n        gutterBottom: false,\n        narrow: true,\n        children: [_jsx(YouTube, {\n          id: \"BWhh3r6W-qE\"\n        }), _jsx(YouTube, {\n          id: \"8HL-Ap5_Axo\"\n        })]\n      }), _jsx(_components.h3, {\n        id: \"features-transformers\",\n        children: \"Transformer-based pipelines \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy download en_core_web_trf\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.0 features all new transformer-based pipelines that bring spaCy‚Äôs\\naccuracy right up to the current \", _jsx(_components.strong, {\n          children: \"state-of-the-art\"\n        }), \". You can use any\\npretrained transformer to train your own pipelines, and even share one\\ntransformer between multiple components with \", _jsx(_components.strong, {\n          children: \"multi-task learning\"\n        }), \". spaCy‚Äôs\\ntransformer support interoperates with \", _jsx(_components.a, {\n          href: \"https://pytorch.org\",\n          children: \"PyTorch\"\n        }), \" and the\\n\", _jsxs(_components.a, {\n          href: \"https://huggingface.co/transformers/\",\n          children: [\"HuggingFace \", _jsx(InlineCode, {\n            children: \"transformers\"\n          })]\n        }), \" library,\\ngiving you access to thousands of pretrained models for your pipelines.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/tok2vec-listener.svg\",\n        alt: \"Pipeline components listening to shared embedding component\"\n      }), _jsx(Benchmarks, {}), _jsx(_components.h4, {\n        id: \"features-transformers-pipelines\",\n        children: \"New trained transformer-based pipelines \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Notes on model capabilities\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"The models are each trained with a \", _jsx(_components.strong, {\n            children: \"single transformer\"\n          }), \" shared across the\\npipeline, which requires it to be trained on a single corpus. For\\n\", _jsx(_components.a, {\n            href: \"/models/en\",\n            children: \"English\"\n          }), \" and \", _jsx(_components.a, {\n            href: \"/models/zh\",\n            children: \"Chinese\"\n          }), \", we used the OntoNotes 5\\ncorpus, which has annotations across several tasks. For \", _jsx(_components.a, {\n            href: \"/models/fr\",\n            children: \"French\"\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/models/es\",\n            children: \"Spanish\"\n          }), \" and \", _jsx(_components.a, {\n            href: \"/models/de\",\n            children: \"German\"\n          }), \", we didn‚Äôt have a suitable\\ncorpus that had both syntactic and entity annotations, so the transformer\\nmodels for those languages do not include NER.\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Package\"\n            }), _jsx(_components.th, {\n              children: \"Language\"\n            }), _jsx(_components.th, {\n              children: \"Transformer\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Tagger\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"Parser\"\n            }), _jsx(_components.th, {\n              align: \"right\",\n              children: \"NER\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/en#en_core_web_trf\",\n                children: _jsx(InlineCode, {\n                  children: \"en_core_web_trf\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"English\"\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"https://huggingface.co/roberta-base\",\n                children: _jsx(InlineCode, {\n                  children: \"roberta-base\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"97.8\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"95.2\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"89.9\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/de#de_dep_news_trf\",\n                children: _jsx(InlineCode, {\n                  children: \"de_dep_news_trf\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"German\"\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"https://huggingface.co/bert-base-german-cased\",\n                children: _jsx(InlineCode, {\n                  children: \"bert-base-german-cased\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"99.0\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"95.8\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"-\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/es#es_dep_news_trf\",\n                children: _jsx(InlineCode, {\n                  children: \"es_dep_news_trf\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Spanish\"\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"https://huggingface.co/dccuchile/bert-base-spanish-wwm-cased\",\n                children: _jsx(InlineCode, {\n                  children: \"bert-base-spanish-wwm-cased\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"98.2\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"94.6\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"-\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/fr#fr_dep_news_trf\",\n                children: _jsx(InlineCode, {\n                  children: \"fr_dep_news_trf\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"French\"\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"https://huggingface.co/camembert-base\",\n                children: _jsx(InlineCode, {\n                  children: \"camembert-base\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"95.7\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"94.4\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"-\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/models/zh#zh_core_news_trf\",\n                children: _jsx(InlineCode, {\n                  children: \"zh_core_web_trf\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Chinese\"\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"https://huggingface.co/bert-base-chinese\",\n                children: _jsx(InlineCode, {\n                  children: \"bert-base-chinese\"\n                })\n              })\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"92.5\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"76.6\"\n            }), _jsx(_components.td, {\n              align: \"right\",\n              children: \"75.4\"\n            })]\n          })]\n        })]\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Usage:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/usage/embeddings-transformers\",\n              children: \"Embeddings \u0026 Transformers\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/training\",\n              children: \"Training pipelines and models\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/facts-figures#benchmarks\",\n              children: \"Benchmarks\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"API:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/transformer\",\n              children: _jsx(InlineCode, {\n                children: \"Transformer\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/transformer#transformerdata\",\n              children: _jsx(InlineCode, {\n                children: \"TransformerData\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/transformer#fulltransformerbatch\",\n              children: _jsx(InlineCode, {\n                children: \"FullTransformerBatch\"\n              })\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"**Architectures: ** \", _jsx(_components.a, {\n              href: \"/api/architectures#TransformerModel\",\n              children: \"TransformerModel\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/architectures#TransformerListener\",\n              children: \"TransformerListener\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/architectures#Tok2VecTransformer\",\n              children: \"Tok2VecTransformer\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Implementation:\"\n            }), \"\\n\", _jsx(_components.a, {\n              href: \"https://github.com/explosion/spacy-transformers\",\n              children: _jsx(InlineCode, {\n                children: \"spacy-transformers\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-training\",\n        children: \"New training workflow and config system \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[training]\\naccumulate_gradient = 3\\n\\n[training.optimizer]\\n@optimizers = \\\"Adam.v1\\\"\\n\\n[training.optimizer.learn_rate]\\n@schedules = \\\"warmup_linear.v1\\\"\\nwarmup_steps = 250\\ntotal_steps = 20000\\ninitial_rate = 0.01\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.0 introduces a comprehensive and extensible system for \", _jsx(_components.strong, {\n          children: \"configuring\\nyour training runs\"\n        }), \". A single configuration file describes every detail of your\\ntraining run, with no hidden defaults, making it easy to rerun your experiments\\nand track changes. You can use the\\n\", _jsx(_components.a, {\n          href: \"/usage/training#quickstart\",\n          children: \"quickstart widget\"\n        }), \" or the \", _jsx(InlineCode, {\n          children: \"init config\"\n        }), \" command to\\nget started. Instead of providing lots of arguments on the command line, you\\nonly need to pass your \", _jsx(InlineCode, {\n          children: \"config.cfg\"\n        }), \" file to \", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \".\\nTraining config files include all \", _jsx(_components.strong, {\n          children: \"settings and hyperparameters\"\n        }), \" for training\\nyour pipeline. Some settings can also be registered \", _jsx(_components.strong, {\n          children: \"functions\"\n        }), \" that you can\\nswap out and customize, making it easy to implement your own custom models and\\narchitectures.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/lifecycle.svg\",\n        alt: \"Illustration of pipeline lifecycle\"\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Usage:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/usage/training\",\n              children: \"Training pipelines and models\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Thinc:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"https://thinc.ai/docs/usage-config\",\n              children: \"Thinc‚Äôs config system\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"https://thinc.ai/docs/api-config#config\",\n              children: _jsx(InlineCode, {\n                children: \"Config\"\n              })\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"CLI:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/cli#init-config\",\n              children: _jsx(InlineCode, {\n                children: \"init config\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/cli#init-fill-config\",\n              children: _jsx(InlineCode, {\n                children: \"init fill-config\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/cli#train\",\n              children: _jsx(InlineCode, {\n                children: \"train\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/cli#pretrain\",\n              children: _jsx(InlineCode, {\n                children: \"pretrain\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/cli#evaluate\",\n              children: _jsx(InlineCode, {\n                children: \"evaluate\"\n              })\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"API:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/data-formats#config\",\n              children: \"Config format\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/top-level#registry\",\n              children: _jsx(InlineCode, {\n                children: \"registry\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-custom-models\",\n        children: \"Custom models using any framework \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from torch import nn\\nfrom thinc.api import PyTorchWrapper\\n\\ntorch_model = nn.Sequential(\\n    nn.Linear(32, 32),\\n    nn.ReLU(),\\n    nn.Softmax(dim=1)\\n)\\nmodel = PyTorchWrapper(torch_model)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy‚Äôs new configuration system makes it easy to customize the neural network\\nmodels used by the different pipeline components. You can also implement your\\nown architectures via spaCy‚Äôs machine learning library \", _jsx(_components.a, {\n          href: \"https://thinc.ai\",\n          children: \"Thinc\"\n        }), \"\\nthat provides various layers and utilities, as well as thin wrappers around\\nframeworks like \", _jsx(_components.strong, {\n          children: \"PyTorch\"\n        }), \", \", _jsx(_components.strong, {\n          children: \"TensorFlow\"\n        }), \" and \", _jsx(_components.strong, {\n          children: \"MXNet\"\n        }), \". Component models all\\nfollow the same unified \", _jsx(_components.a, {\n          href: \"https://thinc.ai/docs/api-model\",\n          children: _jsx(InlineCode, {\n            children: \"Model\"\n          })\n        }), \" API and each\\n\", _jsx(InlineCode, {\n          children: \"Model\"\n        }), \" can also be used as a sublayer of a larger network, allowing you to\\nfreely combine implementations from different frameworks into a single model.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/trainable_component.svg\",\n        alt: \"Illustration of Pipe methods\"\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"**Usage: ** \", _jsx(_components.a, {\n              href: \"/usage/layers-architectures\",\n              children: \"Layers and architectures\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/processing-pipelines#trainable-components\",\n              children: \"Trainable component API\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/layers-architectures#components\",\n              children: \"Trainable components and models\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"**Thinc: **\\n\", _jsx(_components.a, {\n              href: \"https://thinc.ai/docs/usage-frameworks\",\n              children: \"Wrapping PyTorch, TensorFlow \u0026 MXNet\"\n            }), \",\\n\", _jsxs(_components.a, {\n              href: \"https://thinc.ai/docs/api-model\",\n              children: [_jsx(InlineCode, {\n                children: \"Model\"\n              }), \" API\"]\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"API:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/architectures\",\n              children: \"Model architectures\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/pipe\",\n              children: _jsx(InlineCode, {\n                children: \"TrainablePipe\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-projects\",\n        children: \"Manage end-to-end workflows with projects \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"# Clone a project template\\n$ python -m spacy project clone pipelines/tagger_parser_ud\\n$ cd tagger_parser_ud\\n# Download data assets\\n$ python -m spacy project assets\\n# Run a workflow\\n$ python -m spacy project run all\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy projects let you manage and share \", _jsx(_components.strong, {\n          children: \"end-to-end spaCy workflows\"\n        }), \" for\\ndifferent \", _jsx(_components.strong, {\n          children: \"use cases and domains\"\n        }), \", and orchestrate training, packaging and\\nserving your custom pipelines. You can start off by cloning a pre-defined\\nproject template, adjust it to fit your needs, load in your data, train a\\npipeline, export it as a Python package, upload your outputs to a remote storage\\nand share your results with your team.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/projects.svg\",\n        alt: \"Illustration of project workflow and commands\"\n      }), _jsxs(_components.p, {\n        children: [\"spaCy projects also make it easy to \", _jsx(_components.strong, {\n          children: \"integrate with other tools\"\n        }), \" in the data\\nscience and machine learning ecosystem, including \", _jsx(_components.a, {\n          href: \"/usage/projects#dvc\",\n          children: \"DVC\"\n        }), \" for\\ndata version control, \", _jsx(_components.a, {\n          href: \"/usage/projects#prodigy\",\n          children: \"Prodigy\"\n        }), \" for creating labelled\\ndata, \", _jsx(_components.a, {\n          href: \"/usage/projects#streamlit\",\n          children: \"Streamlit\"\n        }), \" for building interactive apps,\\n\", _jsx(_components.a, {\n          href: \"/usage/projects#fastapi\",\n          children: \"FastAPI\"\n        }), \" for serving models in production,\\n\", _jsx(_components.a, {\n          href: \"/usage/projects#ray\",\n          children: \"Ray\"\n        }), \" for parallel training,\\n\", _jsx(_components.a, {\n          href: \"/usage/projects#wandb\",\n          children: \"Weights \u0026 Biases\"\n        }), \" for experiment tracking, and more!\"]\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Usage:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/usage/projects\",\n              children: \"spaCy projects\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/training\",\n              children: \"Training pipelines and models\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"CLI:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/cli#project\",\n              children: _jsx(InlineCode, {\n                children: \"project\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/cli#train\",\n              children: _jsx(InlineCode, {\n                children: \"train\"\n              })\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Templates:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"https://github.com/explosion/projects\",\n              children: _jsx(InlineCode, {\n                children: \"projects\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(Project, {\n        id: \"pipelines/tagger_parser_ud\",\n        children: _jsxs(_components.p, {\n          children: [\"The easiest way to get started is to clone a \", _jsx(_components.a, {\n            href: \"/usage/projects\",\n            children: \"project template\"\n          }), \"\\nand run it ‚Äì¬†for example, this end-to-end template that lets you train a\\n\", _jsx(_components.strong, {\n            children: \"part-of-speech tagger\"\n          }), \" and \", _jsx(_components.strong, {\n            children: \"dependency parser\"\n          }), \" on a Universal Dependencies\\ntreebank.\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-parallel-training\",\n        children: \"Parallel and distributed training with Ray \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ pip install -U spacy[ray]\\n# Check that the CLI is registered\\n$ python -m spacy ray --help\\n# Train a pipeline\\n$ python -m spacy ray train config.cfg --n-workers 2\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://ray.io/\",\n          children: \"Ray\"\n        }), \" is a fast and simple framework for building and running\\n\", _jsx(_components.strong, {\n          children: \"distributed applications\"\n        }), \". You can use Ray to train spaCy on one or more\\nremote machines, potentially speeding up your training process. The Ray\\nintegration is powered by a lightweight extension package,\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-ray\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-ray\"\n          })\n        }), \", that automatically adds\\nthe \", _jsx(_components.a, {\n          href: \"/api/cli#ray\",\n          children: _jsx(InlineCode, {\n            children: \"ray\"\n          })\n        }), \" command to your spaCy CLI if it‚Äôs installed in the\\nsame environment. You can then run \", _jsx(_components.a, {\n          href: \"/api/cli#ray-train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy ray train\"\n          })\n        }), \" for\\nparallel training.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/spacy-ray.svg\",\n        alt: \"Illustration of setup\"\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"**Usage: **\\n\", _jsx(_components.a, {\n              href: \"/usage/training#parallel-training\",\n              children: \"Parallel and distributed training\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/projects#ray\",\n              children: \"spaCy Projects integration\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"CLI:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/cli#ray\",\n              children: _jsx(InlineCode, {\n                children: \"ray\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/cli#ray-train\",\n              children: _jsx(InlineCode, {\n                children: \"ray train\"\n              })\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Implementation:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"https://github.com/explosion/spacy-ray\",\n              children: _jsx(InlineCode, {\n                children: \"spacy-ray\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-pipeline-components\",\n        children: \"New built-in pipeline components \"\n      }), _jsx(_components.p, {\n        children: \"spaCy v3.0 includes several new trainable and rule-based components that you can\\nadd to your pipeline and customize for your use case:\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"# pip install -U spacy[lookups]\\nnlp = spacy.blank(\\\"en\\\")\\nnlp.add_pipe(\\\"lemmatizer\\\")\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/sentencerecognizer\",\n                children: _jsx(InlineCode, {\n                  children: \"SentenceRecognizer\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Trainable component for sentence segmentation.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/morphologizer\",\n                children: _jsx(InlineCode, {\n                  children: \"Morphologizer\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Trainable component to predict morphological features.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/lemmatizer\",\n                children: _jsx(InlineCode, {\n                  children: \"Lemmatizer\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Standalone component for rule-based and lookup lemmatization.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/attributeruler\",\n                children: _jsx(InlineCode, {\n                  children: \"AttributeRuler\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Component for setting token attributes using match patterns.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/transformer\",\n                children: _jsx(InlineCode, {\n                  children: \"Transformer\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Component for using \", _jsx(_components.a, {\n                href: \"/usage/embeddings-transformers\",\n                children: \"transformer models\"\n              }), \" in your pipeline, accessing outputs and aligning tokens. Provided via \", _jsx(_components.a, {\n                href: \"https://github.com/explosion/spacy-transformers\",\n                children: _jsx(InlineCode, {\n                  children: \"spacy-transformers\"\n                })\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/pipe\",\n                children: _jsx(InlineCode, {\n                  children: \"TrainablePipe\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Base class for trainable pipeline components.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/textcategorizer\",\n                children: _jsx(InlineCode, {\n                  children: \"Multi-label TextCategorizer\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Trainable component for multi-label text classification.\"\n            })]\n          })]\n        })]\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Usage:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/usage/processing-pipelines\",\n              children: \"Processing pipelines\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"API:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api#architecture-pipeline\",\n              children: \"Built-in pipeline components\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Implementation:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"https://github.com/explosion/spaCy/tree/master/spacy/pipeline\",\n              children: _jsx(InlineCode, {\n                children: \"spacy/pipeline\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-components\",\n        children: \"New and improved pipeline component APIs \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"@Language.component(\\\"my_component\\\")\\ndef my_component(doc):\\n    return doc\\n\\nnlp.add_pipe(\\\"my_component\\\")\\nnlp.add_pipe(\\\"ner\\\", source=other_nlp)\\nnlp.analyze_pipes(pretty=True)\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Defining, configuring, reusing, training and analyzing pipeline components is\\nnow easier and more convenient. The \", _jsx(InlineCode, {\n          children: \"@Language.component\"\n        }), \" and\\n\", _jsx(InlineCode, {\n          children: \"@Language.factory\"\n        }), \" decorators let you register your component, define its\\ndefault configuration and meta data, like the attribute values it assigns and\\nrequires. Any custom component can be included during training, and sourcing\\ncomponents from existing trained pipelines lets you \", _jsx(_components.strong, {\n          children: \"mix and match custom\\npipelines\"\n        }), \". The \", _jsx(InlineCode, {\n          children: \"nlp.analyze_pipes\"\n        }), \" method outputs structured information about\\nthe current pipeline and its components, including the attributes they assign,\\nthe scores they compute during training and whether any required attributes\\naren‚Äôt set.\"]\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Usage:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/usage/processing-pipelines#custom_components\",\n              children: \"Custom components\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/training#config-components\",\n              children: \"Defining components for training\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"API:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/language#component\",\n              children: _jsx(InlineCode, {\n                children: \"@Language.component\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/language#factory\",\n              children: _jsx(InlineCode, {\n                children: \"@Language.factory\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/language#add_pipe\",\n              children: _jsx(InlineCode, {\n                children: \"Language.add_pipe\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/language#analyze_pipes\",\n              children: _jsx(InlineCode, {\n                children: \"Language.analyze_pipes\"\n              })\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Implementation:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"https://github.com/explosion/spaCy/tree/master/spacy/language.py\",\n              children: _jsx(InlineCode, {\n                children: \"spacy/language.py\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-dep-matcher\",\n        children: \"Dependency matching \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from spacy.matcher import DependencyMatcher\\n\\nmatcher = DependencyMatcher(nlp.vocab)\\npattern = [\\n    {\\\"RIGHT_ID\\\": \\\"anchor_founded\\\", \\\"RIGHT_ATTRS\\\": {\\\"ORTH\\\": \\\"founded\\\"}},\\n    {\\\"LEFT_ID\\\": \\\"anchor_founded\\\", \\\"REL_OP\\\": \\\"\u003e\\\", \\\"RIGHT_ID\\\": \\\"subject\\\", \\\"RIGHT_ATTRS\\\": {\\\"DEP\\\": \\\"nsubj\\\"}}\\n]\\nmatcher.add(\\\"FOUNDED\\\", [pattern])\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The new \", _jsx(_components.a, {\n          href: \"/api/dependencymatcher\",\n          children: _jsx(InlineCode, {\n            children: \"DependencyMatcher\"\n          })\n        }), \" lets you match patterns\\nwithin the dependency parse using\\n\", _jsx(_components.a, {\n          href: \"https://nlp.stanford.edu/nlp/javadoc/javanlp/edu/stanford/nlp/semgraph/semgrex/SemgrexPattern.html\",\n          children: \"Semgrex\"\n        }), \"\\noperators. It follows the same API as the token-based \", _jsx(_components.a, {\n          href: \"/api/matcher\",\n          children: _jsx(InlineCode, {\n            children: \"Matcher\"\n          })\n        }), \".\\nA pattern added to the dependency matcher consists of a \", _jsx(_components.strong, {\n          children: \"list of\\ndictionaries\"\n        }), \", with each dictionary describing a \", _jsx(_components.strong, {\n          children: \"token to match\"\n        }), \" and its\\n\", _jsx(_components.strong, {\n          children: \"relation to an existing token\"\n        }), \" in the pattern.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/dep-match-diagram.svg\",\n        alt: \"Dependency matcher pattern\"\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Usage:\"\n            }), \"\\n\", _jsx(_components.a, {\n              href: \"/usage/rule-based-matching#dependencymatcher\",\n              children: \"Dependency matching\"\n            }), \",\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"API:\"\n            }), \" \", _jsx(_components.a, {\n              href: \"/api/dependencymatcher\",\n              children: _jsx(InlineCode, {\n                children: \"DependencyMatcher\"\n              })\n            }), \",\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.strong, {\n              children: \"Implementation:\"\n            }), \"\\n\", _jsx(_components.a, {\n              href: \"https://github.com/explosion/spaCy/tree/master/spacy/matcher/dependencymatcher.pyx\",\n              children: _jsx(InlineCode, {\n                children: \"spacy/matcher/dependencymatcher.pyx\"\n              })\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"features-types\",\n        children: \"Type hints and type-based data validation \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-python\",\n            lang: \"python\",\n            children: \"from spacy.language import Language\\nfrom pydantic import StrictBool\\n\\n@Language.factory(\\\"my_component\\\")\\ndef create_my_component(\\n    nlp: Language,\\n    name: str,\\n    custom: StrictBool\\n):\\n   ...\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.0 officially drops support for Python 2 and now requires \", _jsx(_components.strong, {\n          children: \"Python\\n3.6+\"\n        }), \". This also means that the code base can take full advantage of\\n\", _jsx(_components.a, {\n          href: \"https://docs.python.org/3/library/typing.html\",\n          children: \"type hints\"\n        }), \". spaCy‚Äôs user-facing\\nAPI that‚Äôs implemented in pure Python (as opposed to Cython) now comes with type\\nhints. The new version of spaCy‚Äôs machine learning library\\n\", _jsx(_components.a, {\n          href: \"https://thinc.ai\",\n          children: \"Thinc\"\n        }), \" also features extensive\\n\", _jsx(_components.a, {\n          href: \"https://thinc.ai/docs/usage-type-checking/\",\n          children: \"type support\"\n        }), \", including custom\\ntypes for models and arrays, and a custom \", _jsx(InlineCode, {\n          children: \"mypy\"\n        }), \" plugin that can be used to\\ntype-check model definitions.\"]\n      }), _jsxs(_components.p, {\n        children: [\"For data validation, spaCy v3.0 adopts\\n\", _jsx(_components.a, {\n          href: \"https://github.com/samuelcolvin/pydantic\",\n          children: _jsx(InlineCode, {\n            children: \"pydantic\"\n          })\n        }), \". It also powers the data\\nvalidation of Thinc‚Äôs \", _jsx(_components.a, {\n          href: \"https://thinc.ai/docs/usage-config\",\n          children: \"config system\"\n        }), \", which\\nlets you register \", _jsx(_components.strong, {\n          children: \"custom functions with typed arguments\"\n        }), \", reference them in\\nyour config and see validation errors if the argument values don‚Äôt match.\"]\n      }), _jsx(Infobox, {\n        title: \"Details \u0026 Documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"**Usage: **\\n\", _jsx(_components.a, {\n              href: \"/usage/processing-pipelines#type-hints\",\n              children: \"Component type hints and validation\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/training#custom-code\",\n              children: \"Training with custom code\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"**Thinc: **\\n\", _jsx(_components.a, {\n              href: \"https://thinc.ai/docs/usage-type-checking\",\n              children: \"Type checking in Thinc\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"https://thinc.ai/docs/usage-config\",\n              children: \"Thinc‚Äôs config system\"\n            })]\n          }), \"\\n\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"new-methods\",\n        children: \"New methods, attributes and commands \"\n      }), _jsx(_components.p, {\n        children: \"The following methods, attributes and commands are new in spaCy v3.0.\"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/token#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Token.lex\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Access a token‚Äôs \", _jsx(_components.a, {\n                href: \"/api/lexeme\",\n                children: _jsx(InlineCode, {\n                  children: \"Lexeme\"\n                })\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/token#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Token.morph\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Access a token‚Äôs morphological analysis.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/doc#spans\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.spans\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Named span groups to store and access collections of potentially overlapping spans. Uses the new \", _jsx(_components.a, {\n                href: \"/api/spangroup\",\n                children: _jsx(InlineCode, {\n                  children: \"SpanGroup\"\n                })\n              }), \" data structure.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/doc#has_annotation\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.has_annotation\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Check whether a doc has annotation on a token attribute.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#select_pipes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.select_pipes\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Context manager for enabling or disabling specific pipeline components for a block.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/language#disable_pipe\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.disable_pipe\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/language#enable_pipe\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.enable_pipe\"\n                })\n              })]\n            }), _jsx(_components.td, {\n              children: \"Disable or enable a loaded pipeline component (but don‚Äôt remove it).\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#analyze_pipes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.analyze_pipes\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/usage/processing-pipelines#analysis\",\n                children: \"Analyze\"\n              }), \" components and their interdependencies.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#resume_training\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.resume_training\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Experimental: continue training a trained pipeline and initialize ‚Äúrehearsal‚Äù for components that implement a \", _jsx(InlineCode, {\n                children: \"rehearse\"\n              }), \" method to prevent catastrophic forgetting.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/language#factory\",\n                children: _jsx(InlineCode, {\n                  children: \"@Language.factory\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/language#component\",\n                children: _jsx(InlineCode, {\n                  children: \"@Language.component\"\n                })\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"Decorators for \", _jsx(_components.a, {\n                href: \"/usage/processing-pipelines#custom-components\",\n                children: \"registering\"\n              }), \" pipeline component factories and simple stateless component functions.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#has_factory\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.has_factory\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Check whether a component factory is registered on a language class.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/language#get_factory_meta\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.get_factory_meta\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/language#get_factory_meta\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.get_pipe_meta\"\n                })\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"Get the \", _jsx(_components.a, {\n                href: \"/api/language#factorymeta\",\n                children: _jsx(InlineCode, {\n                  children: \"FactoryMeta\"\n                })\n              }), \" with component metadata for a factory or instance name.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#config\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.config\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"The \", _jsx(_components.a, {\n                href: \"/usage/training#config\",\n                children: \"config\"\n              }), \" used to create the current \", _jsx(InlineCode, {\n                children: \"nlp\"\n              }), \" object. An instance of \", _jsx(_components.a, {\n                href: \"https://thinc.ai/docs/api-config#config\",\n                children: _jsx(InlineCode, {\n                  children: \"Config\"\n                })\n              }), \" and can be saved to disk and used for training.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/language#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.components\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/language#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.component_names\"\n                })\n              })]\n            }), _jsx(_components.td, {\n              children: \"All available components and component names, including disabled components that are not run as part of the pipeline.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.disabled\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Names of disabled components that are not run as part of the pipeline.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/pipe#score\",\n                children: _jsx(InlineCode, {\n                  children: \"TrainablePipe.score\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Method on pipeline components that returns a dictionary of evaluation scores.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/top-level#registry\",\n                children: _jsx(InlineCode, {\n                  children: \"registry\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Function registry to map functions to string names that can be referenced in \", _jsx(_components.a, {\n                href: \"/usage/training#config\",\n                children: \"configs\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/top-level#util.load_meta\",\n                children: _jsx(InlineCode, {\n                  children: \"util.load_meta\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/top-level#util.load_config\",\n                children: _jsx(InlineCode, {\n                  children: \"util.load_config\"\n                })\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"Updated helpers for loading a pipeline‚Äôs \", _jsx(_components.a, {\n                href: \"/api/data-formats#meta\",\n                children: _jsx(InlineCode, {\n                  children: \"meta.json\"\n                })\n              }), \" and \", _jsx(_components.a, {\n                href: \"/api/data-formats#config\",\n                children: _jsx(InlineCode, {\n                  children: \"config.cfg\"\n                })\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/top-level#util.get_installed_models\",\n                children: _jsx(InlineCode, {\n                  children: \"util.get_installed_models\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Names of all pipeline packages installed in the environment.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/cli#init-config\",\n                children: _jsx(InlineCode, {\n                  children: \"init config\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/cli#init-fill-config\",\n                children: _jsx(InlineCode, {\n                  children: \"init fill-config\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/cli#debug-config\",\n                children: _jsx(InlineCode, {\n                  children: \"debug config\"\n                })\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"CLI commands for initializing, auto-filling and debugging \", _jsx(_components.a, {\n                href: \"/usage/training\",\n                children: \"training configs\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#init-vectors\",\n                children: _jsx(InlineCode, {\n                  children: \"init vectors\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Convert word vectors for use with spaCy.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#init-labels\",\n                children: _jsx(InlineCode, {\n                  children: \"init labels\"\n                })\n              })\n            }), _jsx(_components.td, {\n              children: \"Generate JSON files for the labels in the data to speed up training.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#project\",\n                children: _jsx(InlineCode, {\n                  children: \"project\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Suite of CLI commands for cloning, running and managing \", _jsx(_components.a, {\n                href: \"/usage/projects\",\n                children: \"spaCy projects\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#ray\",\n                children: _jsx(InlineCode, {\n                  children: \"ray\"\n                })\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Suite of CLI commands for parallel training with \", _jsx(_components.a, {\n                href: \"https://ray.io/\",\n                children: \"Ray\"\n              }), \", provided by the \", _jsx(_components.a, {\n                href: \"https://github.com/explosion/spacy-ray\",\n                children: _jsx(InlineCode, {\n                  children: \"spacy-ray\"\n                })\n              }), \" extension package.\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"new-docs\",\n        children: \"New and updated documentation \"\n      }), _jsxs(Grid, {\n        cols: 2,\n        gutterBottom: false,\n        children: [_jsx(\"div\", {\n          children: _jsxs(_components.p, {\n            children: [\"To help you get started with spaCy v3.0 and the new features, we‚Äôve added\\nseveral new or rewritten documentation pages, including a new usage guide on\\n\", _jsx(_components.a, {\n              href: \"/usage/embeddings-transformers\",\n              children: \"embeddings, transformers and transfer learning\"\n            }), \",\\na guide on \", _jsx(_components.a, {\n              href: \"/usage/training\",\n              children: \"training pipelines and models\"\n            }), \" rewritten from\\nscratch, a page explaining the new \", _jsx(_components.a, {\n              href: \"/usage/projects\",\n              children: \"spaCy projects\"\n            }), \" and updated\\nusage documentation on\\n\", _jsx(_components.a, {\n              href: \"/usage/processing-pipelines#custom-components\",\n              children: \"custom pipeline components\"\n            }), \".\\nWe‚Äôve also added a bunch of new illustrations and new API reference pages\\ndocumenting spaCy‚Äôs machine learning \", _jsx(_components.a, {\n              href: \"/api/architectures\",\n              children: \"model architectures\"\n            }), \"\\nand the expected \", _jsx(_components.a, {\n              href: \"/api/data-formats\",\n              children: \"data formats\"\n            }), \". API pages about\\n\", _jsx(_components.a, {\n              href: \"/api/#architecture-pipeline\",\n              children: \"pipeline components\"\n            }), \" now include more information,\\nlike the default config and implementation, and we‚Äôve adopted a more detailed\\nformat for documenting argument and return types.\"]\n          })\n        }), _jsx(Image, {\n          src: \"/images/architecture.svg\",\n          href: \"/api\",\n          alt: \"Library architecture\"\n        })]\n      }), _jsx(Infobox, {\n        title: \"New or reworked documentation\",\n        emoji: \"üìñ\",\n        list: true,\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"**Usage: ** \", _jsx(_components.a, {\n              href: \"/usage/embeddings-transformers\",\n              children: \"Embeddings \u0026 Transformers\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/training\",\n              children: \"Training models\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/layers-architectures\",\n              children: \"Layers \u0026 Architectures\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/projects\",\n              children: \"Projects\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/processing-pipelines#custom-components\",\n              children: \"Custom pipeline components\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/linguistic-features#custom-tokenizer\",\n              children: \"Custom tokenizers\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/linguistic-features#morphology\",\n              children: \"Morphology\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/linguistic-features#lemmatization\",\n              children: \"Lemmatization\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/linguistic-features#mappings-exceptions\",\n              children: \"Mapping \u0026 Exceptions\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/usage/rule-based-matching#dependencymatcher\",\n              children: \"Dependency matching\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"**API Reference: ** \", _jsx(_components.a, {\n              href: \"/api\",\n              children: \"Library architecture\"\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/architectures\",\n              children: \"Model architectures\"\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/data-formats\",\n              children: \"Data formats\"\n            })]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"**New Classes: ** \", _jsx(_components.a, {\n              href: \"/api/example\",\n              children: _jsx(InlineCode, {\n                children: \"Example\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/tok2vec\",\n              children: _jsx(InlineCode, {\n                children: \"Tok2Vec\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/transformer\",\n              children: _jsx(InlineCode, {\n                children: \"Transformer\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/lemmatizer\",\n              children: _jsx(InlineCode, {\n                children: \"Lemmatizer\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/morphologizer\",\n              children: _jsx(InlineCode, {\n                children: \"Morphologizer\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/attributeruler\",\n              children: _jsx(InlineCode, {\n                children: \"AttributeRuler\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/sentencerecognizer\",\n              children: _jsx(InlineCode, {\n                children: \"SentenceRecognizer\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/dependencymatcher\",\n              children: _jsx(InlineCode, {\n                children: \"DependencyMatcher\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/pipe\",\n              children: _jsx(InlineCode, {\n                children: \"TrainablePipe\"\n              })\n            }), \",\\n\", _jsx(_components.a, {\n              href: \"/api/corpus\",\n              children: _jsx(InlineCode, {\n                children: \"Corpus\"\n              })\n            }), \", \", _jsx(_components.a, {\n              href: \"/api/spangroup\",\n              children: _jsx(InlineCode, {\n                children: \"SpanGroup\"\n              })\n            }), \",\"]\n          }), \"\\n\"]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-incompat\",\n      children: [_jsx(_components.h2, {\n        id: \"incompat\",\n        children: \"Backwards Incompatibilities \"\n      }), _jsxs(_components.p, {\n        children: [\"As always, we‚Äôve tried to keep the breaking changes to a minimum and focus on\\nchanges that were necessary to support the new features, fix problems or improve\\nusability. The following section lists the relevant changes to the user-facing\\nAPI. For specific examples of how to rewrite your code, check out the\\n\", _jsx(_components.a, {\n          href: \"#migrating\",\n          children: \"migration guide\"\n        }), \".\"]\n      }), _jsx(Infobox, {\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"Note that spaCy v3.0 now requires \", _jsx(_components.strong, {\n            children: \"Python 3.6+\"\n          }), \".\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"incompat-api\",\n        children: \"API changes \"\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"Pipeline package symlinks, the \", _jsx(InlineCode, {\n            children: \"link\"\n          }), \" command and shortcut names are now\\ndeprecated. There can be many \", _jsx(_components.a, {\n            href: \"/models\",\n            children: \"different trained pipelines\"\n          }), \" and not\\njust one ‚ÄúEnglish model‚Äù, so you should always use the full package name like\\n\", _jsx(InlineCode, {\n            children: \"en_core_web_sm\"\n          }), \" explicitly.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"A pipeline‚Äôs \", _jsx(InlineCode, {\n            children: \"meta.json\"\n          }), \" is now only used to provide meta information like the\\npackage name, author, license and labels. It‚Äôs \", _jsx(_components.strong, {\n            children: \"not\"\n          }), \" used to construct the\\nprocessing pipeline anymore. This is all defined in the\\n\", _jsx(_components.a, {\n            href: \"/api/data-formats#config\",\n            children: _jsx(InlineCode, {\n              children: \"config.cfg\"\n            })\n          }), \", which also includes all settings\\nused to train the pipeline.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"train\"\n          }), \", \", _jsx(InlineCode, {\n            children: \"pretrain\"\n          }), \" and \", _jsx(InlineCode, {\n            children: \"debug data\"\n          }), \" commands now only take a\\n\", _jsx(InlineCode, {\n            children: \"config.cfg\"\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.a, {\n            href: \"/api/language#add_pipe\",\n            children: _jsx(InlineCode, {\n              children: \"Language.add_pipe\"\n            })\n          }), \" now takes the \", _jsx(_components.strong, {\n            children: \"string name\"\n          }), \" of\\nthe component factory instead of the component function.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"Custom pipeline components\"\n          }), \" now need to be decorated with the\\n\", _jsx(_components.a, {\n            href: \"/api/language#component\",\n            children: _jsx(InlineCode, {\n              children: \"@Language.component\"\n            })\n          }), \" or\\n\", _jsx(_components.a, {\n            href: \"/api/language#factory\",\n            children: _jsx(InlineCode, {\n              children: \"@Language.factory\"\n            })\n          }), \" decorator.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(_components.a, {\n            href: \"/api/language#update\",\n            children: _jsx(InlineCode, {\n              children: \"Language.update\"\n            })\n          }), \",\\n\", _jsx(_components.a, {\n            href: \"/api/language#evaluate\",\n            children: _jsx(InlineCode, {\n              children: \"Language.evaluate\"\n            })\n          }), \" and\\n\", _jsx(_components.a, {\n            href: \"/api/pipe#update\",\n            children: _jsx(InlineCode, {\n              children: \"TrainablePipe.update\"\n            })\n          }), \" methods now all take batches of\\n\", _jsx(_components.a, {\n            href: \"/api/example\",\n            children: _jsx(InlineCode, {\n              children: \"Example\"\n            })\n          }), \" objects instead of \", _jsx(InlineCode, {\n            children: \"Doc\"\n          }), \" and \", _jsx(InlineCode, {\n            children: \"GoldParse\"\n          }), \" objects, or\\nraw text and a dictionary of annotations.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"begin_training\"\n          }), \" methods have been renamed to \", _jsx(InlineCode, {\n            children: \"initialize\"\n          }), \" and now take a\\nfunction that returns a sequence of \", _jsx(InlineCode, {\n            children: \"Example\"\n          }), \" objects to initialize the model\\ninstead of a list of tuples.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.a, {\n            href: \"/api/matcher#add\",\n            children: _jsx(InlineCode, {\n              children: \"Matcher.add\"\n            })\n          }), \" and\\n\", _jsx(_components.a, {\n            href: \"/api/phrasematcher#add\",\n            children: _jsx(InlineCode, {\n              children: \"PhraseMatcher.add\"\n            })\n          }), \" now only accept a list of\\npatterns as the second argument (instead of a variable number of arguments).\\nThe \", _jsx(InlineCode, {\n            children: \"on_match\"\n          }), \" callback becomes an optional keyword argument.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"Doc\"\n          }), \" flags like \", _jsx(InlineCode, {\n            children: \"Doc.is_parsed\"\n          }), \" or \", _jsx(InlineCode, {\n            children: \"Doc.is_tagged\"\n          }), \" have been replaced by\\n\", _jsx(_components.a, {\n            href: \"/api/doc#has_annotation\",\n            children: _jsx(InlineCode, {\n              children: \"Doc.has_annotation\"\n            })\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"spacy.gold\"\n          }), \" module has been renamed to\\n\", _jsx(_components.a, {\n            href: \"https://github.com/explosion/spaCy/tree/master/spacy/training\",\n            children: _jsx(InlineCode, {\n              children: \"spacy.training\"\n            })\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"PRON_LEMMA\"\n          }), \" symbol and \", _jsx(InlineCode, {\n            children: \"-PRON-\"\n          }), \" as an indicator for pronoun lemmas has\\nbeen removed.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"TAG_MAP\"\n          }), \" and \", _jsx(InlineCode, {\n            children: \"MORPH_RULES\"\n          }), \" in the language data have been replaced by the\\nmore flexible \", _jsx(_components.a, {\n            href: \"/api/attributeruler\",\n            children: _jsx(InlineCode, {\n              children: \"AttributeRuler\"\n            })\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(_components.a, {\n            href: \"/api/lemmatizer\",\n            children: _jsx(InlineCode, {\n              children: \"Lemmatizer\"\n            })\n          }), \" is now a standalone pipeline component and\\ndoesn‚Äôt provide lemmas by default or switch automatically between lookup and\\nrule-based lemmas. You can now add it to your pipeline explicitly and set its\\nmode on initialization.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Various keyword arguments across functions and methods are now explicitly\\ndeclared as \", _jsx(_components.strong, {\n            children: \"keyword-only\"\n          }), \" arguments. Those arguments are documented\\naccordingly across the API reference using the \", _jsx(Tag, {\n            children: \"keyword-only\"\n          }), \" tag.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"textcat\"\n          }), \" pipeline component is now only applicable for classification of\\nmutually exclusives classes - i.e. one predicted class per input sentence or\\ndocument. To perform multi-label classification, use the new\\n\", _jsx(InlineCode, {\n            children: \"textcat_multilabel\"\n          }), \" component instead.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.h3, {\n        id: \"incompat-removed\",\n        children: \"Removed or renamed API \"\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Removed\"\n            }), _jsx(_components.th, {\n              children: \"Replacement\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Language.disable_pipes\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/language#select_pipes\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.select_pipes\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/language#disable_pipe\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.disable_pipe\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/language#enable_pipe\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.enable_pipe\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Language.begin_training\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Pipe.begin_training\"\n              }), \", ‚Ä¶\"]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/language#initialize\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.initialize\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/pipe#initialize\",\n                children: _jsx(InlineCode, {\n                  children: \"Pipe.initialize\"\n                })\n              }), \", ‚Ä¶\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Doc.is_tagged\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Doc.is_parsed\"\n              }), \", ‚Ä¶\"]\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/doc#has_annotation\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.has_annotation\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"GoldParse\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/example\",\n                children: _jsx(InlineCode, {\n                  children: \"Example\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"GoldCorpus\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/corpus\",\n                children: _jsx(InlineCode, {\n                  children: \"Corpus\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"KnowledgeBase.load_bulk\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"KnowledgeBase.dump\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/kb#from_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"KnowledgeBase.from_disk\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/kb#to_disk\",\n                children: _jsx(InlineCode, {\n                  children: \"KnowledgeBase.to_disk\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"KnowledgeBase.get_candidates\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/kb#get_alias_candidates\",\n                children: _jsx(InlineCode, {\n                  children: \"KnowledgeBase.get_alias_candidates\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Matcher.pipe\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"PhraseMatcher.pipe\"\n              })]\n            }), _jsx(_components.td, {\n              children: \"not needed\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"gold.offsets_from_biluo_tags\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"gold.spans_from_biluo_tags\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"gold.biluo_tags_from_offsets\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/top-level#biluo_tags_to_offsets\",\n                children: _jsx(InlineCode, {\n                  children: \"training.biluo_tags_to_offsets\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/top-level#biluo_tags_to_spans\",\n                children: _jsx(InlineCode, {\n                  children: \"training.biluo_tags_to_spans\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/top-level#offsets_to_biluo_tags\",\n                children: _jsx(InlineCode, {\n                  children: \"training.offsets_to_biluo_tags\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy init-model\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#init-vectors\",\n                children: _jsx(InlineCode, {\n                  children: \"spacy init vectors\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy debug-data\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#debug-data\",\n                children: _jsx(InlineCode, {\n                  children: \"spacy debug data\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy profile\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/cli#debug-profile\",\n                children: _jsx(InlineCode, {\n                  children: \"spacy debug profile\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"spacy link\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"util.set_data_path\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"util.get_data_path\"\n              })]\n            }), _jsx(_components.td, {\n              children: \"not needed, symlinks are deprecated\"\n            })]\n          })]\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"The following methods, attributes and arguments were removed in v3.0. Most of\\nthem have been \", _jsx(_components.strong, {\n          children: \"deprecated for a while\"\n        }), \" and many would previously raise\\nerrors. Many of them were also mostly internals. If you‚Äôve been working with\\nmore recent versions of spaCy v2.x, it‚Äôs \", _jsx(_components.strong, {\n          children: \"unlikely\"\n        }), \" that your code relied on\\nthem.\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Removed\"\n            }), _jsx(_components.th, {\n              children: \"Replacement\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"Doc.tokens_from_list\"\n              })\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/doc#init\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.__init__\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Doc.merge\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Span.merge\"\n              })]\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/doc#retokenize\",\n                children: _jsx(InlineCode, {\n                  children: \"Doc.retokenize\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Token.string\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Span.string\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Span.upper\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Span.lower\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/api/span#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Span.text\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/token#attributes\",\n                children: _jsx(InlineCode, {\n                  children: \"Token.text\"\n                })\n              })]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"Language.tagger\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Language.parser\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"Language.entity\"\n              })]\n            }), _jsx(_components.td, {\n              children: _jsx(_components.a, {\n                href: \"/api/language#get_pipe\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.get_pipe\"\n                })\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [\"keyword-arguments like \", _jsx(InlineCode, {\n                children: \"vocab=False\"\n              }), \" on \", _jsx(InlineCode, {\n                children: \"to_disk\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"from_disk\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"to_bytes\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"from_bytes\"\n              })]\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"exclude=[\\\"vocab\\\"]\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"n_threads\"\n              }), \" argument on \", _jsx(_components.a, {\n                href: \"/api/tokenizer\",\n                children: _jsx(InlineCode, {\n                  children: \"Tokenizer\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/matcher\",\n                children: _jsx(InlineCode, {\n                  children: \"Matcher\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/phrasematcher\",\n                children: _jsx(InlineCode, {\n                  children: \"PhraseMatcher\"\n                })\n              })]\n            }), _jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"n_process\"\n              })\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"verbose\"\n              }), \" argument on \", _jsx(_components.a, {\n                href: \"/api/language#evaluate\",\n                children: _jsx(InlineCode, {\n                  children: \"Language.evaluate\"\n                })\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"logging (\", _jsx(InlineCode, {\n                children: \"DEBUG\"\n              }), \")\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"SentenceSegmenter\"\n              }), \" hook, \", _jsx(InlineCode, {\n                children: \"SimilarityHook\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [_jsx(_components.a, {\n                href: \"/usage/processing-pipelines#custom-components-user-hooks\",\n                children: \"user hooks\"\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/sentencizer\",\n                children: _jsx(InlineCode, {\n                  children: \"Sentencizer\"\n                })\n              }), \", \", _jsx(_components.a, {\n                href: \"/api/sentencerecognizer\",\n                children: _jsx(InlineCode, {\n                  children: \"SentenceRecognizer\"\n                })\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-migrating\",\n      children: [_jsx(_components.h2, {\n        id: \"migrating\",\n        children: \"Migrating from v2.x \"\n      }), _jsx(_components.h3, {\n        id: \"migrating-downloading-models\",\n        children: \"Downloading and loading trained pipelines \"\n      }), _jsxs(_components.p, {\n        children: [\"Symlinks and shortcuts like \", _jsx(InlineCode, {\n          children: \"en\"\n        }), \" have been deprecated for a while, and are now\\nnot supported anymore. There are \", _jsx(_components.a, {\n          href: \"/models\",\n          children: \"many different trained pipelines\"\n        }), \"\\nwith different capabilities and not just one ‚ÄúEnglish model‚Äù. In order to\\ndownload and load a package, you should always use its full name ‚Äì for instance,\\n\", _jsx(_components.a, {\n          href: \"/models/en#en_core_web_sm\",\n          children: _jsx(InlineCode, {\n            children: \"en_core_web_sm\"\n          })\n        }), \".\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- python -m spacy download en\\n+ python -m spacy download en_core_web_sm\\n\"\n        })\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- nlp = spacy.load(\\\"en\\\")\\n+ nlp = spacy.load(\\\"en_core_web_sm\\\")\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-pipeline-components\",\n        children: \"Custom pipeline components and factories \"\n      }), _jsxs(_components.p, {\n        children: [\"Custom pipeline components now have to be registered explicitly using the\\n\", _jsx(_components.a, {\n          href: \"/api/language#component\",\n          children: _jsx(InlineCode, {\n            children: \"@Language.component\"\n          })\n        }), \" or\\n\", _jsx(_components.a, {\n          href: \"/api/language#factory\",\n          children: _jsx(InlineCode, {\n            children: \"@Language.factory\"\n          })\n        }), \" decorator. For simple functions\\nthat take a \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" and return it, all you have to do is add the\\n\", _jsx(InlineCode, {\n          children: \"@Language.component\"\n        }), \" decorator to it and assign it a name:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          title: \"Stateless function components\",\n          children: \"+ from spacy.language import Language\\n\\n+ @Language.component(\\\"my_component\\\")\\ndef my_component(doc):\\n    return doc\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"For class components that are initialized with settings and/or the shared \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \"\\nobject, you can use the \", _jsx(InlineCode, {\n          children: \"@Language.factory\"\n        }), \" decorator. Also make sure that that\\nthe method used to initialize the factory has \", _jsx(_components.strong, {\n          children: \"two named arguments\"\n        }), \": \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \"\\n(the current \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \" object) and \", _jsx(InlineCode, {\n          children: \"name\"\n        }), \" (the string name of the component\\ninstance).\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          title: \"Stateful class components\",\n          children: \"+ from spacy.language import Language\\n\\n+ @Language.factory(\\\"my_component\\\")\\nclass MyComponent:\\n-   def __init__(self, nlp):\\n+   def __init__(self, nlp, name):\\n        self.nlp = nlp\\n\\n    def __call__(self, doc):\\n        return doc\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Instead of decorating your class, you could also add a factory function that\\ntakes the arguments \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"name\"\n        }), \" and returns an instance of your component:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          title: \"Stateful class components with factory function\",\n          children: \"+ from spacy.language import Language\\n\\n+ @Language.factory(\\\"my_component\\\")\\n+ def create_my_component(nlp, name):\\n+     return MyComponent(nlp)\\n\\nclass MyComponent:\\n    def __init__(self, nlp):\\n        self.nlp = nlp\\n\\n    def __call__(self, doc):\\n        return doc\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"@Language.component\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"@Language.factory\"\n        }), \" decorators now take care of\\nadding an entry to the component factories, so spaCy knows how to load a\\ncomponent back in from its string name. You won‚Äôt have to write to\\n\", _jsx(InlineCode, {\n          children: \"Language.factories\"\n        }), \" manually anymore.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- Language.factories[\\\"my_component\\\"] = lambda nlp, **cfg: MyComponent(nlp)\\n\"\n        })\n      }), _jsx(_components.h4, {\n        id: \"migrating-add-pipe\",\n        children: \"Adding components to the pipeline \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.add_pipe\"\n          })\n        }), \" method now takes the \", _jsx(_components.strong, {\n          children: \"string\\nname\"\n        }), \" of the component factory instead of a callable component. This allows\\nspaCy to track and serialize components that have been added and their settings.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"+ @Language.component(\\\"my_component\\\")\\ndef my_component(doc):\\n    return doc\\n\\n- nlp.add_pipe(my_component)\\n+ nlp.add_pipe(\\\"my_component\\\")\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.add_pipe\"\n          })\n        }), \" now also returns the pipeline component\\nitself, so you can access its attributes. The\\n\", _jsx(_components.a, {\n          href: \"/api/language#create_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.create_pipe\"\n          })\n        }), \" method is now mostly internals\\nand you typically shouldn‚Äôt have to use it in your code.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- parser = nlp.create_pipe(\\\"parser\\\")\\n- nlp.add_pipe(parser)\\n+ parser = nlp.add_pipe(\\\"parser\\\")\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you need to add a component from an existing trained pipeline, you can now\\nuse the \", _jsx(InlineCode, {\n          children: \"source\"\n        }), \" argument on \", _jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.add_pipe\"\n          })\n        }), \". This will\\ncheck that the component is compatible, and take care of porting over all\\nconfig. During training, you can also reference existing trained components in\\nyour \", _jsx(_components.a, {\n          href: \"/usage/training#config-components\",\n          children: \"config\"\n        }), \" and decide whether or not they\\nshould be updated with more data.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"config.cfg (excerpt)\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[components.ner]\\nsource = \\\"en_core_web_sm\\\"\\ncomponent = \\\"ner\\\"\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"source_nlp = spacy.load(\\\"en_core_web_sm\\\")\\nnlp = spacy.blank(\\\"en\\\")\\n- ner = source_nlp.get_pipe(\\\"ner\\\")\\n- nlp.add_pipe(ner)\\n+ nlp.add_pipe(\\\"ner\\\", source=source_nlp)\\n\"\n        })\n      }), _jsx(_components.h4, {\n        id: \"migrating-configure-pipe\",\n        children: \"Configuring pipeline components with settings \"\n      }), _jsxs(_components.p, {\n        children: [\"Because pipeline components are now added using their string names, you won‚Äôt\\nhave to instantiate the \", _jsx(_components.a, {\n          href: \"/api/#architecture-pipeline\",\n          children: \"component classes\"\n        }), \"\\ndirectly anymore. To configure the component, you can now use the \", _jsx(InlineCode, {\n          children: \"config\"\n        }), \"\\nargument on \", _jsx(_components.a, {\n          href: \"/api/language#add_pipe\",\n          children: _jsx(InlineCode, {\n            children: \"nlp.add_pipe\"\n          })\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"config.cfg (excerpt)\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[components.sentencizer]\\nfactory = \\\"sentencizer\\\"\\npunct_chars = [\\\"!\\\", \\\".\\\", \\\"?\\\"]\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"punct_chars = [\\\"!\\\", \\\".\\\", \\\"?\\\"]\\n- sentencizer = Sentencizer(punct_chars=punct_chars)\\n+ sentencizer = nlp.add_pipe(\\\"sentencizer\\\", config={\\\"punct_chars\\\": punct_chars})\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"config\"\n        }), \" corresponds to the component settings in the\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config-components\",\n          children: _jsx(InlineCode, {\n            children: \"config.cfg\"\n          })\n        }), \" and will overwrite the default\\nconfig defined by the components.\"]\n      }), _jsxs(Infobox, {\n        variant: \"warning\",\n        title: \"Important note on config values\",\n        children: [_jsxs(_components.p, {\n          children: [\"Config values you pass to components \", _jsx(_components.strong, {\n            children: \"need to be JSON-serializable\"\n          }), \" and can‚Äôt\\nbe arbitrary Python objects. Otherwise, the settings you provide can‚Äôt be\\nrepresented in the \", _jsx(InlineCode, {\n            children: \"config.cfg\"\n          }), \" and spaCy has no way of knowing how to re-create\\nyour component with the same settings when you load the pipeline back in. If you\\nneed to pass arbitrary objects to a component, use a\\n\", _jsx(_components.a, {\n            href: \"/usage/processing-pipelines#example-stateful-components\",\n            children: \"registered function\"\n          }), \":\"]\n        }), _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-diff\",\n            lang: \"diff\",\n            children: \"- config = {\\\"model\\\": MyTaggerModel()}\\n+ config= {\\\"model\\\": {\\\"@architectures\\\": \\\"MyTaggerModel\\\"}}\\ntagger = nlp.add_pipe(\\\"tagger\\\", config=config)\\n\"\n          })\n        })]\n      }), _jsx(_components.h3, {\n        id: \"migrating-matcher\",\n        children: \"Adding match patterns \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/matcher#add\",\n          children: _jsx(InlineCode, {\n            children: \"Matcher.add\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/phrasematcher#add\",\n          children: _jsx(InlineCode, {\n            children: \"PhraseMatcher.add\"\n          })\n        }), \" and\\n\", _jsx(_components.a, {\n          href: \"/api/dependencymatcher#add\",\n          children: _jsx(InlineCode, {\n            children: \"DependencyMatcher.add\"\n          })\n        }), \" methods now only accept a\\n\", _jsx(_components.strong, {\n          children: \"list of patterns\"\n        }), \" as the second argument (instead of a variable number of\\narguments). The \", _jsx(InlineCode, {\n          children: \"on_match\"\n        }), \" callback becomes an optional keyword argument.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"matcher = Matcher(nlp.vocab)\\npatterns = [[{\\\"TEXT\\\": \\\"Google\\\"}, {\\\"TEXT\\\": \\\"Now\\\"}], [{\\\"TEXT\\\": \\\"GoogleNow\\\"}]]\\n- matcher.add(\\\"GoogleNow\\\", on_match, *patterns)\\n+ matcher.add(\\\"GoogleNow\\\", patterns, on_match=on_match)\\n\"\n        })\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"matcher = PhraseMatcher(nlp.vocab)\\npatterns = [nlp(\\\"health care reform\\\"), nlp(\\\"healthcare reform\\\")]\\n- matcher.add(\\\"HEALTH\\\", on_match, *patterns)\\n+ matcher.add(\\\"HEALTH\\\", patterns, on_match=on_match)\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-tokenizer-exceptions\",\n        children: \"Migrating attributes in tokenizer exceptions \"\n      }), _jsxs(_components.p, {\n        children: [\"Tokenizer exceptions are now only allowed to set \", _jsx(InlineCode, {\n          children: \"ORTH\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"NORM\"\n        }), \" values as\\npart of the token attributes. Exceptions for other attributes such as \", _jsx(InlineCode, {\n          children: \"TAG\"\n        }), \" and\\n\", _jsx(InlineCode, {\n          children: \"LEMMA\"\n        }), \" should be moved to an \", _jsx(_components.a, {\n          href: \"/api/attributeruler\",\n          children: _jsx(InlineCode, {\n            children: \"AttributeRuler\"\n          })\n        }), \" component:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"nlp = spacy.blank(\\\"en\\\")\\n- nlp.tokenizer.add_special_case(\\\"don't\\\", [{\\\"ORTH\\\": \\\"do\\\"}, {\\\"ORTH\\\": \\\"n't\\\", \\\"LEMMA\\\": \\\"not\\\"}])\\n+ nlp.tokenizer.add_special_case(\\\"don't\\\", [{\\\"ORTH\\\": \\\"do\\\"}, {\\\"ORTH\\\": \\\"n't\\\"}])\\n+ ruler = nlp.add_pipe(\\\"attribute_ruler\\\")\\n+ ruler.add(patterns=[[{\\\"ORTH\\\": \\\"n't\\\"}]], attrs={\\\"LEMMA\\\": \\\"not\\\"})\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-training-mappings-exceptions\",\n        children: \"Migrating tag maps and morph rules \"\n      }), _jsxs(_components.p, {\n        children: [\"Instead of defining a \", _jsx(InlineCode, {\n          children: \"tag_map\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"morph_rules\"\n        }), \" in the language data, spaCy\\nv3.0 now manages mappings and exceptions with a separate and more flexible\\npipeline component, the \", _jsx(_components.a, {\n          href: \"/api/attributeruler\",\n          children: _jsx(InlineCode, {\n            children: \"AttributeRuler\"\n          })\n        }), \". See the\\n\", _jsx(_components.a, {\n          href: \"/usage/linguistic-features#mappings-exceptions\",\n          children: \"usage guide\"\n        }), \" for examples. If\\nyou have tag maps and morph rules in the v2.x format, you can load them into the\\nattribute ruler before training using the \", _jsx(InlineCode, {\n          children: \"[initialize]\"\n        }), \" block of your config.\"]\n      }), _jsx(_components.h3, {\n        children: \"Using Lexeme Tables\"\n      }), _jsxs(_components.p, {\n        children: [\"To use tables like \", _jsx(InlineCode, {\n          children: \"lexeme_prob\"\n        }), \" when training a model from scratch, you need to\\nadd an entry to the \", _jsx(InlineCode, {\n          children: \"initialize\"\n        }), \" block in your config. Here‚Äôs what that looks\\nlike for the existing trained pipelines:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-ini\",\n          lang: \"ini\",\n          children: \"[initialize.lookups]\\n@misc = \\\"spacy.LookupsDataLoader.v1\\\"\\nlang = ${nlp.lang}\\ntables = [\\\"lexeme_norm\\\"]\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"What does the initialization do?\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"The \", _jsx(InlineCode, {\n            children: \"[initialize]\"\n          }), \" block is used when\\n\", _jsx(_components.a, {\n            href: \"/api/language#initialize\",\n            children: _jsx(InlineCode, {\n              children: \"nlp.initialize\"\n            })\n          }), \" is called (usually right before\\ntraining). It lets you define data resources for initializing the pipeline in\\nyour \", _jsx(InlineCode, {\n            children: \"config.cfg\"\n          }), \". After training, the rules are saved to disk with the\\nexported pipeline, so your runtime model doesn‚Äôt depend on local data. For\\ndetails see the \", _jsx(_components.a, {\n            href: \"/usage/training/#config-lifecycle\",\n            children: \"config lifecycle\"\n          }), \" and\\n\", _jsx(_components.a, {\n            href: \"/usage/training/#initialization\",\n            children: \"initialization\"\n          }), \" docs.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-ini\",\n          lang: \"ini\",\n          title: \"config.cfg (excerpt)\",\n          children: \"[initialize.components.attribute_ruler]\\n\\n[initialize.components.attribute_ruler.tag_map]\\n@readers = \\\"srsly.read_json.v1\\\"\\npath = \\\"./corpus/tag_map.json\\\"\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"AttributeRuler\"\n        }), \" also provides two handy helper methods\\n\", _jsx(_components.a, {\n          href: \"/api/attributeruler#load_from_tag_map\",\n          children: _jsx(InlineCode, {\n            children: \"load_from_tag_map\"\n          })\n        }), \" and\\n\", _jsx(_components.a, {\n          href: \"/api/attributeruler#load_from_morph_rules\",\n          children: _jsx(InlineCode, {\n            children: \"load_from_morph_rules\"\n          })\n        }), \" that let\\nyou load in your existing tag map or morph rules:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"nlp = spacy.blank(\\\"en\\\")\\n- nlp.vocab.morphology.load_tag_map(YOUR_TAG_MAP)\\n+ ruler = nlp.add_pipe(\\\"attribute_ruler\\\")\\n+ ruler.load_from_tag_map(YOUR_TAG_MAP)\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-doc-flags\",\n        children: \"Migrating Doc flags \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/doc\",\n          children: _jsx(InlineCode, {\n            children: \"Doc\"\n          })\n        }), \" flags \", _jsx(InlineCode, {\n          children: \"Doc.is_tagged\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Doc.is_parsed\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"Doc.is_nered\"\n        }), \" and\\n\", _jsx(InlineCode, {\n          children: \"Doc.is_sentenced\"\n        }), \" are deprecated in v3.0 and replaced by\\n\", _jsx(_components.a, {\n          href: \"/api/doc#has_annotation\",\n          children: _jsx(InlineCode, {\n            children: \"Doc.has_annotation\"\n          })\n        }), \" method, which refers to the\\ntoken attribute symbols (the same symbols used in \", _jsx(_components.a, {\n          href: \"/api/matcher\",\n          children: _jsx(InlineCode, {\n            children: \"Matcher\"\n          })\n        }), \"\\npatterns):\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"doc = nlp(text)\\n- doc.is_parsed\\n+ doc.has_annotation(\\\"DEP\\\")\\n- doc.is_tagged\\n+ doc.has_annotation(\\\"TAG\\\")\\n- doc.is_sentenced\\n+ doc.has_annotation(\\\"SENT_START\\\")\\n- doc.is_nered\\n+ doc.has_annotation(\\\"ENT_IOB\\\")\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"migrating-training\",\n        children: \"Training pipelines and models \"\n      }), _jsxs(_components.p, {\n        children: [\"To train your pipelines, you should now pretty much always use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \" CLI. You shouldn‚Äôt have to put together your own\\ntraining scripts anymore, unless you \", _jsx(_components.em, {\n          children: \"really\"\n        }), \" want to. The training commands now\\nuse a \", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: \"flexible config file\"\n        }), \" that describes all training\\nsettings and hyperparameters, as well as your pipeline, components and\\narchitectures to use. The \", _jsx(InlineCode, {\n          children: \"--code\"\n        }), \" argument lets you pass in code containing\\n\", _jsx(_components.a, {\n          href: \"/usage/training#custom-code\",\n          children: \"custom registered functions\"\n        }), \" that you can\\nreference in your config. To get started, check out the\\n\", _jsx(_components.a, {\n          href: \"/usage/training#quickstart\",\n          children: \"quickstart widget\"\n        }), \".\"]\n      }), _jsx(_components.h4, {\n        id: \"migrating-training-format\",\n        children: \"Binary .spacy training data format \"\n      }), _jsxs(_components.p, {\n        children: [\"spaCy v3.0 uses a new\\n\", _jsx(_components.a, {\n          href: \"/api/data-formats#binary-training\",\n          children: \"binary training data format\"\n        }), \" created by\\nserializing a \", _jsx(_components.a, {\n          href: \"/api/docbin\",\n          children: _jsx(InlineCode, {\n            children: \"DocBin\"\n          })\n        }), \", which represents a collection of \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \"\\nobjects. This means that you can train spaCy pipelines using the same format it\\noutputs: annotated \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" objects. The binary format is extremely \", _jsx(_components.strong, {\n          children: \"efficient in\\nstorage\"\n        }), \", especially when packing multiple documents together. You can convert\\nyour existing JSON-formatted data using the \", _jsx(_components.a, {\n          href: \"/api/cli#convert\",\n          children: _jsx(InlineCode, {\n            children: \"spacy convert\"\n          })\n        }), \"\\ncommand, which outputs \", _jsx(InlineCode, {\n          children: \".spacy\"\n        }), \" files:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy convert ./training.json ./output\\n\"\n        })\n      }), _jsx(_components.h4, {\n        id: \"migrating-training-config\",\n        children: \"Training config \"\n      }), _jsxs(_components.p, {\n        children: [\"The easiest way to get started with a training config is to use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#init-config\",\n          children: _jsx(InlineCode, {\n            children: \"init config\"\n          })\n        }), \" command or the\\n\", _jsx(_components.a, {\n          href: \"/usage/training#quickstart\",\n          children: \"quickstart widget\"\n        }), \". You can define your\\nrequirements, and it will auto-generate a starter config with the best-matching\\ndefault settings.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy init config ./config.cfg --lang en --pipeline tagger,parser\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you‚Äôve exported a starter config from our\\n\", _jsx(_components.a, {\n          href: \"/usage/training#quickstart\",\n          children: \"quickstart widget\"\n        }), \", you can use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#init-fill-config\",\n          children: _jsx(InlineCode, {\n            children: \"init fill-config\"\n          })\n        }), \" to fill it with all default\\nvalues. You can then use the auto-generated \", _jsx(InlineCode, {\n          children: \"config.cfg\"\n        }), \" for training:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- python -m spacy train en ./output ./train.json ./dev.json\\n--pipeline tagger,parser --cnn-window 1 --bilstm-depth 0\\n+ python -m spacy train ./config.cfg --output ./output\\n\"\n        })\n      }), _jsx(Project, {\n        id: \"pipelines/tagger_parser_ud\",\n        children: _jsxs(_components.p, {\n          children: [\"The easiest way to get started is to clone a \", _jsx(_components.a, {\n            href: \"/usage/projects\",\n            children: \"project template\"\n          }), \"\\nand run it ‚Äì¬†for example, this end-to-end template that lets you train a\\n\", _jsx(_components.strong, {\n            children: \"part-of-speech tagger\"\n          }), \" and \", _jsx(_components.strong, {\n            children: \"dependency parser\"\n          }), \" on a Universal Dependencies\\ntreebank.\"]\n        })\n      }), _jsx(_components.h4, {\n        children: \"Modifying tokenizer settings\"\n      }), _jsxs(_components.p, {\n        children: [\"If you were using a base model with \", _jsx(InlineCode, {\n          children: \"spacy train\"\n        }), \" to customize the tokenizer\\nsettings in v2, your modifications can be provided in the\\n\", _jsx(InlineCode, {\n          children: \"[initialize.before_init]\"\n        }), \" callback.\"]\n      }), _jsx(_components.p, {\n        children: \"Write a registered callback that modifies the tokenizer settings and specify\\nthis callback in your config:\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"config.cfg\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[initialize]\\n\\n[initialize.before_init]\\n@callbacks = \\\"customize_tokenizer\\\"\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"functions.py\",\n          children: \"from spacy.util import registry, compile_suffix_regex\\n\\n@registry.callbacks(\\\"customize_tokenizer\\\")\\ndef make_customize_tokenizer():\\n    def customize_tokenizer(nlp):\\n        # remove a suffix\\n        suffixes = list(nlp.Defaults.suffixes)\\n        suffixes.remove(\\\"\\\\\\\\[\\\")\\n        suffix_regex = compile_suffix_regex(suffixes)\\n        nlp.tokenizer.suffix_search = suffix_regex.search\\n\\n        # add a special case\\n        nlp.tokenizer.add_special_case(\\\"_SPECIAL_\\\", [{\\\"ORTH\\\": \\\"_SPECIAL_\\\"}])\\n    return customize_tokenizer\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"When training, provide the function above with the \", _jsx(InlineCode, {\n          children: \"--code\"\n        }), \" option:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy train config.cfg --code ./functions.py\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The train step requires the \", _jsx(InlineCode, {\n          children: \"--code\"\n        }), \" option with your registered functions from\\nthe \", _jsx(InlineCode, {\n          children: \"[initialize]\"\n        }), \" block, but since those callbacks are only required during the\\ninitialization step, you don‚Äôt need to provide them with the final pipeline\\npackage. However, to make it easier for others to replicate your training setup,\\nyou can choose to package the initialization callbacks with the pipeline package\\nor to publish them separately.\"]\n      }), _jsx(_components.h4, {\n        id: \"migrating-training-python\",\n        children: \"Training via the Python API \"\n      }), _jsxs(_components.p, {\n        children: [\"For most use cases, you \", _jsx(_components.strong, {\n          children: \"shouldn‚Äôt\"\n        }), \" have to write your own training scripts\\nanymore. Instead, you can use \", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \" with a\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: \"config file\"\n        }), \" and custom\\n\", _jsx(_components.a, {\n          href: \"/usage/training#custom-code\",\n          children: \"registered functions\"\n        }), \" if needed. You can even\\nregister callbacks that can modify the \", _jsx(InlineCode, {\n          children: \"nlp\"\n        }), \" object at different stages of its\\nlifecycle to fully customize it before training.\"]\n      }), _jsxs(_components.p, {\n        children: [\"If you do decide to use the \", _jsx(_components.a, {\n          href: \"/usage/training#api\",\n          children: \"internal training API\"\n        }), \" from\\nPython, you should only need a few small modifications to convert your scripts\\nfrom spaCy v2.x to v3.x. The \", _jsx(_components.a, {\n          href: \"/api/example#from_dict\",\n          children: _jsx(InlineCode, {\n            children: \"Example.from_dict\"\n          })\n        }), \"\\nclassmethod takes a reference \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" and a\\n\", _jsx(_components.a, {\n          href: \"/api/data-formats#dict-input\",\n          children: \"dictionary of annotations\"\n        }), \", similar to the\\n‚Äúsimple training style‚Äù in spaCy v2.x:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          title: \"Migrating Doc and GoldParse\",\n          children: \"doc = nlp.make_doc(\\\"Mark Zuckerberg is the CEO of Facebook\\\")\\nentities = [(0, 15, \\\"PERSON\\\"), (30, 38, \\\"ORG\\\")]\\n- gold = GoldParse(doc, entities=entities)\\n+ example = Example.from_dict(doc, {\\\"entities\\\": entities})\\n\"\n        })\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          title: \"Migrating simple training style\",\n          children: \"text = \\\"Mark Zuckerberg is the CEO of Facebook\\\"\\nannotations = {\\\"entities\\\": [(0, 15, \\\"PERSON\\\"), (30, 38, \\\"ORG\\\")]}\\n+ doc = nlp.make_doc(text)\\n+ example = Example.from_dict(doc, annotations)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/language#update\",\n          children: _jsx(InlineCode, {\n            children: \"Language.update\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/language#evaluate\",\n          children: _jsx(InlineCode, {\n            children: \"Language.evaluate\"\n          })\n        }), \" and\\n\", _jsx(_components.a, {\n          href: \"/api/pipe#update\",\n          children: _jsx(InlineCode, {\n            children: \"TrainablePipe.update\"\n          })\n        }), \" methods now all take batches of\\n\", _jsx(_components.a, {\n          href: \"/api/example\",\n          children: _jsx(InlineCode, {\n            children: \"Example\"\n          })\n        }), \" objects instead of \", _jsx(InlineCode, {\n          children: \"Doc\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"GoldParse\"\n        }), \" objects, or\\nraw text and a dictionary of annotations.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"Training loop\",\n          highlight: \"5-8,12\",\n          children: \"TRAIN_DATA = [\\n    (\\\"Who is Shaka Khan?\\\", {\\\"entities\\\": [(7, 17, \\\"PERSON\\\")]}),\\n    (\\\"I like London.\\\", {\\\"entities\\\": [(7, 13, \\\"LOC\\\")]}),\\n]\\nexamples = []\\nfor text, annots in TRAIN_DATA:\\n    examples.append(Example.from_dict(nlp.make_doc(text), annots))\\nnlp.initialize(lambda: examples)\\nfor i in range(20):\\n    random.shuffle(examples)\\n    for batch in minibatch(examples, size=8):\\n        nlp.update(batch)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [_jsx(InlineCode, {\n          children: \"Language.begin_training\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"TrainablePipe.begin_training\"\n        }), \" have been renamed\\nto \", _jsx(_components.a, {\n          href: \"/api/language#initialize\",\n          children: _jsx(InlineCode, {\n            children: \"Language.initialize\"\n          })\n        }), \" and\\n\", _jsx(_components.a, {\n          href: \"/api/pipe#initialize\",\n          children: _jsx(InlineCode, {\n            children: \"TrainablePipe.initialize\"\n          })\n        }), \", and the methods now take a\\nfunction that returns a sequence of \", _jsx(InlineCode, {\n          children: \"Example\"\n        }), \" objects to initialize the model\\ninstead of a list of tuples. The data examples are used to \", _jsx(_components.strong, {\n          children: \"initialize the\\nmodels\"\n        }), \" of trainable pipeline components, which includes validating the\\nnetwork,\\n\", _jsx(_components.a, {\n          href: \"https://thinc.ai/docs/usage-models#validation\",\n          children: \"inferring missing shapes\"\n        }), \" and\\nsetting up the label scheme.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- nlp.begin_training()\\n+ nlp.initialize(lambda: examples)\\n\"\n        })\n      }), _jsx(_components.h4, {\n        id: \"migrating-training-packaging\",\n        children: \"Packaging trained pipelines \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#package\",\n          children: _jsx(InlineCode, {\n            children: \"spacy package\"\n          })\n        }), \" command now automatically builds the\\ninstallable \", _jsx(InlineCode, {\n          children: \".tar.gz\"\n        }), \" sdist of the Python package, so you don‚Äôt have to run this\\nstep manually anymore. To disable the behavior, you can set \", _jsx(InlineCode, {\n          children: \"--build none\"\n        }), \". You\\ncan also choose to build a binary wheel (which installs more efficiently) by\\nsetting \", _jsx(InlineCode, {\n          children: \"--build wheel\"\n        }), \", or to build both the sdist and wheel by setting\\n\", _jsx(InlineCode, {\n          children: \"--build sdist,wheel\"\n        }), \".\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"python -m spacy package ./output ./packages\\n- cd /output/en_pipeline-0.0.0\\n- python setup.py sdist\\n\"\n        })\n      }), _jsx(_components.h4, {\n        id: \"migrating-gold\",\n        children: \"Data utilities and gold module \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"spacy.gold\"\n        }), \" module has been renamed to \", _jsx(InlineCode, {\n          children: \"spacy.training\"\n        }), \" and the conversion\\nutilities now follow the naming format of \", _jsx(InlineCode, {\n          children: \"x_to_y\"\n        }), \". This mostly affects\\ninternals, but if you‚Äôve been using the span offset conversion utilities\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#offsets_to_biluo_tags\",\n          children: _jsx(InlineCode, {\n            children: \"offsets_to_biluo_tags\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#biluo_tags_to_offsets\",\n          children: _jsx(InlineCode, {\n            children: \"biluo_tags_to_offsets\"\n          })\n        }), \" or\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#biluo_tags_to_spans\",\n          children: _jsx(InlineCode, {\n            children: \"biluo_tags_to_spans\"\n          })\n        }), \", you‚Äôll have to\\nchange your names and imports:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"- from spacy.gold import biluo_tags_from_offsets, offsets_from_biluo_tags, spans_from_biluo_tags\\n+ from spacy.training import offsets_to_biluo_tags, biluo_tags_to_offsets, biluo_tags_to_spans\\n\"\n        })\n      }), _jsx(_components.h4, {\n        id: \"migrating-plugins\",\n        children: \"Migration notes for plugin maintainers \"\n      }), _jsxs(_components.p, {\n        children: [\"Thanks to everyone who‚Äôs been contributing to the spaCy ecosystem by developing\\nand maintaining one of the many awesome \", _jsx(_components.a, {\n          href: \"/universe\",\n          children: \"plugins and extensions\"\n        }), \".\\nWe‚Äôve tried to make it as easy as possible for you to upgrade your packages for\\nspaCy v3.0. The most common use case for plugins is providing pipeline\\ncomponents and extension attributes. When migrating your plugin, double-check\\nthe following:\"]\n      }), _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"Use the \", _jsx(_components.a, {\n            href: \"/api/language#factory\",\n            children: _jsx(InlineCode, {\n              children: \"@Language.factory\"\n            })\n          }), \" decorator to register\\nyour component and assign it a name. This allows users to refer to your\\ncomponents by name and serialize pipelines referencing them. Remove all manual\\nentries to the \", _jsx(InlineCode, {\n            children: \"Language.factories\"\n          }), \".\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Make sure your component factories take at least two \", _jsx(_components.strong, {\n            children: \"named arguments\"\n          }), \":\\n\", _jsx(InlineCode, {\n            children: \"nlp\"\n          }), \" (the current \", _jsx(InlineCode, {\n            children: \"nlp\"\n          }), \" object) and \", _jsx(InlineCode, {\n            children: \"name\"\n          }), \" (the instance name of the added\\ncomponent so you can identify multiple instances of the same component).\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Update all references to \", _jsx(_components.a, {\n            href: \"/api/language#add_pipe\",\n            children: _jsx(InlineCode, {\n              children: \"nlp.add_pipe\"\n            })\n          }), \" in your docs\\nto use \", _jsx(_components.strong, {\n            children: \"string names\"\n          }), \" instead of the component functions.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          highlight: \"1-5\",\n          children: \"from spacy.language import Language\\n\\n@Language.factory(\\\"my_component\\\", default_config={\\\"some_setting\\\": False})\\ndef create_component(nlp: Language, name: str, some_setting: bool):\\n    return MyCoolComponent(some_setting=some_setting)\\n\\n\\nclass MyCoolComponent:\\n    def __init__(self, some_setting):\\n        self.some_setting = some_setting\\n\\n    def __call__(self, doc):\\n        # Do something to the doc\\n        return doc\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Result in config.cfg\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[components.my_component]\\nfactory = \\\"my_component\\\"\\nsome_setting = true\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-diff\",\n          lang: \"diff\",\n          children: \"import spacy\\nfrom your_plugin import MyCoolComponent\\n\\nnlp = spacy.load(\\\"en_core_web_sm\\\")\\n- component = MyCoolComponent(some_setting=True)\\n- nlp.add_pipe(component)\\n+ nlp.add_pipe(\\\"my_component\\\", config={\\\"some_setting\\\": True})\\n\"\n        })\n      }), _jsx(Infobox, {\n        title: \"Important note on registering factories\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"The \", _jsx(_components.a, {\n            href: \"/api/language#factory\",\n            children: _jsx(InlineCode, {\n              children: \"@Language.factory\"\n            })\n          }), \" decorator takes care of letting\\nspaCy know that a component of that name is available. This means that your\\nusers can add it to the pipeline using its \", _jsx(_components.strong, {\n            children: \"string name\"\n          }), \". However, this\\nrequires the decorator to be executed ‚Äì so users will still have to \", _jsx(_components.strong, {\n            children: \"import\\nyour plugin\"\n          }), \". Alternatively, your plugin could expose an\\n\", _jsx(_components.a, {\n            href: \"/usage/saving-loading#entry-points\",\n            children: \"entry point\"\n          }), \", which spaCy can read from.\\nThis means that spaCy knows how to initialize \", _jsx(InlineCode, {\n            children: \"my_component\"\n          }), \", even if your\\npackage isn‚Äôt imported.\"]\n        })\n      }), _jsx(_components.h4, {\n        id: \"jupyter-notebook-gpu\",\n        children: \"Using GPUs in Jupyter notebooks \"\n      }), _jsxs(_components.p, {\n        children: [\"In Jupyter notebooks, run \", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.prefer_gpu\",\n          children: _jsx(InlineCode, {\n            children: \"prefer_gpu\"\n          })\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.require_gpu\",\n          children: _jsx(InlineCode, {\n            children: \"require_gpu\"\n          })\n        }), \" or\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.require_cpu\",\n          children: _jsx(InlineCode, {\n            children: \"require_cpu\"\n          })\n        }), \" in the same cell as\\n\", _jsx(_components.a, {\n          href: \"/api/top-level#spacy.load\",\n          children: _jsx(InlineCode, {\n            children: \"spacy.load\"\n          })\n        }), \" to ensure that the model is loaded on\\nthe correct device.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Due to a bug related to \", _jsx(InlineCode, {\n          children: \"contextvars\"\n        }), \" (see the\\n\", _jsx(_components.a, {\n          href: \"https://github.com/ipython/ipython/issues/11565\",\n          children: \"bug report\"\n        }), \"), the GPU settings\\nmay not be preserved correctly across cells, resulting in models being loaded on\\nthe wrong device or only partially on GPU.\"]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"What's New in v3.0","teaser":"New features, backwards incompatibilities and migration guide","menu":[["Summary","summary"],["New Features","features"],["Backwards Incompatibilities","incompat"],["Migrating from v2.x","migrating"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":{"slug":"/usage/v3-1","title":"New in v3.1"}},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["usage","v3"]},"buildId":"2lY2cUyEfZosk4VLgkHb2","isFallback":false,"dynamicIds":[728],"gsp":true,"scriptLoader":[]}</script></body></html>