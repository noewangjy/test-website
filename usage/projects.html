<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-192x192.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5.0, shrink-to-fit=no, viewport-fit=cover"/><meta name="theme-color" content="#09a3d5"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title>Projects · spaCy Usage Documentation</title><meta name="description" content="spaCy is a free open-source library for Natural Language Processing in Python. It features NER, POS tagging, dependency parsing, word vectors and more."/><meta property="og:title" content="Projects · spaCy Usage Documentation"/><meta property="og:description" content="spaCy is a free open-source library for Natural Language Processing in Python. It features NER, POS tagging, dependency parsing, word vectors and more."/><meta property="og:type" content="website"/><meta property="og:site_name" content="Projects"/><meta property="og:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://noewangjy.github.io/test-website//_next/static/media/social_default.96b04585.jpg"/><meta name="twitter:creator" content="@spacy_io"/><meta name="twitter:site" content="@spacy_io"/><meta name="twitter:title" content="Projects · spaCy Usage Documentation"/><meta name="twitter:description" content="spaCy is a free open-source library for Natural Language Processing in Python. It features NER, POS tagging, dependency parsing, word vectors and more."/><meta name="docsearch:language" content="en"/><meta name="next-head-count" content="24"/><link rel="preload" href="/_next/static/css/8f0b94edbc18d62d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f0b94edbc18d62d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e6995e0e8addcf99.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6995e0e8addcf99.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/262.c647d33d06232ef6.js"></script><script defer="" src="/_next/static/chunks/728.cf6ba0da2700fa1b.js"></script><script defer="" src="/_next/static/chunks/ff39441c.a546763fcfb2e100.js"></script><script defer="" src="/_next/static/chunks/d848df63.589bf0a30c292ffe.js"></script><script defer="" src="/_next/static/chunks/876.15142163f03ee62c.js"></script><script defer="" src="/_next/static/chunks/294.7690b28271fa0539.js"></script><script defer="" src="/_next/static/chunks/561.47ba5672af9b582d.js"></script><script src="/_next/static/chunks/webpack-8161fc2bb14cec39.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-a0f603ce323043fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ee1fab0e25bb912e.js" defer=""></script><script src="/_next/static/chunks/94-57434c8b7a6c3878.js" defer=""></script><script src="/_next/static/chunks/128-76b45627a109219b.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...listPathPage%5D-45eea57fe8c2902c.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_buildManifest.js" defer=""></script><script src="/_next/static/2lY2cUyEfZosk4VLgkHb2/_ssgManifest.js" defer=""></script></head><body class="theme-blue"><div id="__next"><div class="theme-blue"><nav class="navigation_root__yPL8O"><span class="navigation_has-alert__s0Drf"><a class="link_root__1Me7D link_no-link-layout__RPvod" aria-label="spaCy" href="/"><h1 class="navigation_title__pm49s">spaCy</h1></a> <span class="navigation_alert__ZOXon"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/v3-5"><strong>💥 Out now:</strong> spaCy v3.5</a></span></span><div class="navigation_menu__ZMJxN"><select class="dropdown_root__3uiQq navigation_dropdown__4j4pI"><option value="title" disabled="">Menu</option><option value="/usage" selected="">Usage</option><option value="/models">Models</option><option value="/api">API</option><option value="/universe">Universe</option></select><ul class="navigation_list__DCzqi"><li class="navigation_item__ln1O1 navigation_is-active__RjVJG"><a class="link_root__1Me7D link_no-link-layout__RPvod" tabindex="-1" href="/usage">Usage</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API</a></li><li class="navigation_item__ln1O1"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li class="navigation_item__ln1O1 navigation_github__MpFNv"><span><a href="https://github.com/explosion/spaCy" data-size="large" data-show-count="true" aria-label="Star spaCy on GitHub"></a></span></li></ul><div class="navigation_search__BKZCn"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><progress class="progress_root__9huWN" value="0" max="100"></progress></nav><menu class="sidebar sidebar_root__s2No7"><h1 hidden="" aria-hidden="true" class="h0 sidebar_active-heading___dkf9">Guides</h1><div class="sidebar_dropdown__vyqjz"><select class="dropdown_root__3uiQq sidebar_dropdown-select__Nwbq9"><option disabled="">Select page...</option><option value="/usage">Get started<!-- --> › <!-- -->Installation</option><option value="/usage/models">Get started<!-- --> › <!-- -->Models &amp; Languages</option><option value="/usage/facts-figures">Get started<!-- --> › <!-- -->Facts &amp; Figures</option><option value="/usage/spacy-101">Get started<!-- --> › <!-- -->spaCy 101</option><option value="/usage/v3">Get started<!-- --> › <!-- -->New in v3.0</option><option value="/usage/v3-1">Get started<!-- --> › <!-- -->New in v3.1</option><option value="/usage/v3-2">Get started<!-- --> › <!-- -->New in v3.2</option><option value="/usage/v3-3">Get started<!-- --> › <!-- -->New in v3.3</option><option value="/usage/v3-4">Get started<!-- --> › <!-- -->New in v3.4</option><option value="/usage/v3-5">Get started<!-- --> › <!-- -->New in v3.5</option><option value="/usage/linguistic-features">Guides<!-- --> › <!-- -->Linguistic Features</option><option value="/usage/rule-based-matching">Guides<!-- --> › <!-- -->Rule-based Matching</option><option value="/usage/processing-pipelines">Guides<!-- --> › <!-- -->Processing Pipelines</option><option value="/usage/embeddings-transformers">Guides<!-- --> › <!-- -->Embeddings &amp; Transformers</option><option value="/usage/training">Guides<!-- --> › <!-- -->Training Models</option><option value="/usage/layers-architectures">Guides<!-- --> › <!-- -->Layers &amp; Model Architectures</option><option value="/usage/projects" selected="">Guides<!-- --> › <!-- -->spaCy Projects</option><option value="/usage/saving-loading">Guides<!-- --> › <!-- -->Saving &amp; Loading</option><option value="/usage/visualizers">Guides<!-- --> › <!-- -->Visualizers</option><option value="https://github.com/explosion/projects">Resources<!-- --> › <!-- -->Project Templates</option><option value="https://v2.spacy.io">Resources<!-- --> › <!-- -->v2.x Documentation</option><option value="https://explosion.ai/custom-solutions">Resources<!-- --> › <!-- -->Custom Solutions</option></select></div><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Get started</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage">Installation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/models">Models &amp; Languages</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/facts-figures">Facts &amp; Figures</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/spacy-101">spaCy 101</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3">New in v3.0</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-1">New in v3.1</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-2">New in v3.2</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-3">New in v3.3</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-4">New in v3.4</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/v3-5">New in v3.5</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Guides</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/linguistic-features">Linguistic Features</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/rule-based-matching">Rule-based Matching</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/processing-pipelines">Processing Pipelines</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/embeddings-transformers">Embeddings &amp; Transformers<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/training">Training Models<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/layers-architectures">Layers &amp; Model Architectures<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP sidebar_is-active__yVTtL is-active" href="/usage/projects">spaCy Projects<span class="tag_root__NTSnK tag_spaced__Q9amH">new</span></a><ul class="sidebar_crumbs__NhM2y"><li class="sidebar_crumb__tiiDl sidebar_crumb-active__zq8BI"><a href="#intro">Intro &amp; Workflow</a></li><li class="sidebar_crumb__tiiDl"><a href="#directory">Directory &amp; Assets</a></li><li class="sidebar_crumb__tiiDl"><a href="#custom">Custom Projects</a></li><li class="sidebar_crumb__tiiDl"><a href="#remote">Remote Storage</a></li><li class="sidebar_crumb__tiiDl"><a href="#integrations">Integrations</a></li></ul></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/saving-loading">Saving &amp; Loading</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="/usage/visualizers">Visualizers</a></li></ul><ul class="sidebar_section__DArOO"><li class="sidebar_label__V3K28">Resources</li><li><a class="link_root__1Me7D sidebar_link__sKXFP" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects">Project Templates</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://v2.spacy.io">v2.x Documentation</a></li><li><a class="link_root__1Me7D sidebar_link__sKXFP" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></menu><main class="main_root__7f6Tj main_with-sidebar__uH1df main_with-asides__ikQT6"><article class="main_content__8zFCH"><header class="title_root__pS2WQ"><h1 id="_title" class="typography_heading__D82WZ typography_h1__b7dt9 title_h1__l3CW1"><span class="heading-text">Projects<!-- --> </span></h1><div class="title_tags__PljaK"><span class="tag_root__NTSnK tag_spaced__Q9amH" data-tooltip="This feature is new and was introduced in spaCy v3">v<!-- -->3</span></div></header><section id="section-intro" class="section_root__k1hUl"><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">🪐 Project templates<!-- --> </span></h4>
<p>Our <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects"><code class="code_inline-code__Bq7ot">projects</code></a> repo includes various
project templates for different NLP tasks, models, workflows and integrations
that you can clone and run. The easiest way to get started is to pick a
template, clone it and start modifying it!</p>
</div></div></aside><p>spaCy projects let you manage and share <strong>end-to-end spaCy workflows</strong> for
different <strong>use cases and domains</strong>, and orchestrate training, packaging and
serving your custom pipelines. You can start off by cloning a pre-defined
project template, adjust it to fit your needs, load in your data, train a
pipeline, export it as a Python package, upload your outputs to a remote storage
and share your results with your team. spaCy projects can be used via the new
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project"><code class="code_inline-code__Bq7ot">spacy project</code></a> command and we provide templates in our
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects"><code class="code_inline-code__Bq7ot">projects</code></a> repo.</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/projects.svg" alt="Illustration of project workflow and commands" width="650" height="auto"/></figure><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">🪐</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud"><code class="code_inline-code__Bq7ot">pipelines/tagger_parser_ud</code></a></span></h4><p>The easiest way to get started is to clone a project template and run it – for
example, this end-to-end template that lets you train a <strong>part-of-speech
tagger</strong> and <strong>dependency parser</strong> on a Universal Dependencies treebank.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone pipelines/tagger_parser_ud</textarea></div></aside><p>spaCy projects make it easy to integrate with many other <strong>awesome tools</strong> in
the data science and machine learning ecosystem to track and manage your data
and experiments, iterate on demos and prototypes and ship your models into
production.</p><div class="grid_root__EfDZl grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#dvc"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#dvc"><p>Manage and version your data</p></a></div><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#prodigy"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#prodigy"><p>Create labelled training data</p></a></div><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#streamlit"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#streamlit"><p>Visualize and demo your pipelines</p></a></div><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#fastapi"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#fastapi"><p>Serve your models and host APIs</p></a></div><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#ray"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#ray"><p>Distributed and parallel training</p></a></div><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#wandb"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#wandb"><p>Track your experiments and results</p></a></div><div class="card_root__em0nY card_small__rlmMB"><h5 class="typography_heading__D82WZ typography_h5__JbE6d card_title__sGs5v"><span class="heading-text"><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#huggingface_hub"></a> </span></h5><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage/projects#huggingface_hub"><p>Upload your pipelines to the Hugging Face Hub</p></a></div></div><h3 id="clone" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#clone" class="heading-text typography_permalink__UiIRy">1. Clone a project template <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Cloning under the hood<!-- --> </span></h4>
<p>To clone a project, spaCy calls into <code class="code_inline-code__Bq7ot">git</code> and uses the “sparse checkout”
feature to only clone the relevant directory or directories.</p>
</div></div></aside><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-clone"><code class="code_inline-code__Bq7ot">spacy project clone</code></a> command clones an existing
project template and copies the files to a local directory. You can then run the
project, e.g. to train a pipeline and edit the commands and scripts to build
fully custom workflows.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>By default, the project will be cloned into the current working directory. You
can specify an optional second argument to define the output directory. The
<code class="code_inline-code__Bq7ot">--repo</code> option lets you define a custom repo to clone from if you don’t want to
use the spaCy <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects"><code class="code_inline-code__Bq7ot">projects</code></a> repo. You can
also use any private repo you have access to with Git.</p><h3 id="assets" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#assets" class="heading-text typography_permalink__UiIRy">2. Fetch the project assets <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><p>Assets are data files your project needs – for example, the training and
evaluation data or pretrained vectors and embeddings to initialize your model
with. Each project template comes with a <code class="code_inline-code__Bq7ot">project.yml</code> that defines the assets
to download and where to put them. The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#run"><code class="code_inline-code__Bq7ot">spacy project assets</code></a>
will fetch the project assets for you:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>Asset URLs can be a number of different protocols: HTTP, HTTPS, FTP, SSH, and
even cloud storage such as GCS and S3. You can also fetch assets using git, by
replacing the <code class="code_inline-code__Bq7ot">url</code> string with a <code class="code_inline-code__Bq7ot">git</code> block. spaCy will use Git’s “sparse
checkout” feature to avoid downloading the whole repository.</p><p>Sometimes your project configuration may include large assets that you don’t
necessarily want to download when you run <code class="code_inline-code__Bq7ot">spacy project assets</code>. That’s why
assets can be marked as <a class="link_root__1Me7D" href="/usage/projects#data-assets-url"><code class="code_inline-code__Bq7ot">extra</code></a> - by default, these assets
are not downloaded. If they should be, run <code class="code_inline-code__Bq7ot">spacy project assets --extra</code>.</p><h3 id="run" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#run" class="heading-text typography_permalink__UiIRy">3. Run a command <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><p>Commands consist of one or more steps and can be run with
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-run"><code class="code_inline-code__Bq7ot">spacy project run</code></a>. The following will run the command
<code class="code_inline-code__Bq7ot">preprocess</code> defined in the <code class="code_inline-code__Bq7ot">project.yml</code>:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>Commands can define their expected <a class="link_root__1Me7D" href="/usage/projects#deps-outputs">dependencies and outputs</a>
using the <code class="code_inline-code__Bq7ot">deps</code> (files the commands require) and <code class="code_inline-code__Bq7ot">outputs</code> (files the commands
create) keys. This allows your project to track changes and determine whether a
command needs to be re-run. For instance, if your input data changes, you want
to re-run the <code class="code_inline-code__Bq7ot">preprocess</code> command. But if nothing changed, this step can be
skipped. You can also set <code class="code_inline-code__Bq7ot">--force</code> to force re-running a command, or <code class="code_inline-code__Bq7ot">--dry</code> to
perform a “dry run” and see what would happen (without actually running the
script).</p><p>Since spaCy v3.4.2, <code class="code_inline-code__Bq7ot">spacy projects run</code> checks your installed dependencies to
verify that your environment is properly set up and aligns with the project’s
<code class="code_inline-code__Bq7ot">requirements.txt</code>, if there is one. If missing or conflicting dependencies are
detected, a corresponding warning is displayed. If you’d like to disable the
dependency check, set <code class="code_inline-code__Bq7ot">check_requirements: false</code> in your project’s
<code class="code_inline-code__Bq7ot">project.yml</code>.</p><h3 id="run-workfow" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#run-workfow" class="heading-text typography_permalink__UiIRy">4. Run a workflow <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><p>Workflows are series of commands that are run in order and often depend on each
other. For instance, to generate a pipeline package, you might start by
converting your data, then run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#train"><code class="code_inline-code__Bq7ot">spacy train</code></a> to train your
pipeline on the converted data and if that’s successful, run
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#package"><code class="code_inline-code__Bq7ot">spacy package</code></a> to turn the best trained artifact into an
installable Python package. The following command runs the workflow named <code class="code_inline-code__Bq7ot">all</code>
defined in the <code class="code_inline-code__Bq7ot">project.yml</code>, and executes the commands it specifies, in order:</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>Using the expected <a class="link_root__1Me7D" href="/usage/projects#deps-outputs">dependencies and outputs</a> defined in the
commands, spaCy can determine whether to re-run a command (if its inputs or
outputs have changed) or whether to skip it. If you’re looking to implement more
advanced data pipelines and track your changes in Git, check out the
<a class="link_root__1Me7D" href="/usage/projects#dvc">Data Version Control (DVC) integration</a>. The
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-dvc"><code class="code_inline-code__Bq7ot">spacy project dvc</code></a> command generates a DVC config file
from a workflow defined in your <code class="code_inline-code__Bq7ot">project.yml</code> so you can manage your spaCy
project as a DVC repo.</p><h3 id="push" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#push" class="heading-text typography_permalink__UiIRy">5. Optional: Push to remote storage <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><p>After training a pipeline, you can optionally use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-push"><code class="code_inline-code__Bq7ot">spacy project push</code></a> command to upload your outputs to
a remote storage, using protocols like <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://aws.amazon.com/s3/">S3</a>,
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://cloud.google.com/storage">Google Cloud Storage</a> or SSH. This can help
you <strong>export</strong> your pipeline packages, <strong>share</strong> work with your team, or <strong>cache
results</strong> to avoid repeating work.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>The <code class="code_inline-code__Bq7ot">remotes</code> section in your <code class="code_inline-code__Bq7ot">project.yml</code> lets you assign names to the
different storages. To download state from a remote storage, you can use the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-pull"><code class="code_inline-code__Bq7ot">spacy project pull</code></a> command. For more details, see the
docs on <a class="link_root__1Me7D" href="/usage/projects#remote">remote storage</a>.</p></section>
<section id="section-directory" class="section_root__k1hUl"><h2 id="directory" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#directory" class="heading-text typography_permalink__UiIRy">Project directory and assets <!-- --> </a></h2><h3 id="project-yml" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#project-yml" class="heading-text typography_permalink__UiIRy">project.yml <!-- --> </a></h3><p>The <code class="code_inline-code__Bq7ot">project.yml</code> defines the assets a project depends on, like datasets and
pretrained weights, as well as a series of commands that can be run separately
or as a workflow – for instance, to preprocess the data, convert it to spaCy’s
format, train a pipeline, evaluate it and export metrics, package it and spin up
a quick web demo. It looks pretty similar to a config file used to define CI
pipelines.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Tip: Multi-line YAML syntax for long values<!-- --> </span></h4>
<p>YAML has <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://yaml-multiline.info/">multi-line syntax</a> that can be helpful
for readability with longer values such as project descriptions or commands
that take several arguments.</p>
</div></div></aside><pre class="code_pre__kzg60"><header class="code_header__Jc0Q1"><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud/project.yml"><code class="code_inline-code__Bq7ot code_inline-code-dark__ZEbch">explosion/projects/v3/pipelines/tagger_parser_ud/project.yml</code></a></header><code class="code_code__CILJL code_code__CILJL code_max-height__093k6 code_code__CILJL language-yaml language-yaml code_max-height__093k6 language-yaml"></code></pre><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Tip: Overriding variables on the CLI<!-- --> </span></h4>
<p>If you want to override one or more variables on the CLI and are not already
specifying a project directory, you need to add <code class="code_inline-code__Bq7ot">.</code> as a placeholder:</p>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-none"></code></pre>
</div></div></aside><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Tip: Environment Variables<!-- --> </span></h4>
<p>Commands in a project file are not executed in a shell, so they don’t have
direct access to environment variables. But you can insert environment
variables using the <code class="code_inline-code__Bq7ot">env</code> dictionary to make values available for
interpolation, just like values in <code class="code_inline-code__Bq7ot">vars</code>. Here’s an example <code class="code_inline-code__Bq7ot">env</code> dict that
makes <code class="code_inline-code__Bq7ot">$PATH</code> available as <code class="code_inline-code__Bq7ot">ENV_PATH</code>:</p>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
<p>This can be used in a project command like so:</p>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Section</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">title</code></td><td class="table_td__rmpJx">An optional project title used in <code class="code_inline-code__Bq7ot">--help</code> message and <a class="link_root__1Me7D" href="/usage/projects#custom-docs">auto-generated docs</a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">description</code></td><td class="table_td__rmpJx">An optional project description used in <a class="link_root__1Me7D" href="/usage/projects#custom-docs">auto-generated docs</a>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">vars</code></td><td class="table_td__rmpJx">A dictionary of variables that can be referenced in paths, URLs and scripts and overriden on the CLI, just like <a class="link_root__1Me7D" href="/usage/training#config-interpolation"><code class="code_inline-code__Bq7ot">config.cfg</code> variables</a>. For example, <code class="code_inline-code__Bq7ot">${vars.name}</code> will use the value of the variable <code class="code_inline-code__Bq7ot">name</code>. Variables need to be defined in the section <code class="code_inline-code__Bq7ot">vars</code>, but can be a nested dict, so you’re able to reference <code class="code_inline-code__Bq7ot">${vars.model.name}</code>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">env</code></td><td class="table_td__rmpJx">A dictionary of variables, mapped to the names of environment variables that will be read in when running the project. For example, <code class="code_inline-code__Bq7ot">${env.name}</code> will use the value of the environment variable defined as <code class="code_inline-code__Bq7ot">name</code>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">directories</code></td><td class="table_td__rmpJx">An optional list of <a class="link_root__1Me7D" href="/usage/projects#project-files">directories</a> that should be created in the project for assets, training outputs, metrics etc. spaCy will make sure that these directories always exist.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">assets</code></td><td class="table_td__rmpJx">A list of assets that can be fetched with the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-assets"><code class="code_inline-code__Bq7ot">project assets</code></a> command. <code class="code_inline-code__Bq7ot">url</code> defines a URL or local path, <code class="code_inline-code__Bq7ot">dest</code> is the destination file relative to the project directory, and an optional <code class="code_inline-code__Bq7ot">checksum</code> ensures that an error is raised if the file’s checksum doesn’t match. Instead of <code class="code_inline-code__Bq7ot">url</code>, you can also provide a <code class="code_inline-code__Bq7ot">git</code> block with the keys <code class="code_inline-code__Bq7ot">repo</code>, <code class="code_inline-code__Bq7ot">branch</code> and <code class="code_inline-code__Bq7ot">path</code>, to download from a Git repo.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">workflows</code></td><td class="table_td__rmpJx">A dictionary of workflow names, mapped to a list of command names, to execute in order. Workflows can be run with the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-run"><code class="code_inline-code__Bq7ot">project run</code></a> command.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">commands</code></td><td class="table_td__rmpJx">A list of named commands. A command can define an optional help message (shown in the CLI when the user adds <code class="code_inline-code__Bq7ot">--help</code>) and the <code class="code_inline-code__Bq7ot">script</code>, a list of commands to run. The <code class="code_inline-code__Bq7ot">deps</code> and <code class="code_inline-code__Bq7ot">outputs</code> let you define the created file the command depends on and produces, respectively. This lets spaCy determine whether a command needs to be re-run because its dependencies or outputs changed. Commands can be run as part of a workflow, or separately with the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-run"><code class="code_inline-code__Bq7ot">project run</code></a> command.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">spacy_version</code></td><td class="table_td__rmpJx">Optional spaCy version range like <code class="code_inline-code__Bq7ot">&gt;=3.0.0,&lt;3.1.0</code> that the project is compatible with. If it’s loaded with an incompatible version, an error is raised when the project is loaded.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">check_requirements</code> <span class="tag_root__NTSnK" data-tooltip="This feature is new and was introduced in spaCy v3.4.2">v<!-- -->3.4.2</span></td><td class="table_td__rmpJx">A flag determining whether to verify that the installed dependencies align with the project’s <code class="code_inline-code__Bq7ot">requirements.txt</code>. Defaults to <code class="code_inline-code__Bq7ot">true</code>.</td></tr></tbody></table><h3 id="data-assets" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#data-assets" class="heading-text typography_permalink__UiIRy">Data assets <!-- --> </a></h3><p>Assets are any files that your project might need, like training and development
corpora or pretrained weights for initializing your model. Assets are defined in
the <code class="code_inline-code__Bq7ot">assets</code> block of your <code class="code_inline-code__Bq7ot">project.yml</code> and can be downloaded using the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-assets"><code class="code_inline-code__Bq7ot">project assets</code></a> command. Defining checksums lets you
verify that someone else running your project will use the same files you used.
Asset URLs can be a number of different <strong>protocols</strong>: HTTP, HTTPS, FTP, SSH,
and even <strong>cloud storage</strong> such as GCS and S3. You can also download assets from
a <strong>Git repo</strong> instead.</p><h4 id="data-assets-url" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#data-assets-url" class="heading-text typography_permalink__UiIRy">Downloading from a URL or cloud storage <!-- --> </a></h4><p>Under the hood, spaCy uses the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/RaRe-Technologies/smart_open"><code class="code_inline-code__Bq7ot">smart-open</code></a> library so you
can use any protocol it supports. Note that you may need to install extra
dependencies to use certain protocols.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">dest</code></td><td class="table_td__rmpJx">The destination path to save the downloaded asset to (relative to the project directory), including the file name.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">extra</code></td><td class="table_td__rmpJx">Optional flag determining whether this asset is downloaded only if <code class="code_inline-code__Bq7ot">spacy project assets</code> is run with <code class="code_inline-code__Bq7ot">--extra</code>. <code class="code_inline-code__Bq7ot">False</code> by default.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">url</code></td><td class="table_td__rmpJx">The URL to download from, using the respective protocol.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">checksum</code></td><td class="table_td__rmpJx">Optional checksum of the file. If provided, it will be used to verify that the file matches and downloads will be skipped if a local file with the same checksum already exists.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">description</code></td><td class="table_td__rmpJx">Optional asset description, used in <a class="link_root__1Me7D" href="/usage/projects#custom-docs">auto-generated docs</a>.</td></tr></tbody></table><h4 id="data-assets-git" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#data-assets-git" class="heading-text typography_permalink__UiIRy">Downloading from a Git repo <!-- --> </a></h4><p>If a <code class="code_inline-code__Bq7ot">git</code> block is provided, the asset is downloaded from the given Git
repository. You can download from any repo that you have access to. Under the
hood, this uses Git’s “sparse checkout” feature, so you’re only downloading the
files you need and not the whole repo.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><table class="table_root__ZlA_w"><thead><tr class="table_tr__K_tkF"><th class="table_th__QJ9F8">Name</th><th class="table_th__QJ9F8">Description</th></tr></thead><tbody><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">dest</code></td><td class="table_td__rmpJx">The destination path to save the downloaded asset to (relative to the project directory), including the file name.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">git</code></td><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">repo</code>: The URL of the repo to download from.<br/><code class="code_inline-code__Bq7ot">path</code>: Path of the file or directory to download, relative to the repo root. &quot;&quot; specifies the root directory.<br/><code class="code_inline-code__Bq7ot">branch</code>: The branch to download from. Defaults to <code class="code_inline-code__Bq7ot">&quot;master&quot;</code>.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">checksum</code></td><td class="table_td__rmpJx">Optional checksum of the file. If provided, it will be used to verify that the file matches and downloads will be skipped if a local file with the same checksum already exists.</td></tr><tr class="table_tr__K_tkF"><td class="table_td__rmpJx"><code class="code_inline-code__Bq7ot">description</code></td><td class="table_td__rmpJx">Optional asset description, used in <a class="link_root__1Me7D" href="/usage/projects#custom-docs">auto-generated docs</a>.</td></tr></tbody></table><h4 id="data-asets-private" class="typography_heading__D82WZ typography_h4__CDRaM"><a href="#data-asets-private" class="heading-text typography_permalink__UiIRy">Working with private assets <!-- --> </a></h4><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><p>For many projects, the datasets and weights you’re working with might be
company-internal and not available over the internet. In that case, you can
specify the destination paths and a checksum, and leave out the URL. When your
teammates clone and run your project, they can place the files in the respective
directory themselves. The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-assets"><code class="code_inline-code__Bq7ot">project assets</code></a> command
will alert you about missing files and mismatched checksums, so you can ensure
that others are running your project with the same data.</p><h3 id="deps-outputs" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#deps-outputs" class="heading-text typography_permalink__UiIRy">Dependencies and outputs <!-- --> </a></h3><p>Each command defined in the <code class="code_inline-code__Bq7ot">project.yml</code> can optionally define a list of
dependencies and outputs. These are the files the command requires and creates.
For example, a command for training a pipeline may depend on a
<a class="link_root__1Me7D" href="/usage/training#config"><code class="code_inline-code__Bq7ot">config.cfg</code></a> and the training and evaluation data, and
it will export a directory <code class="code_inline-code__Bq7ot">model-best</code>, which you can then re-use in other
commands.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Re-running vs. skipping<!-- --> </span></h4>
<p>Under the hood, spaCy uses a <code class="code_inline-code__Bq7ot">project.lock</code> lockfile that stores the details
for each command, as well as its dependencies and outputs and their checksums.
It’s updated on each run. If any of this information changes, the command will
be re-run. Otherwise, it will be skipped.</p>
</div></div></aside><p>If you’re running a command and it depends on files that are missing, spaCy will
show you an error. If a command defines dependencies and outputs that haven’t
changed since the last run, the command will be skipped. This means that you’re
only re-running commands if they need to be re-run. Commands can also set
<code class="code_inline-code__Bq7ot">no_skip: true</code> if they should never be skipped – for example commands that run
tests. Commands without outputs are also never skipped. To force re-running a
command or workflow, even if nothing changed, you can set the <code class="code_inline-code__Bq7ot">--force</code> flag.</p><p>Note that <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project"><code class="code_inline-code__Bq7ot">spacy project</code></a> doesn’t compile any dependency
graphs based on the dependencies and outputs, and won’t re-run previous steps
automatically. For instance, if you only run the command <code class="code_inline-code__Bq7ot">train</code> that depends on
data created by <code class="code_inline-code__Bq7ot">preprocess</code> and those files are missing, spaCy will show an
error – it won’t just re-run <code class="code_inline-code__Bq7ot">preprocess</code>. If you’re looking for more advanced
data management, check out the <a class="link_root__1Me7D" href="/usage/projects#dvc">Data Version Control (DVC) integration</a>.
If you’re planning on integrating your spaCy project with DVC, you can also use
<code class="code_inline-code__Bq7ot">outputs_no_cache</code> instead of <code class="code_inline-code__Bq7ot">outputs</code> to define outputs that won’t be cached
or tracked.</p><h3 id="project-files" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#project-files" class="heading-text typography_permalink__UiIRy">Files and directory structure <!-- --> </a></h3><p>The <code class="code_inline-code__Bq7ot">project.yml</code> can define a list of <code class="code_inline-code__Bq7ot">directories</code> that should be created
within a project – for instance, <code class="code_inline-code__Bq7ot">assets</code>, <code class="code_inline-code__Bq7ot">training</code>, <code class="code_inline-code__Bq7ot">corpus</code> and so on. spaCy
will make sure that these directories are always available, so your commands can
write to and read from them. Project directories will also include all files and
directories copied from the project template with
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-clone"><code class="code_inline-code__Bq7ot">spacy project clone</code></a>. Here’s an example of a project
directory:</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">project.yml<!-- --> </span></h4>
<!-- -->
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">Example project directory</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><p>If you don’t want a project to create a directory, you can delete it and remove
its entry from the <code class="code_inline-code__Bq7ot">project.yml</code> – just make sure it’s not required by any of
the commands. <a class="link_root__1Me7D" href="/usage/projects#custom">Custom templates</a> can use any directories they need –
the only file that’s required for a project is the <code class="code_inline-code__Bq7ot">project.yml</code>.</p><hr class="section_hr__07Hes"/></section>
<section id="section-custom" class="section_root__k1hUl"><h2 id="custom" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#custom" class="heading-text typography_permalink__UiIRy">Custom scripts and projects <!-- --> </a></h2><p>The <code class="code_inline-code__Bq7ot">project.yml</code> lets you define any custom commands and run them as part of
your training, evaluation or deployment workflows. The <code class="code_inline-code__Bq7ot">script</code> section defines
a list of commands that are called in a subprocess, in order. This lets you
execute other Python scripts or command-line tools. Let’s say you’ve written a
few integration tests that load the best model produced by the training command
and check that it works correctly. You can now define a <code class="code_inline-code__Bq7ot">test</code> command that
calls into <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://docs.pytest.org/en/latest/"><code class="code_inline-code__Bq7ot">pytest</code></a>, runs your tests and
uses <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/pytest-dev/pytest-html"><code class="code_inline-code__Bq7ot">pytest-html</code></a> to export a test
report:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><p>Adding <code class="code_inline-code__Bq7ot">training/model-best</code> to the command’s <code class="code_inline-code__Bq7ot">deps</code> lets you ensure that the
file is available. If not, spaCy will show an error and the command won’t run.
Setting <code class="code_inline-code__Bq7ot">no_skip: true</code> means that the command will always run, even if the
dependencies (the trained pipeline) haven’t changed. This makes sense here,
because you typically don’t want to skip your tests.</p><h3 id="custom-scripts" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#custom-scripts" class="heading-text typography_permalink__UiIRy">Writing custom scripts <!-- --> </a></h3><p>Your project commands can include any custom scripts – essentially, anything you
can run from the command line. Here’s an example of a custom script that uses
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://typer.tiangolo.com/"><code class="code_inline-code__Bq7ot">typer</code></a> for quick and easy command-line arguments
that you can define via your <code class="code_inline-code__Bq7ot">project.yml</code>:</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">About Typer<!-- --> </span></h4>
<p><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://typer.tiangolo.com/"><code class="code_inline-code__Bq7ot">typer</code></a> is a modern library for building Python
CLIs using type hints. It’s a dependency of spaCy, so it will already be
pre-installed in your environment. Function arguments automatically become
positional CLI arguments and using Python type hints, you can define the value
types. For instance, <code class="code_inline-code__Bq7ot">batch_size: int</code> means that the value provided via the
command line is converted to an integer.</p>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">scripts/custom_evaluation.py</h4><code class="code_code__CILJL language-python language-python"></code></pre><p>In your <code class="code_inline-code__Bq7ot">project.yml</code>, you can then run the script by calling
<code class="code_inline-code__Bq7ot code_wrap__b41os">python scripts/custom_evaluation.py</code> with the function arguments. You can also
use the <code class="code_inline-code__Bq7ot">vars</code> section to define reusable variables that will be substituted in
commands, paths and URLs. In this example, the batch size is defined as a
variable will be added in place of <code class="code_inline-code__Bq7ot">${vars.batch_size}</code> in the script. Just like
in the <a class="link_root__1Me7D" href="/usage/training##config-overrides">training config</a>, you can also
override settings on the command line – for example using <code class="code_inline-code__Bq7ot">--vars.batch_size</code>.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Calling into Python<!-- --> </span></h4>
<p>If any of your command scripts call into <code class="code_inline-code__Bq7ot">python</code>, spaCy will take care of
replacing that with your <code class="code_inline-code__Bq7ot">sys.executable</code>, to make sure you’re executing
everything with the same Python (not some other Python installed on your
system). It also normalizes references to <code class="code_inline-code__Bq7ot">python3</code>, <code class="code_inline-code__Bq7ot">pip3</code> and <code class="code_inline-code__Bq7ot">pip</code>.</p>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><p>You can also use the <code class="code_inline-code__Bq7ot">env</code> section to reference <strong>environment variables</strong> and
make their values available to the commands. This can be useful for overriding
settings on the command line and passing through system-level settings.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Usage example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><h3 id="custom-docs" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#custom-docs" class="heading-text typography_permalink__UiIRy">Documenting your project <!-- --> </a></h3><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Readme Example<!-- --> </span></h4>
<p>For more examples, see the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects"><code class="code_inline-code__Bq7ot">projects</code></a>
repo.</p>
<figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/project_document.jpg" alt="Screenshot of auto-generated Markdown Readme" width="650" height="auto"/></figure>
</div></div></aside><p>When your custom project is ready and you want to share it with others, you can
use the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-document"><code class="code_inline-code__Bq7ot">spacy project document</code></a> command to
<strong>auto-generate</strong> a pretty, Markdown-formatted <code class="code_inline-code__Bq7ot">README</code> file based on your
project’s <code class="code_inline-code__Bq7ot">project.yml</code>. It will list all commands, workflows and assets defined
in the project and include details on how to run the project, as well as links
to the relevant spaCy documentation to make it easy for others to get started
using your project.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>Under the hood, hidden markers are added to identify where the auto-generated
content starts and ends. This means that you can add your own custom content
before or after it and re-running the <code class="code_inline-code__Bq7ot">project document</code> command will <strong>only
update the auto-generated part</strong>. This makes it easy to keep your documentation
up to date.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><p>Note that the contents of an existing file will be <strong>replaced</strong> if no existing
auto-generated docs are found. If you want spaCy to ignore a file and not update
it, you can add the comment marker <code class="code_inline-code__Bq7ot">{/* SPACY PROJECT: IGNORE */}</code> anywhere in
your markup.</p></aside><h3 id="custom-repo" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#custom-repo" class="heading-text typography_permalink__UiIRy">Cloning from your own repo <!-- --> </a></h3><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-clone"><code class="code_inline-code__Bq7ot">spacy project clone</code></a> command lets you customize
the repo to clone from using the <code class="code_inline-code__Bq7ot">--repo</code> option. It calls into <code class="code_inline-code__Bq7ot">git</code>, so you’ll
be able to clone from any repo that you have access to, including private repos.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>At a minimum, a valid project template needs to contain a
<a class="link_root__1Me7D" href="/usage/projects#project-yml"><code class="code_inline-code__Bq7ot">project.yml</code></a>. It can also include
<a class="link_root__1Me7D" href="/usage/projects#project-files">other files</a>, like custom scripts, a
<code class="code_inline-code__Bq7ot">requirements.txt</code> listing additional dependencies,
<a class="link_root__1Me7D" href="/usage/training#config">training configs</a> and model meta templates, or Jupyter
notebooks with usage examples.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note about assets</span></h4><p>It’s typically not a good idea to check large data assets, trained pipelines or
other artifacts into a Git repo and you should exclude them from your project
template by adding a <code class="code_inline-code__Bq7ot">.gitignore</code>. If you want to version your data and models,
check out <a class="link_root__1Me7D" href="/usage/projects#dvc">Data Version Control</a> (DVC), which integrates with spaCy
projects.</p></aside></section>
<section id="section-remote" class="section_root__k1hUl"><h2 id="remote" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#remote" class="heading-text typography_permalink__UiIRy">Remote Storage <!-- --> </a></h2><p>You can persist your project outputs to a remote storage using the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-push"><code class="code_inline-code__Bq7ot">project push</code></a> command. This can help you <strong>export</strong>
your pipeline packages, <strong>share</strong> work with your team, or <strong>cache results</strong> to
avoid repeating work. The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-pull"><code class="code_inline-code__Bq7ot">project pull</code></a> command will
download any outputs that are in the remote storage and aren’t available
locally.</p><p>You can list one or more remotes in the <code class="code_inline-code__Bq7ot">remotes</code> section of your
<a class="link_root__1Me7D" href="/usage/projects#project-yml"><code class="code_inline-code__Bq7ot">project.yml</code></a> by mapping a string name to the URL of the
storage. Under the hood, spaCy uses
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/justindujardin/pathy"><code class="code_inline-code__Bq7ot">Pathy</code></a> to communicate with the
remote storages, so you can use any protocol that <code class="code_inline-code__Bq7ot">Pathy</code> supports, including
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://aws.amazon.com/s3/">S3</a>,
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://cloud.google.com/storage">Google Cloud Storage</a>, and the local
filesystem, although you may need to install extra dependencies to use certain
protocols.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">💡</span>How it works</span></h4><p>Inside the remote storage, spaCy uses a clever <strong>directory structure</strong> to avoid
overwriting files. The top level of the directory structure is a URL-encoded
version of the output’s path. Within this directory are subdirectories named
according to a hash of the command string and the command’s dependencies.
Finally, within those directories are files, named according to an MD5 hash of
their contents.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-yaml language-yaml"></code></pre></aside><p>For instance, let’s say you had the following command in your <code class="code_inline-code__Bq7ot">project.yml</code>:</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-none"></code></pre>
</div></div></aside><p>After you finish training, you run <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-push"><code class="code_inline-code__Bq7ot">project push</code></a> to
make sure the <code class="code_inline-code__Bq7ot">training/model-best</code> output is saved to remote storage. spaCy
will then construct a hash from your command script and the listed dependencies,
<code class="code_inline-code__Bq7ot">corpus/train</code>, <code class="code_inline-code__Bq7ot">corpus/dev</code> and <code class="code_inline-code__Bq7ot">config.cfg</code>, in order to identify the
execution context of your output. It would then compute an MD5 hash of the
<code class="code_inline-code__Bq7ot">training/model-best</code> directory, and use those three pieces of information to
construct the storage URL.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>If you change the command or one of its dependencies (for instance, by editing
the <a class="link_root__1Me7D" href="/usage/training#config"><code class="code_inline-code__Bq7ot">config.cfg</code></a> file to tune the hyperparameters, a
different creation hash will be calculated, so when you use
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-push"><code class="code_inline-code__Bq7ot">project push</code></a> you won’t be overwriting your previous
file. The system even supports multiple outputs for the same file and the same
context, which can happen if your training process is not deterministic, or if
you have dependencies that aren’t represented in the command.</p><p>In summary, the <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project"><code class="code_inline-code__Bq7ot">spacy project</code></a> remote storages are designed
to make a particular set of trade-offs. Priority is placed on <strong>convenience</strong>,
<strong>correctness</strong> and <strong>avoiding data loss</strong>. You can use
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-push"><code class="code_inline-code__Bq7ot">project push</code></a> freely, as you’ll never overwrite remote
state, and you don’t have to come up with names or version numbers. However,
it’s up to you to manage the size of your remote storage, and to remove files
that are no longer relevant to you.</p></section>
<section id="section-integrations" class="section_root__k1hUl"><h2 id="integrations" class="typography_heading__D82WZ typography_h2__hzV3h"><a href="#integrations" class="heading-text typography_permalink__UiIRy">Integrations <!-- --> </a></h2><h3 id="dvc" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#dvc" class="heading-text typography_permalink__UiIRy"> Data Version Control (DVC)<!-- --> </a></h3><p>Data assets like training corpora or pretrained weights are at the core of any
NLP project, but they’re often difficult to manage: you can’t just check them
into your Git repo to version and keep track of them. And if you have multiple
steps that depend on each other, like a preprocessing step that generates your
training data, you need to make sure the data is always up-to-date, and re-run
all steps of your process every time, just to be safe.</p><p><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://dvc.org">Data Version Control</a> (DVC) is a standalone open-source tool
that integrates into your workflow like Git, builds a dependency graph for your
data pipelines and tracks and caches your data files. If you’re downloading data
from an external source, like a storage bucket, DVC can tell whether the
resource has changed. It can also determine whether to re-run a step, depending
on whether its input have changed or not. All metadata can be checked into a Git
repo, so you’ll always be able to reproduce your experiments.</p><p>To set up DVC, install the package and initialize your spaCy project as a Git
and DVC repo. You can also
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://dvc.org/doc/install/macos#install-with-pip">customize your DVC installation</a>
to include support for remote storage like Google Cloud Storage, S3, Azure, SSH
and more.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note on privacy</span></h4><p>DVC enables usage analytics by default, so if you’re working in a
privacy-sensitive environment, make sure to
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://dvc.org/doc/user-guide/analytics#opting-out"><strong>opt-out manually</strong></a>.</p></aside><p>The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-dvc"><code class="code_inline-code__Bq7ot">spacy project dvc</code></a> command creates a <code class="code_inline-code__Bq7ot">dvc.yaml</code>
config file based on a workflow defined in your <code class="code_inline-code__Bq7ot">project.yml</code>. Whenever you
update your project, you can re-run the command to update your DVC config. You
can then manage your spaCy project like any other DVC project, run
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://dvc.org/doc/command-reference/add"><code class="code_inline-code__Bq7ot">dvc add</code></a> to add and track assets
and <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://dvc.org/doc/command-reference/repro"><code class="code_inline-code__Bq7ot">dvc repro</code></a> to reproduce the
workflow or individual commands.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><aside class="infobox_root__yNIMg infobox_warning__SKl67"><h4 class="infobox_title__uDT7C"><span>Important note for multiple workflows</span></h4><p>DVC currently expects a single workflow per project, so when creating the config
with <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#project-dvc"><code class="code_inline-code__Bq7ot">spacy project dvc</code></a>, you need to specify the name
of a workflow defined in your <code class="code_inline-code__Bq7ot">project.yml</code>. You can still use multiple
workflows, but only one can be tracked by DVC.</p></aside><hr class="section_hr__07Hes"/><h3 id="prodigy" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#prodigy" class="heading-text typography_permalink__UiIRy">Prodigy<!-- --> </a></h3><p><a class="link_root__1Me7D" href="https://prodi.gy">Prodigy</a> is a modern annotation tool for creating training
data for machine learning models, developed by us. It integrates with spaCy
out-of-the-box and provides many different
<a class="link_root__1Me7D" href="https://prodi.gy/docs/recipes">annotation recipes</a> for a variety of NLP tasks,
with and without a model in the loop. If Prodigy is installed in your project,
you can start the annotation server from your <code class="code_inline-code__Bq7ot">project.yml</code> for a tight feedback
loop between data development and training.</p><aside class="infobox_root__yNIMg infobox_warning__SKl67"><p>This integration requires <a class="link_root__1Me7D" href="https://prodi.gy/docs/changelog#v1.11">Prodigy v1.11</a>
or higher. If you’re using an older version of Prodigy, you can still use your
annotations in spaCy v3 by exporting your data with
<a class="link_root__1Me7D" href="https://prodi.gy/docs/recipes#data-to-spacy"><code class="code_inline-code__Bq7ot">data-to-spacy</code></a> and running
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#convert"><code class="code_inline-code__Bq7ot">spacy convert</code></a> to convert it to the binary format.</p></aside><p>The following example shows a workflow for merging and exporting NER annotations
collected with Prodigy and training a spaCy pipeline:</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example usage<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example train curve output<!-- --> </span></h4>
<figure class="gatsby-resp-image-figure"><a class="link_root__1Me7D gatsby-resp-image-link embed_image-link__loaAa link_no-link-layout__RPvod" href="https://prodi.gy/docs/recipes#train-curve"><img class="embed_image__mSQUH" src="/images/prodigy_train_curve.jpg" alt="Screenshot of train curve terminal output" width="650" height="auto"/></a></figure>
</div></div></aside><p>The <a class="link_root__1Me7D" href="https://prodi.gy/docs/recipes#train-curve"><code class="code_inline-code__Bq7ot">train-curve</code></a> recipe is another
cool workflow you can include in your project. It will run the training with
different portions of the data, e.g. 25%, 50%, 75% and 100%. As a rule of thumb,
if accuracy increases in the last segment, this could indicate that collecting
more annotations of the same type might improve the model further.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml (excerpt)</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><p>You can use the same approach for various types of projects and annotation
workflows, including
<a class="link_root__1Me7D" href="https://prodi.gy/docs/named-entity-recognition">named entity recognition</a>,
<a class="link_root__1Me7D" href="https://prodi.gy/docs/span-categorization">span categorization</a>,
<a class="link_root__1Me7D" href="https://prodi.gy/docs/text-classification">text classification</a>,
<a class="link_root__1Me7D" href="https://prodi.gy/docs/dependencies-relations">dependency parsing</a>,
<a class="link_root__1Me7D" href="https://prodi.gy/docs/recipes#pos">part-of-speech tagging</a> or fully
<a class="link_root__1Me7D" href="https://prodi.gy/docs/custom-recipes">custom recipes</a>. You can also use spaCy
project templates to quickly start the annotation server to collect more
annotations and add them to your Prodigy dataset.</p><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">🪐</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/integrations/prodigy"><code class="code_inline-code__Bq7ot">integrations/prodigy</code></a></span></h4><p>Get started with spaCy and Prodigy using our project template. It includes
commands to create a merged training corpus from your Prodigy annotations,
training and packaging a spaCy pipeline and analyzing if more annotations may
improve performance.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone integrations/prodigy</textarea></div></aside><hr class="section_hr__07Hes"/><h3 id="streamlit" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#streamlit" class="heading-text typography_permalink__UiIRy">Streamlit<!-- --> </a></h3><p><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://streamlit.io">Streamlit</a> is a Python framework for building interactive
data apps. The <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-streamlit"><code class="code_inline-code__Bq7ot">spacy-streamlit</code></a>
package helps you integrate spaCy visualizations into your Streamlit apps and
quickly spin up demos to explore your pipelines interactively. It includes a
full embedded visualizer, as well as individual components.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Installation<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/spacy-streamlit.png" alt="Screenshot of the spacy-streamlit package in Streamlit" width="650" height="auto"/></figure><p>Using <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-streamlit"><code class="code_inline-code__Bq7ot">spacy-streamlit</code></a>, your
projects can easily define their own scripts that spin up an interactive
visualizer, using the latest pipeline you trained, or a selection of pipelines
so you can compare their results.</p><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">🪐</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/integrations/streamlit"><code class="code_inline-code__Bq7ot">integrations/streamlit</code></a></span></h4><p>Get started with spaCy and Streamlit using our project template. It includes a
script to spin up a custom visualizer and commands you can adjust to showcase
and explore your own custom trained pipelines.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone integrations/streamlit</textarea></div></aside><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example usage<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><p>The following script is called from the <code class="code_inline-code__Bq7ot">project.yml</code> and takes two positional
command-line argument: a comma-separated list of paths or packages to load the
pipelines from and an example text to use as the default text.</p><pre class="code_pre__kzg60"><header class="code_header__Jc0Q1"><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/blob/v3/integrations/streamlit/scripts/visualize.py"><code class="code_inline-code__Bq7ot code_inline-code-dark__ZEbch">explosion/projects/v3/integrations/streamlit/scripts/visualize.py</code></a></header><code class="code_code__CILJL code_code__CILJL code_max-height__093k6 code_code__CILJL language-python language-python code_max-height__093k6 language-python"></code></pre><hr class="section_hr__07Hes"/><h3 id="fastapi" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#fastapi" class="heading-text typography_permalink__UiIRy">FastAPI<!-- --> </a></h3><p><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://fastapi.tiangolo.com/">FastAPI</a> is a modern high-performance framework
for building REST APIs with Python, based on Python
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://fastapi.tiangolo.com/python-types/">type hints</a>. It’s become a popular
library for serving machine learning models and you can use it in your spaCy
projects to quickly serve up a trained pipeline and make it available behind a
REST API.</p><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">🪐</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/integrations/fastapi"><code class="code_inline-code__Bq7ot">integrations/fastapi</code></a></span></h4><p>Get started with spaCy and FastAPI using our project template. It includes a
simple REST API for processing batches of text, and usage examples for how to
query your API from Python and JavaScript (Vanilla JS and React).</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone integrations/fastapi</textarea></div></aside><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example usage<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><p>The script included in the template shows a simple REST API with a <code class="code_inline-code__Bq7ot">POST</code>
endpoint that accepts batches of texts and returns batches of predictions, e.g.
named entities found in the documents. Type hints and
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/samuelcolvin/pydantic"><code class="code_inline-code__Bq7ot">pydantic</code></a> are used to define the
expected data types.</p><pre class="code_pre__kzg60"><header class="code_header__Jc0Q1"><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/blob/v3/integrations/fastapi/scripts/main.py"><code class="code_inline-code__Bq7ot code_inline-code-dark__ZEbch">explosion/projects/v3/integrations/fastapi/scripts/main.py</code></a></header><code class="code_code__CILJL code_code__CILJL code_max-height__093k6 code_code__CILJL language-python language-python code_max-height__093k6 language-python"></code></pre><hr class="section_hr__07Hes"/><h3 id="wandb" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#wandb" class="heading-text typography_permalink__UiIRy">Weights &amp; Biases<!-- --> </a></h3><p><a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://www.wandb.com/">Weights &amp; Biases</a> is a popular platform for experiment
tracking. spaCy integrates with it out-of-the-box via the
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-loggers#wandblogger"><code class="code_inline-code__Bq7ot">WandbLogger</code></a>, which
you can add as the <code class="code_inline-code__Bq7ot">[training.logger]</code> block of your training
<a class="link_root__1Me7D" href="/usage/training#config">config</a>. The results of each step are then logged in
your project, together with the full <strong>training config</strong>. This means that
<em>every</em> hyperparameter, registered function name and argument will be tracked
and you’ll be able to see the impact it has on your results.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Example config<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-ini language-ini"></code></pre>
</div></div></aside><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/wandb1.jpg" alt="Screenshot: Visualized training results" width="650" height="auto"/></figure><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/wandb2.jpg" alt="Screenshot: Parameter importance using config values" width="650" height="auto"/><figcaption class="gatsby-resp-image-figcaption"></figcaption></figure><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">🪐</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/integrations/wandb"><code class="code_inline-code__Bq7ot">integrations/wandb</code></a></span></h4><p>Get started with tracking your spaCy training runs in Weights &amp; Biases using our
project template. It trains on the IMDB Movie Review Dataset and includes a
simple config with the built-in <code class="code_inline-code__Bq7ot">WandbLogger</code>, as well as a custom example of
creating variants of the config for a simple hyperparameter grid search and
logging the results.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone integrations/wandb</textarea></div></aside><hr class="section_hr__07Hes"/><h3 id="huggingface_hub" class="typography_heading__D82WZ typography_h3__mPKmB"><a href="#huggingface_hub" class="heading-text typography_permalink__UiIRy">Hugging Face Hub<!-- --> </a></h3><p>The <a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/">Hugging Face Hub</a> lets you upload models and share
them with others. It hosts models as Git-based repositories which are storage
spaces that can contain all your files. It support versioning, branches and
custom metadata out-of-the-box, and provides browser-based visualizers for
exploring your models interactively, as well as an API for production use. The
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spacy-huggingface-hub"><code class="code_inline-code__Bq7ot">spacy-huggingface-hub</code></a>
package automatically adds the <code class="code_inline-code__Bq7ot">huggingface-hub</code> command to your <code class="code_inline-code__Bq7ot">spacy</code> CLI if
it’s installed.</p><aside class="aside_root__667WA"><div class="aside_content__ZN6qm" role="complementary"><div class="aside_text__LFH_Q">
<h4 class="typography_heading__D82WZ typography_h4__CDRaM"><span class="heading-text">Installation<!-- --> </span></h4>
<pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre>
</div></div></aside><p>You can then upload any pipeline packaged with
<a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" href="/api/cli#package"><code class="code_inline-code__Bq7ot">spacy package</code></a>. Make sure to set <code class="code_inline-code__Bq7ot">--build wheel</code> to output
a binary <code class="code_inline-code__Bq7ot">.whl</code> file. The uploader will read all metadata from the pipeline
package, including the auto-generated pretty <code class="code_inline-code__Bq7ot">README.md</code> and the model details
available in the <code class="code_inline-code__Bq7ot">meta.json</code>. For examples, check out the
<a class="link_root__1Me7D" rel="noopener nofollow noreferrer" target="_blank" href="https://huggingface.co/spacy">spaCy pipelines</a> we’ve uploaded.</p><pre class="code_pre__kzg60"><code class="code_code__CILJL language-bash language-bash"></code></pre><p>After uploading, you will see the live URL of your pipeline packages, as well as
the direct URL to the model wheel you can install via <code class="code_inline-code__Bq7ot">pip install</code>. You’ll also
be able to test your pipeline interactively from your browser:</p><figure class="gatsby-resp-image-figure"><img class="embed_image__mSQUH" src="/images/huggingface_hub.jpg" alt="Screenshot: interactive NER visualizer" width="650" height="auto"/></figure><p>In your <code class="code_inline-code__Bq7ot">project.yml</code>, you can add a command that uploads your trained and
packaged pipeline to the hub. You can either run this as a manual step, or
automatically as part of a workflow. Make sure to set <code class="code_inline-code__Bq7ot">--build wheel</code> when
running <code class="code_inline-code__Bq7ot">spacy package</code> to build a wheel file for your pipeline package.</p><pre class="code_pre__kzg60"><h4 class="code_title__Zz9rs">project.yml</h4><code class="code_code__CILJL language-yaml language-yaml"></code></pre><aside class="infobox_root__yNIMg"><h4 class="infobox_title__uDT7C"><span><span class="infobox_emoji__6_YUY" aria-hidden="true">🪐</span>Get started with a project template<!-- -->:<!-- --> <a class="link_root__1Me7D link_nowrap__H7Oxl link_with-icon__NAVDA" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/projects/tree/v3/integrations/huggingface_hub"><code class="code_inline-code__Bq7ot">integrations/huggingface_hub</code></a></span></h4><p>Get started with uploading your models to the Hugging Face hub using our project
template. It trains a simple pipeline, packages it and uploads it if the
packaged model has changed. This makes it easy to deploy your models end-to-end.</p><div class="copy_root__9E6qI"><span class="copy_prefix__p_JKI">$</span><textarea readonly="" class="copy_textarea__ATeHi" rows="1" aria-label="Example bash command to start with an end-to-end template">python -m spacy project clone integrations/huggingface_hub</textarea></div></aside></section><div class="grid_root__EfDZl grid_spacing__fhBCv grid_half__xoJZs"><div style="margin-top:var(--spacing-lg)"><a class="link_root__1Me7D button_root__jwipc button_secondary__ukZAk" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/tree/master/website/docs/usage/projects.mdx">Suggest edits</a></div><a class="link_root__1Me7D readnext_root__JNzwZ link_no-link-layout__RPvod" href="/usage/saving-loading"><span><span class="typography_label__l_oVJ">Read next</span>Saving &amp; Loading</span><span class="readnext_icon__jfRnJ"></span></a></div></article><div class="main_asides__RITE5" style="background-image:url(/_next/static/media/pattern_blue.d167bed5.png"></div><footer class="footer_root__zlkjP"><div class="grid_root__EfDZl footer_content__LaE1F grid_narrow__x_6xS grid_spacing__fhBCv grid_third__edHuB"><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">spaCy</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/usage">Usage</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/models">Models</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/api">API Reference</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://course.spacy.io">Online Course</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/custom-solutions">Custom Solutions</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Community</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="/universe">Universe</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/discussions">GitHub Discussions</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy/issues">Issue Tracker</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="http://stackoverflow.com/questions/tagged/spacy">Stack Overflow</a></li></ul></section><section><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Connect</li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/spacy_io">Twitter</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/explosion/spaCy">GitHub</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" rel="noopener nofollow noreferrer" target="_blank" href="https://youtube.com/c/ExplosionAI">YouTube</a></li><li><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/blog">Blog</a></li></ul></section><section class="footer_full___icln"><ul class="footer_column__DPe22"><li class="footer_label__xK7_s">Stay in the loop!</li><li>Receive updates about new releases, tutorials and more.</li><li><form id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" action="//spacy.us12.list-manage.com/subscribe/post?u=83b0498b1e7fa3c91ce68c3f1&amp;amp;id=ecc82e0493" method="post" target="_blank" novalidate=""><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_83b0498b1e7fa3c91ce68c3f1_ecc82e0493" tabindex="-1" value=""/></div><div class="newsletter_root__uh6MU"><input class="newsletter_input___SMSB" id="mce-EMAIL" type="email" name="EMAIL" placeholder="Your email" aria-label="Your email"/><button class="newsletter_button__gKW8E" id="mc-embedded-subscribe" type="submit" name="subscribe">Sign up</button></div></form></li></ul></section></div><div class="footer_content__LaE1F footer_copy__rbjvc"><span>© 2016-<!-- -->2023<!-- --> <a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai">Explosion</a></span><a class="link_root__1Me7D footer_logo__BthsJ link_no-link-layout__RPvod" aria-label="Explosion" href="https://explosion.ai"></a><a class="link_root__1Me7D link_no-link-layout__RPvod" href="https://explosion.ai/legal">Legal / Imprint</a></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Projects","version":3,"menu":[["Intro \u0026 Workflow","intro"],["Directory \u0026 Assets","directory"],["Custom Projects","custom"],["Remote Storage","remote"],["Integrations","integrations"]],"slug":"/usage/projects","mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*TODO: update with actual real example?*/\n/*prettier-ignore*/\n/*{ TODO: \u003cProject id=\"integrations/dvc\"\u003e\u003c/Project\u003e}*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*TODO: update once version is stable*/\n/*prettier-ignore*/\n/*prettier-ignore*/\n/*prettier-ignore*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    section: \"section\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    h4: \"h4\",\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    img: \"img\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    hr: \"hr\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {InlineCode, Project, Grid, Integration, Tag, Infobox, H3, IntegrationLogo, Image} = _components;\n  if (!Grid) _missingMdxReference(\"Grid\", true);\n  if (!H3) _missingMdxReference(\"H3\", true);\n  if (!Image) _missingMdxReference(\"Image\", true);\n  if (!Infobox) _missingMdxReference(\"Infobox\", true);\n  if (!InlineCode) _missingMdxReference(\"InlineCode\", true);\n  if (!Integration) _missingMdxReference(\"Integration\", true);\n  if (!IntegrationLogo) _missingMdxReference(\"IntegrationLogo\", true);\n  if (!Project) _missingMdxReference(\"Project\", true);\n  if (!Tag) _missingMdxReference(\"Tag\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.section, {\n      id: \"section-intro\",\n      children: [_jsx(_components.h2, {\n        id: \"intro\",\n        hidden: \"true\",\n        children: \"Introduction and workflow \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"🪐 Project templates\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Our \", _jsx(_components.a, {\n            href: \"https://github.com/explosion/projects\",\n            children: _jsx(InlineCode, {\n              children: \"projects\"\n            })\n          }), \" repo includes various\\nproject templates for different NLP tasks, models, workflows and integrations\\nthat you can clone and run. The easiest way to get started is to pick a\\ntemplate, clone it and start modifying it!\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"spaCy projects let you manage and share \", _jsx(_components.strong, {\n          children: \"end-to-end spaCy workflows\"\n        }), \" for\\ndifferent \", _jsx(_components.strong, {\n          children: \"use cases and domains\"\n        }), \", and orchestrate training, packaging and\\nserving your custom pipelines. You can start off by cloning a pre-defined\\nproject template, adjust it to fit your needs, load in your data, train a\\npipeline, export it as a Python package, upload your outputs to a remote storage\\nand share your results with your team. spaCy projects can be used via the new\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project\"\n          })\n        }), \" command and we provide templates in our\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/projects\",\n          children: _jsx(InlineCode, {\n            children: \"projects\"\n          })\n        }), \" repo.\"]\n      }), _jsx(_components.img, {\n        src: \"/images/projects.svg\",\n        alt: \"Illustration of project workflow and commands\"\n      }), _jsx(Project, {\n        id: \"pipelines/tagger_parser_ud\",\n        children: _jsxs(_components.p, {\n          children: [\"The easiest way to get started is to clone a project template and run it – for\\nexample, this end-to-end template that lets you train a \", _jsx(_components.strong, {\n            children: \"part-of-speech\\ntagger\"\n          }), \" and \", _jsx(_components.strong, {\n            children: \"dependency parser\"\n          }), \" on a Universal Dependencies treebank.\"]\n        })\n      }), _jsxs(_components.p, {\n        children: [\"spaCy projects make it easy to integrate with many other \", _jsx(_components.strong, {\n          children: \"awesome tools\"\n        }), \" in\\nthe data science and machine learning ecosystem to track and manage your data\\nand experiments, iterate on demos and prototypes and ship your models into\\nproduction.\"]\n      }), _jsxs(Grid, {\n        narrow: true,\n        cols: 3,\n        children: [_jsx(Integration, {\n          title: \"DVC\",\n          logo: \"dvc\",\n          url: \"#dvc\",\n          children: _jsx(_components.p, {\n            children: \"Manage and version your data\"\n          })\n        }), _jsx(Integration, {\n          title: \"Prodigy\",\n          logo: \"prodigy\",\n          url: \"#prodigy\",\n          children: _jsx(_components.p, {\n            children: \"Create labelled training data\"\n          })\n        }), _jsx(Integration, {\n          title: \"Streamlit\",\n          logo: \"streamlit\",\n          url: \"#streamlit\",\n          children: _jsx(_components.p, {\n            children: \"Visualize and demo your pipelines\"\n          })\n        }), _jsx(Integration, {\n          title: \"FastAPI\",\n          logo: \"fastapi\",\n          url: \"#fastapi\",\n          children: _jsx(_components.p, {\n            children: \"Serve your models and host APIs\"\n          })\n        }), _jsx(Integration, {\n          title: \"Ray\",\n          logo: \"ray\",\n          url: \"#ray\",\n          children: _jsx(_components.p, {\n            children: \"Distributed and parallel training\"\n          })\n        }), _jsx(Integration, {\n          title: \"Weights \u0026 Biases\",\n          logo: \"wandb\",\n          url: \"#wandb\",\n          children: _jsx(_components.p, {\n            children: \"Track your experiments and results\"\n          })\n        }), _jsx(Integration, {\n          title: \"Hugging Face Hub\",\n          logo: \"huggingface_hub\",\n          url: \"#huggingface_hub\",\n          children: _jsx(_components.p, {\n            children: \"Upload your pipelines to the Hugging Face Hub\"\n          })\n        })]\n      }), _jsx(_components.h3, {\n        id: \"clone\",\n        children: \"1. Clone a project template \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Cloning under the hood\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"To clone a project, spaCy calls into \", _jsx(InlineCode, {\n            children: \"git\"\n          }), \" and uses the “sparse checkout”\\nfeature to only clone the relevant directory or directories.\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#project-clone\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project clone\"\n          })\n        }), \" command clones an existing\\nproject template and copies the files to a local directory. You can then run the\\nproject, e.g. to train a pipeline and edit the commands and scripts to build\\nfully custom workflows.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"python -m spacy project clone pipelines/tagger_parser_ud\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"By default, the project will be cloned into the current working directory. You\\ncan specify an optional second argument to define the output directory. The\\n\", _jsx(InlineCode, {\n          children: \"--repo\"\n        }), \" option lets you define a custom repo to clone from if you don’t want to\\nuse the spaCy \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/projects\",\n          children: _jsx(InlineCode, {\n            children: \"projects\"\n          })\n        }), \" repo. You can\\nalso use any private repo you have access to with Git.\"]\n      }), _jsx(_components.h3, {\n        id: \"assets\",\n        children: \"2. Fetch the project assets \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  - dest: 'assets/training.spacy'\\n    url: 'https://example.com/data.spacy'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n  - dest: 'assets/development.spacy'\\n    git:\\n      repo: 'https://github.com/example/repo'\\n      branch: 'master'\\n      path: 'path/development.spacy'\\n    checksum: '5113dc04e03f079525edd8df3f4f39e3'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Assets are data files your project needs – for example, the training and\\nevaluation data or pretrained vectors and embeddings to initialize your model\\nwith. Each project template comes with a \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" that defines the assets\\nto download and where to put them. The \", _jsx(_components.a, {\n          href: \"/api/cli#run\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project assets\"\n          })\n        }), \"\\nwill fetch the project assets for you:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ cd some_example_project\\n$ python -m spacy project assets\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Asset URLs can be a number of different protocols: HTTP, HTTPS, FTP, SSH, and\\neven cloud storage such as GCS and S3. You can also fetch assets using git, by\\nreplacing the \", _jsx(InlineCode, {\n          children: \"url\"\n        }), \" string with a \", _jsx(InlineCode, {\n          children: \"git\"\n        }), \" block. spaCy will use Git’s “sparse\\ncheckout” feature to avoid downloading the whole repository.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Sometimes your project configuration may include large assets that you don’t\\nnecessarily want to download when you run \", _jsx(InlineCode, {\n          children: \"spacy project assets\"\n        }), \". That’s why\\nassets can be marked as \", _jsx(_components.a, {\n          href: \"#data-assets-url\",\n          children: _jsx(InlineCode, {\n            children: \"extra\"\n          })\n        }), \" - by default, these assets\\nare not downloaded. If they should be, run \", _jsx(InlineCode, {\n          children: \"spacy project assets --extra\"\n        }), \".\"]\n      }), _jsx(_components.h3, {\n        id: \"run\",\n        children: \"3. Run a command \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"commands:\\n  - name: preprocess\\n    help: \\\"Convert the input data to spaCy's format\\\"\\n    script:\\n      - 'python -m spacy convert assets/train.conllu corpus/'\\n      - 'python -m spacy convert assets/eval.conllu corpus/'\\n    deps:\\n      - 'assets/train.conllu'\\n      - 'assets/eval.conllu'\\n    outputs:\\n      - 'corpus/train.spacy'\\n      - 'corpus/eval.spacy'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Commands consist of one or more steps and can be run with\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-run\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project run\"\n          })\n        }), \". The following will run the command\\n\", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \" defined in the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project run preprocess\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Commands can define their expected \", _jsx(_components.a, {\n          href: \"#deps-outputs\",\n          children: \"dependencies and outputs\"\n        }), \"\\nusing the \", _jsx(InlineCode, {\n          children: \"deps\"\n        }), \" (files the commands require) and \", _jsx(InlineCode, {\n          children: \"outputs\"\n        }), \" (files the commands\\ncreate) keys. This allows your project to track changes and determine whether a\\ncommand needs to be re-run. For instance, if your input data changes, you want\\nto re-run the \", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \" command. But if nothing changed, this step can be\\nskipped. You can also set \", _jsx(InlineCode, {\n          children: \"--force\"\n        }), \" to force re-running a command, or \", _jsx(InlineCode, {\n          children: \"--dry\"\n        }), \" to\\nperform a “dry run” and see what would happen (without actually running the\\nscript).\"]\n      }), _jsxs(_components.p, {\n        children: [\"Since spaCy v3.4.2, \", _jsx(InlineCode, {\n          children: \"spacy projects run\"\n        }), \" checks your installed dependencies to\\nverify that your environment is properly set up and aligns with the project’s\\n\", _jsx(InlineCode, {\n          children: \"requirements.txt\"\n        }), \", if there is one. If missing or conflicting dependencies are\\ndetected, a corresponding warning is displayed. If you’d like to disable the\\ndependency check, set \", _jsx(InlineCode, {\n          children: \"check_requirements: false\"\n        }), \" in your project’s\\n\", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \".\"]\n      }), _jsx(_components.h3, {\n        id: \"run-workfow\",\n        children: \"4. Run a workflow \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"workflows:\\n  all:\\n    - preprocess\\n    - train\\n    - package\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"Workflows are series of commands that are run in order and often depend on each\\nother. For instance, to generate a pipeline package, you might start by\\nconverting your data, then run \", _jsx(_components.a, {\n          href: \"/api/cli#train\",\n          children: _jsx(InlineCode, {\n            children: \"spacy train\"\n          })\n        }), \" to train your\\npipeline on the converted data and if that’s successful, run\\n\", _jsx(_components.a, {\n          href: \"/api/cli#package\",\n          children: _jsx(InlineCode, {\n            children: \"spacy package\"\n          })\n        }), \" to turn the best trained artifact into an\\ninstallable Python package. The following command runs the workflow named \", _jsx(InlineCode, {\n          children: \"all\"\n        }), \"\\ndefined in the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \", and executes the commands it specifies, in order:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project run all\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Using the expected \", _jsx(_components.a, {\n          href: \"#deps-outputs\",\n          children: \"dependencies and outputs\"\n        }), \" defined in the\\ncommands, spaCy can determine whether to re-run a command (if its inputs or\\noutputs have changed) or whether to skip it. If you’re looking to implement more\\nadvanced data pipelines and track your changes in Git, check out the\\n\", _jsx(_components.a, {\n          href: \"#dvc\",\n          children: \"Data Version Control (DVC) integration\"\n        }), \". The\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-dvc\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project dvc\"\n          })\n        }), \" command generates a DVC config file\\nfrom a workflow defined in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" so you can manage your spaCy\\nproject as a DVC repo.\"]\n      }), _jsx(_components.h3, {\n        id: \"push\",\n        children: \"5. Optional: Push to remote storage \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            title: \"project.yml\",\n            children: \"remotes:\\n  default: 's3://my-spacy-bucket'\\n  local: '/mnt/scratch/cache'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"After training a pipeline, you can optionally use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project push\"\n          })\n        }), \" command to upload your outputs to\\na remote storage, using protocols like \", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/s3/\",\n          children: \"S3\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://cloud.google.com/storage\",\n          children: \"Google Cloud Storage\"\n        }), \" or SSH. This can help\\nyou \", _jsx(_components.strong, {\n          children: \"export\"\n        }), \" your pipeline packages, \", _jsx(_components.strong, {\n          children: \"share\"\n        }), \" work with your team, or \", _jsx(_components.strong, {\n          children: \"cache\\nresults\"\n        }), \" to avoid repeating work.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project push\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"remotes\"\n        }), \" section in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" lets you assign names to the\\ndifferent storages. To download state from a remote storage, you can use the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-pull\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project pull\"\n          })\n        }), \" command. For more details, see the\\ndocs on \", _jsx(_components.a, {\n          href: \"#remote\",\n          children: \"remote storage\"\n        }), \".\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-directory\",\n      children: [_jsx(_components.h2, {\n        id: \"directory\",\n        children: \"Project directory and assets \"\n      }), _jsx(_components.h3, {\n        id: \"project-yml\",\n        children: \"project.yml \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" defines the assets a project depends on, like datasets and\\npretrained weights, as well as a series of commands that can be run separately\\nor as a workflow – for instance, to preprocess the data, convert it to spaCy’s\\nformat, train a pipeline, evaluate it and export metrics, package it and spin up\\na quick web demo. It looks pretty similar to a config file used to define CI\\npipelines.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Tip: Multi-line YAML syntax for long values\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"YAML has \", _jsx(_components.a, {\n            href: \"https://yaml-multiline.info/\",\n            children: \"multi-line syntax\"\n          }), \" that can be helpful\\nfor readability with longer values such as project descriptions or commands\\nthat take several arguments.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          github: \"https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud/project.yml\",\n          children: \"https://github.com/explosion/projects/tree/v3/pipelines/tagger_parser_ud/project.yml\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Tip: Overriding variables on the CLI\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"If you want to override one or more variables on the CLI and are not already\\nspecifying a project directory, you need to add \", _jsx(InlineCode, {\n            children: \".\"\n          }), \" as a placeholder:\"]\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            lang: \"none\",\n            children: \"python -m spacy project run test . --vars.foo bar\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Tip: Environment Variables\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Commands in a project file are not executed in a shell, so they don’t have\\ndirect access to environment variables. But you can insert environment\\nvariables using the \", _jsx(InlineCode, {\n            children: \"env\"\n          }), \" dictionary to make values available for\\ninterpolation, just like values in \", _jsx(InlineCode, {\n            children: \"vars\"\n          }), \". Here’s an example \", _jsx(InlineCode, {\n            children: \"env\"\n          }), \" dict that\\nmakes \", _jsx(InlineCode, {\n            children: \"$PATH\"\n          }), \" available as \", _jsx(InlineCode, {\n            children: \"ENV_PATH\"\n          }), \":\"]\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"env:\\n  ENV_PATH: PATH\\n\"\n          })\n        }), \"\\n\", _jsx(_components.p, {\n          children: \"This can be used in a project command like so:\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"- name: 'echo-path'\\n  script:\\n    - 'echo ${env.ENV_PATH}'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Section\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"title\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional project title used in \", _jsx(InlineCode, {\n                children: \"--help\"\n              }), \" message and \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"description\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional project description used in \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"vars\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A dictionary of variables that can be referenced in paths, URLs and scripts and overriden on the CLI, just like \", _jsxs(_components.a, {\n                href: \"/usage/training#config-interpolation\",\n                children: [_jsx(InlineCode, {\n                  children: \"config.cfg\"\n                }), \" variables\"]\n              }), \". For example, \", _jsx(InlineCode, {\n                children: \"${vars.name}\"\n              }), \" will use the value of the variable \", _jsx(InlineCode, {\n                children: \"name\"\n              }), \". Variables need to be defined in the section \", _jsx(InlineCode, {\n                children: \"vars\"\n              }), \", but can be a nested dict, so you’re able to reference \", _jsx(InlineCode, {\n                children: \"${vars.model.name}\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"env\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A dictionary of variables, mapped to the names of environment variables that will be read in when running the project. For example, \", _jsx(InlineCode, {\n                children: \"${env.name}\"\n              }), \" will use the value of the environment variable defined as \", _jsx(InlineCode, {\n                children: \"name\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"directories\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"An optional list of \", _jsx(_components.a, {\n                href: \"#project-files\",\n                children: \"directories\"\n              }), \" that should be created in the project for assets, training outputs, metrics etc. spaCy will make sure that these directories always exist.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"assets\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A list of assets that can be fetched with the \", _jsx(_components.a, {\n                href: \"/api/cli#project-assets\",\n                children: _jsx(InlineCode, {\n                  children: \"project assets\"\n                })\n              }), \" command. \", _jsx(InlineCode, {\n                children: \"url\"\n              }), \" defines a URL or local path, \", _jsx(InlineCode, {\n                children: \"dest\"\n              }), \" is the destination file relative to the project directory, and an optional \", _jsx(InlineCode, {\n                children: \"checksum\"\n              }), \" ensures that an error is raised if the file’s checksum doesn’t match. Instead of \", _jsx(InlineCode, {\n                children: \"url\"\n              }), \", you can also provide a \", _jsx(InlineCode, {\n                children: \"git\"\n              }), \" block with the keys \", _jsx(InlineCode, {\n                children: \"repo\"\n              }), \", \", _jsx(InlineCode, {\n                children: \"branch\"\n              }), \" and \", _jsx(InlineCode, {\n                children: \"path\"\n              }), \", to download from a Git repo.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"workflows\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A dictionary of workflow names, mapped to a list of command names, to execute in order. Workflows can be run with the \", _jsx(_components.a, {\n                href: \"/api/cli#project-run\",\n                children: _jsx(InlineCode, {\n                  children: \"project run\"\n                })\n              }), \" command.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"commands\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"A list of named commands. A command can define an optional help message (shown in the CLI when the user adds \", _jsx(InlineCode, {\n                children: \"--help\"\n              }), \") and the \", _jsx(InlineCode, {\n                children: \"script\"\n              }), \", a list of commands to run. The \", _jsx(InlineCode, {\n                children: \"deps\"\n              }), \" and \", _jsx(InlineCode, {\n                children: \"outputs\"\n              }), \" let you define the created file the command depends on and produces, respectively. This lets spaCy determine whether a command needs to be re-run because its dependencies or outputs changed. Commands can be run as part of a workflow, or separately with the \", _jsx(_components.a, {\n                href: \"/api/cli#project-run\",\n                children: _jsx(InlineCode, {\n                  children: \"project run\"\n                })\n              }), \" command.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"spacy_version\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional spaCy version range like \", _jsx(InlineCode, {\n                children: \"\u003e=3.0.0,\u003c3.1.0\"\n              }), \" that the project is compatible with. If it’s loaded with an incompatible version, an error is raised when the project is loaded.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"check_requirements\"\n              }), \" \", _jsx(Tag, {\n                variant: \"new\",\n                children: \"3.4.2\"\n              })]\n            }), _jsxs(_components.td, {\n              children: [\"A flag determining whether to verify that the installed dependencies align with the project’s \", _jsx(InlineCode, {\n                children: \"requirements.txt\"\n              }), \". Defaults to \", _jsx(InlineCode, {\n                children: \"true\"\n              }), \".\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h3, {\n        id: \"data-assets\",\n        children: \"Data assets \"\n      }), _jsxs(_components.p, {\n        children: [\"Assets are any files that your project might need, like training and development\\ncorpora or pretrained weights for initializing your model. Assets are defined in\\nthe \", _jsx(InlineCode, {\n          children: \"assets\"\n        }), \" block of your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" and can be downloaded using the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-assets\",\n          children: _jsx(InlineCode, {\n            children: \"project assets\"\n          })\n        }), \" command. Defining checksums lets you\\nverify that someone else running your project will use the same files you used.\\nAsset URLs can be a number of different \", _jsx(_components.strong, {\n          children: \"protocols\"\n        }), \": HTTP, HTTPS, FTP, SSH,\\nand even \", _jsx(_components.strong, {\n          children: \"cloud storage\"\n        }), \" such as GCS and S3. You can also download assets from\\na \", _jsx(_components.strong, {\n          children: \"Git repo\"\n        }), \" instead.\"]\n      }), _jsx(_components.h4, {\n        id: \"data-assets-url\",\n        children: \"Downloading from a URL or cloud storage \"\n      }), _jsxs(_components.p, {\n        children: [\"Under the hood, spaCy uses the\\n\", _jsx(_components.a, {\n          href: \"https://github.com/RaRe-Technologies/smart_open\",\n          children: _jsx(InlineCode, {\n            children: \"smart-open\"\n          })\n        }), \" library so you\\ncan use any protocol it supports. Note that you may need to install extra\\ndependencies to use certain protocols.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  # Download from public HTTPS URL\\n  - dest: 'assets/training.spacy'\\n    url: 'https://example.com/data.spacy'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n  # Optional download from Google Cloud Storage bucket\\n  - dest: 'assets/development.spacy'\\n    extra: True\\n    url: 'gs://your-bucket/corpora'\\n    checksum: '5113dc04e03f079525edd8df3f4f39e3'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"dest\"\n              })\n            }), _jsx(_components.td, {\n              children: \"The destination path to save the downloaded asset to (relative to the project directory), including the file name.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"extra\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional flag determining whether this asset is downloaded only if \", _jsx(InlineCode, {\n                children: \"spacy project assets\"\n              }), \" is run with \", _jsx(InlineCode, {\n                children: \"--extra\"\n              }), \". \", _jsx(InlineCode, {\n                children: \"False\"\n              }), \" by default.\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"url\"\n              })\n            }), _jsx(_components.td, {\n              children: \"The URL to download from, using the respective protocol.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"checksum\"\n              })\n            }), _jsx(_components.td, {\n              children: \"Optional checksum of the file. If provided, it will be used to verify that the file matches and downloads will be skipped if a local file with the same checksum already exists.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"description\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional asset description, used in \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h4, {\n        id: \"data-assets-git\",\n        children: \"Downloading from a Git repo \"\n      }), _jsxs(_components.p, {\n        children: [\"If a \", _jsx(InlineCode, {\n          children: \"git\"\n        }), \" block is provided, the asset is downloaded from the given Git\\nrepository. You can download from any repo that you have access to. Under the\\nhood, this uses Git’s “sparse checkout” feature, so you’re only downloading the\\nfiles you need and not the whole repo.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  - dest: 'assets/training.spacy'\\n    git:\\n      repo: 'https://github.com/example/repo'\\n      branch: 'master'\\n      path: 'path/training.spacy'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n    description: 'The training data (5000 examples)'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.table, {\n        children: [_jsx(_components.thead, {\n          children: _jsxs(_components.tr, {\n            children: [_jsx(_components.th, {\n              children: \"Name\"\n            }), _jsx(_components.th, {\n              children: \"Description\"\n            })]\n          })\n        }), _jsxs(_components.tbody, {\n          children: [_jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"dest\"\n              })\n            }), _jsx(_components.td, {\n              children: \"The destination path to save the downloaded asset to (relative to the project directory), including the file name.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"git\"\n              })\n            }), _jsxs(_components.td, {\n              children: [_jsx(InlineCode, {\n                children: \"repo\"\n              }), \": The URL of the repo to download from.\", _jsx(\"br\", {}), _jsx(InlineCode, {\n                children: \"path\"\n              }), \": Path of the file or directory to download, relative to the repo root. \\\"\\\" specifies the root directory.\", _jsx(\"br\", {}), _jsx(InlineCode, {\n                children: \"branch\"\n              }), \": The branch to download from. Defaults to \", _jsx(InlineCode, {\n                children: \"\\\"master\\\"\"\n              }), \".\"]\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"checksum\"\n              })\n            }), _jsx(_components.td, {\n              children: \"Optional checksum of the file. If provided, it will be used to verify that the file matches and downloads will be skipped if a local file with the same checksum already exists.\"\n            })]\n          }), _jsxs(_components.tr, {\n            children: [_jsx(_components.td, {\n              children: _jsx(InlineCode, {\n                children: \"description\"\n              })\n            }), _jsxs(_components.td, {\n              children: [\"Optional asset description, used in \", _jsx(_components.a, {\n                href: \"#custom-docs\",\n                children: \"auto-generated docs\"\n              }), \".\"]\n            })]\n          })]\n        })]\n      }), _jsx(_components.h4, {\n        id: \"data-asets-private\",\n        children: \"Working with private assets \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"assets:\\n  - dest: 'assets/private_training_data.json'\\n    checksum: '63373dd656daa1fd3043ce166a59474c'\\n  - dest: 'assets/private_vectors.bin'\\n    checksum: '5113dc04e03f079525edd8df3f4f39e3'\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"For many projects, the datasets and weights you’re working with might be\\ncompany-internal and not available over the internet. In that case, you can\\nspecify the destination paths and a checksum, and leave out the URL. When your\\nteammates clone and run your project, they can place the files in the respective\\ndirectory themselves. The \", _jsx(_components.a, {\n          href: \"/api/cli#project-assets\",\n          children: _jsx(InlineCode, {\n            children: \"project assets\"\n          })\n        }), \" command\\nwill alert you about missing files and mismatched checksums, so you can ensure\\nthat others are running your project with the same data.\"]\n      }), _jsx(_components.h3, {\n        id: \"deps-outputs\",\n        children: \"Dependencies and outputs \"\n      }), _jsxs(_components.p, {\n        children: [\"Each command defined in the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" can optionally define a list of\\ndependencies and outputs. These are the files the command requires and creates.\\nFor example, a command for training a pipeline may depend on a\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: _jsx(InlineCode, {\n            children: \"config.cfg\"\n          })\n        }), \" and the training and evaluation data, and\\nit will export a directory \", _jsx(InlineCode, {\n          children: \"model-best\"\n        }), \", which you can then re-use in other\\ncommands.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"commands:\\n  - name: train\\n    help: 'Train a spaCy pipeline using the specified corpus and config'\\n    script:\\n      - 'python -m spacy train ./configs/config.cfg -o training/ --paths.train ./corpus/training.spacy --paths.dev ./corpus/evaluation.spacy'\\n    deps:\\n      - 'configs/config.cfg'\\n      - 'corpus/training.spacy'\\n      - 'corpus/evaluation.spacy'\\n    outputs:\\n      - 'training/model-best'\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Re-running vs. skipping\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Under the hood, spaCy uses a \", _jsx(InlineCode, {\n            children: \"project.lock\"\n          }), \" lockfile that stores the details\\nfor each command, as well as its dependencies and outputs and their checksums.\\nIt’s updated on each run. If any of this information changes, the command will\\nbe re-run. Otherwise, it will be skipped.\"]\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"If you’re running a command and it depends on files that are missing, spaCy will\\nshow you an error. If a command defines dependencies and outputs that haven’t\\nchanged since the last run, the command will be skipped. This means that you’re\\nonly re-running commands if they need to be re-run. Commands can also set\\n\", _jsx(InlineCode, {\n          children: \"no_skip: true\"\n        }), \" if they should never be skipped – for example commands that run\\ntests. Commands without outputs are also never skipped. To force re-running a\\ncommand or workflow, even if nothing changed, you can set the \", _jsx(InlineCode, {\n          children: \"--force\"\n        }), \" flag.\"]\n      }), _jsxs(_components.p, {\n        children: [\"Note that \", _jsx(_components.a, {\n          href: \"/api/cli#project\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project\"\n          })\n        }), \" doesn’t compile any dependency\\ngraphs based on the dependencies and outputs, and won’t re-run previous steps\\nautomatically. For instance, if you only run the command \", _jsx(InlineCode, {\n          children: \"train\"\n        }), \" that depends on\\ndata created by \", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \" and those files are missing, spaCy will show an\\nerror – it won’t just re-run \", _jsx(InlineCode, {\n          children: \"preprocess\"\n        }), \". If you’re looking for more advanced\\ndata management, check out the \", _jsx(_components.a, {\n          href: \"#dvc\",\n          children: \"Data Version Control (DVC) integration\"\n        }), \".\\nIf you’re planning on integrating your spaCy project with DVC, you can also use\\n\", _jsx(InlineCode, {\n          children: \"outputs_no_cache\"\n        }), \" instead of \", _jsx(InlineCode, {\n          children: \"outputs\"\n        }), \" to define outputs that won’t be cached\\nor tracked.\"]\n      }), _jsx(_components.h3, {\n        id: \"project-files\",\n        children: \"Files and directory structure \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" can define a list of \", _jsx(InlineCode, {\n          children: \"directories\"\n        }), \" that should be created\\nwithin a project – for instance, \", _jsx(InlineCode, {\n          children: \"assets\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"training\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"corpus\"\n        }), \" and so on. spaCy\\nwill make sure that these directories are always available, so your commands can\\nwrite to and read from them. Project directories will also include all files and\\ndirectories copied from the project template with\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-clone\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project clone\"\n          })\n        }), \". Here’s an example of a project\\ndirectory:\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"project.yml\"\n        }), \"\\n\", \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"directories: ['assets', 'configs', 'corpus', 'metas', 'metrics', 'notebooks', 'packages', 'scripts', 'training']\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"Example project directory\",\n          children: \"├── project.yml          # the project settings\\n├── project.lock         # lockfile that tracks inputs/outputs\\n├── assets/              # downloaded data assets\\n├── configs/             # pipeline config.cfg files used for training\\n├── corpus/              # output directory for training corpus\\n├── metas/               # pipeline meta.json templates used for packaging\\n├── metrics/             # output directory for evaluation metrics\\n├── notebooks/           # directory for Jupyter notebooks\\n├── packages/            # output directory for pipeline Python packages\\n├── scripts/             # directory for scripts, e.g. referenced in commands\\n├── training/            # output directory for trained pipelines\\n└── ...                  # any other files, like a requirements.txt etc.\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you don’t want a project to create a directory, you can delete it and remove\\nits entry from the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" – just make sure it’s not required by any of\\nthe commands. \", _jsx(_components.a, {\n          href: \"#custom\",\n          children: \"Custom templates\"\n        }), \" can use any directories they need –\\nthe only file that’s required for a project is the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \".\"]\n      }), _jsx(_components.hr, {})]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-custom\",\n      children: [_jsx(_components.h2, {\n        id: \"custom\",\n        children: \"Custom scripts and projects \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" lets you define any custom commands and run them as part of\\nyour training, evaluation or deployment workflows. The \", _jsx(InlineCode, {\n          children: \"script\"\n        }), \" section defines\\na list of commands that are called in a subprocess, in order. This lets you\\nexecute other Python scripts or command-line tools. Let’s say you’ve written a\\nfew integration tests that load the best model produced by the training command\\nand check that it works correctly. You can now define a \", _jsx(InlineCode, {\n          children: \"test\"\n        }), \" command that\\ncalls into \", _jsx(_components.a, {\n          href: \"https://docs.pytest.org/en/latest/\",\n          children: _jsx(InlineCode, {\n            children: \"pytest\"\n          })\n        }), \", runs your tests and\\nuses \", _jsx(_components.a, {\n          href: \"https://github.com/pytest-dev/pytest-html\",\n          children: _jsx(InlineCode, {\n            children: \"pytest-html\"\n          })\n        }), \" to export a test\\nreport:\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"commands:\\n  - name: test\\n    help: 'Test the trained pipeline'\\n    script:\\n      - 'pip install pytest pytest-html'\\n      - 'python -m pytest ./scripts/tests --html=metrics/test-report.html'\\n    deps:\\n      - 'training/model-best'\\n    outputs:\\n      - 'metrics/test-report.html'\\n    no_skip: true\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Adding \", _jsx(InlineCode, {\n          children: \"training/model-best\"\n        }), \" to the command’s \", _jsx(InlineCode, {\n          children: \"deps\"\n        }), \" lets you ensure that the\\nfile is available. If not, spaCy will show an error and the command won’t run.\\nSetting \", _jsx(InlineCode, {\n          children: \"no_skip: true\"\n        }), \" means that the command will always run, even if the\\ndependencies (the trained pipeline) haven’t changed. This makes sense here,\\nbecause you typically don’t want to skip your tests.\"]\n      }), _jsx(_components.h3, {\n        id: \"custom-scripts\",\n        children: \"Writing custom scripts \"\n      }), _jsxs(_components.p, {\n        children: [\"Your project commands can include any custom scripts – essentially, anything you\\ncan run from the command line. Here’s an example of a custom script that uses\\n\", _jsx(_components.a, {\n          href: \"https://typer.tiangolo.com/\",\n          children: _jsx(InlineCode, {\n            children: \"typer\"\n          })\n        }), \" for quick and easy command-line arguments\\nthat you can define via your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \":\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"About Typer\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.a, {\n            href: \"https://typer.tiangolo.com/\",\n            children: _jsx(InlineCode, {\n              children: \"typer\"\n            })\n          }), \" is a modern library for building Python\\nCLIs using type hints. It’s a dependency of spaCy, so it will already be\\npre-installed in your environment. Function arguments automatically become\\npositional CLI arguments and using Python type hints, you can define the value\\ntypes. For instance, \", _jsx(InlineCode, {\n            children: \"batch_size: int\"\n          }), \" means that the value provided via the\\ncommand line is converted to an integer.\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          title: \"scripts/custom_evaluation.py\",\n          children: \"import typer\\n\\ndef custom_evaluation(batch_size: int = 128, model_path: str, data_path: str):\\n    # The arguments are now available as positional CLI arguments\\n    print(batch_size, model_path, data_path)\\n\\nif __name__ == \\\"__main__\\\":\\n    typer.run(custom_evaluation)\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"In your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \", you can then run the script by calling\\n\", _jsx(InlineCode, {\n          children: \"python scripts/custom_evaluation.py\"\n        }), \" with the function arguments. You can also\\nuse the \", _jsx(InlineCode, {\n          children: \"vars\"\n        }), \" section to define reusable variables that will be substituted in\\ncommands, paths and URLs. In this example, the batch size is defined as a\\nvariable will be added in place of \", _jsx(InlineCode, {\n          children: \"${vars.batch_size}\"\n        }), \" in the script. Just like\\nin the \", _jsx(_components.a, {\n          href: \"/usage/training##config-overrides\",\n          children: \"training config\"\n        }), \", you can also\\noverride settings on the command line – for example using \", _jsx(InlineCode, {\n          children: \"--vars.batch_size\"\n        }), \".\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Calling into Python\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"If any of your command scripts call into \", _jsx(InlineCode, {\n            children: \"python\"\n          }), \", spaCy will take care of\\nreplacing that with your \", _jsx(InlineCode, {\n            children: \"sys.executable\"\n          }), \", to make sure you’re executing\\neverything with the same Python (not some other Python installed on your\\nsystem). It also normalizes references to \", _jsx(InlineCode, {\n            children: \"python3\"\n          }), \", \", _jsx(InlineCode, {\n            children: \"pip3\"\n          }), \" and \", _jsx(InlineCode, {\n            children: \"pip\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"vars:\\n  batch_size: 128\\n\\ncommands:\\n  - name: evaluate\\n    script:\\n      - 'python scripts/custom_evaluation.py ${vars.batch_size} ./training/model-best ./corpus/eval.json'\\n    deps:\\n      - 'training/model-best'\\n      - 'corpus/eval.json'\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"You can also use the \", _jsx(InlineCode, {\n          children: \"env\"\n        }), \" section to reference \", _jsx(_components.strong, {\n          children: \"environment variables\"\n        }), \" and\\nmake their values available to the commands. This can be useful for overriding\\nsettings on the command line and passing through system-level settings.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Usage example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"export GPU_ID=1\\nBATCH_SIZE=128 python -m spacy project run evaluate\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"env:\\n  batch_size: BATCH_SIZE\\n  gpu_id: GPU_ID\\n\\ncommands:\\n  - name: evaluate\\n    script:\\n      - 'python scripts/custom_evaluation.py ${env.batch_size}'\\n\"\n        })\n      }), _jsx(_components.h3, {\n        id: \"custom-docs\",\n        children: \"Documenting your project \"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Readme Example\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"For more examples, see the \", _jsx(_components.a, {\n            href: \"https://github.com/explosion/projects\",\n            children: _jsx(InlineCode, {\n              children: \"projects\"\n            })\n          }), \"\\nrepo.\"]\n        }), \"\\n\", _jsx(_components.img, {\n          src: \"/images/project_document.jpg\",\n          alt: \"Screenshot of auto-generated Markdown Readme\"\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"When your custom project is ready and you want to share it with others, you can\\nuse the \", _jsx(_components.a, {\n          href: \"/api/cli#project-document\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project document\"\n          })\n        }), \" command to\\n\", _jsx(_components.strong, {\n          children: \"auto-generate\"\n        }), \" a pretty, Markdown-formatted \", _jsx(InlineCode, {\n          children: \"README\"\n        }), \" file based on your\\nproject’s \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \". It will list all commands, workflows and assets defined\\nin the project and include details on how to run the project, as well as links\\nto the relevant spaCy documentation to make it easy for others to get started\\nusing your project.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project document --output README.md\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Under the hood, hidden markers are added to identify where the auto-generated\\ncontent starts and ends. This means that you can add your own custom content\\nbefore or after it and re-running the \", _jsx(InlineCode, {\n          children: \"project document\"\n        }), \" command will \", _jsx(_components.strong, {\n          children: \"only\\nupdate the auto-generated part\"\n        }), \". This makes it easy to keep your documentation\\nup to date.\"]\n      }), _jsx(Infobox, {\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"Note that the contents of an existing file will be \", _jsx(_components.strong, {\n            children: \"replaced\"\n          }), \" if no existing\\nauto-generated docs are found. If you want spaCy to ignore a file and not update\\nit, you can add the comment marker \", _jsx(InlineCode, {\n            children: \"{/* SPACY PROJECT: IGNORE */}\"\n          }), \" anywhere in\\nyour markup.\"]\n        })\n      }), _jsx(_components.h3, {\n        id: \"custom-repo\",\n        children: \"Cloning from your own repo \"\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#project-clone\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project clone\"\n          })\n        }), \" command lets you customize\\nthe repo to clone from using the \", _jsx(InlineCode, {\n          children: \"--repo\"\n        }), \" option. It calls into \", _jsx(InlineCode, {\n          children: \"git\"\n        }), \", so you’ll\\nbe able to clone from any repo that you have access to, including private repos.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"python -m spacy project clone your_project --repo https://github.com/you/repo\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"At a minimum, a valid project template needs to contain a\\n\", _jsx(_components.a, {\n          href: \"#project-yml\",\n          children: _jsx(InlineCode, {\n            children: \"project.yml\"\n          })\n        }), \". It can also include\\n\", _jsx(_components.a, {\n          href: \"/usage/projects#project-files\",\n          children: \"other files\"\n        }), \", like custom scripts, a\\n\", _jsx(InlineCode, {\n          children: \"requirements.txt\"\n        }), \" listing additional dependencies,\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: \"training configs\"\n        }), \" and model meta templates, or Jupyter\\nnotebooks with usage examples.\"]\n      }), _jsx(Infobox, {\n        title: \"Important note about assets\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"It’s typically not a good idea to check large data assets, trained pipelines or\\nother artifacts into a Git repo and you should exclude them from your project\\ntemplate by adding a \", _jsx(InlineCode, {\n            children: \".gitignore\"\n          }), \". If you want to version your data and models,\\ncheck out \", _jsx(_components.a, {\n            href: \"#dvc\",\n            children: \"Data Version Control\"\n          }), \" (DVC), which integrates with spaCy\\nprojects.\"]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-remote\",\n      children: [_jsx(_components.h2, {\n        id: \"remote\",\n        children: \"Remote Storage \"\n      }), _jsxs(_components.p, {\n        children: [\"You can persist your project outputs to a remote storage using the\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" command. This can help you \", _jsx(_components.strong, {\n          children: \"export\"\n        }), \"\\nyour pipeline packages, \", _jsx(_components.strong, {\n          children: \"share\"\n        }), \" work with your team, or \", _jsx(_components.strong, {\n          children: \"cache results\"\n        }), \" to\\navoid repeating work. The \", _jsx(_components.a, {\n          href: \"/api/cli#project-pull\",\n          children: _jsx(InlineCode, {\n            children: \"project pull\"\n          })\n        }), \" command will\\ndownload any outputs that are in the remote storage and aren’t available\\nlocally.\"]\n      }), _jsxs(_components.p, {\n        children: [\"You can list one or more remotes in the \", _jsx(InlineCode, {\n          children: \"remotes\"\n        }), \" section of your\\n\", _jsx(_components.a, {\n          href: \"#project-yml\",\n          children: _jsx(InlineCode, {\n            children: \"project.yml\"\n          })\n        }), \" by mapping a string name to the URL of the\\nstorage. Under the hood, spaCy uses\\n\", _jsx(_components.a, {\n          href: \"https://github.com/justindujardin/pathy\",\n          children: _jsx(InlineCode, {\n            children: \"Pathy\"\n          })\n        }), \" to communicate with the\\nremote storages, so you can use any protocol that \", _jsx(InlineCode, {\n          children: \"Pathy\"\n        }), \" supports, including\\n\", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/s3/\",\n          children: \"S3\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://cloud.google.com/storage\",\n          children: \"Google Cloud Storage\"\n        }), \", and the local\\nfilesystem, although you may need to install extra dependencies to use certain\\nprotocols.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project pull local\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"remotes:\\n  default: 's3://my-spacy-bucket'\\n  local: '/mnt/scratch/cache'\\n\"\n        })\n      }), _jsxs(Infobox, {\n        title: \"How it works\",\n        emoji: \"💡\",\n        children: [_jsxs(_components.p, {\n          children: [\"Inside the remote storage, spaCy uses a clever \", _jsx(_components.strong, {\n            children: \"directory structure\"\n          }), \" to avoid\\noverwriting files. The top level of the directory structure is a URL-encoded\\nversion of the output’s path. Within this directory are subdirectories named\\naccording to a hash of the command string and the command’s dependencies.\\nFinally, within those directories are files, named according to an MD5 hash of\\ntheir contents.\"]\n        }), _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-yaml\",\n            lang: \"yaml\",\n            children: \"└── urlencoded_file_path            # Path of original file\\n    ├── some_command_hash           # Hash of command you ran\\n    │   ├── some_content_hash       # Hash of file content\\n    │   └── another_content_hash\\n    └── another_command_hash\\n        └── third_content_hash\\n\"\n          })\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"For instance, let’s say you had the following command in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \":\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"- name: train\\n  help: 'Train a spaCy pipeline using the specified corpus and config'\\n  script:\\n    - 'spacy train ./config.cfg --output training/'\\n  deps:\\n    - 'corpus/train'\\n    - 'corpus/dev'\\n    - 'config.cfg'\\n  outputs:\\n    - 'training/model-best'\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            lang: \"none\",\n            children: \"└── s3://my-spacy-bucket/training%2Fmodel-best\\n    └── 1d8cb33a06cc345ad3761c6050934a1b\\n        └── d8e20c3537a084c5c10d95899fe0b1ff\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"After you finish training, you run \", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" to\\nmake sure the \", _jsx(InlineCode, {\n          children: \"training/model-best\"\n        }), \" output is saved to remote storage. spaCy\\nwill then construct a hash from your command script and the listed dependencies,\\n\", _jsx(InlineCode, {\n          children: \"corpus/train\"\n        }), \", \", _jsx(InlineCode, {\n          children: \"corpus/dev\"\n        }), \" and \", _jsx(InlineCode, {\n          children: \"config.cfg\"\n        }), \", in order to identify the\\nexecution context of your output. It would then compute an MD5 hash of the\\n\", _jsx(InlineCode, {\n          children: \"training/model-best\"\n        }), \" directory, and use those three pieces of information to\\nconstruct the storage URL.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project run train\\n$ python -m spacy project push\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you change the command or one of its dependencies (for instance, by editing\\nthe \", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: _jsx(InlineCode, {\n            children: \"config.cfg\"\n          })\n        }), \" file to tune the hyperparameters, a\\ndifferent creation hash will be calculated, so when you use\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" you won’t be overwriting your previous\\nfile. The system even supports multiple outputs for the same file and the same\\ncontext, which can happen if your training process is not deterministic, or if\\nyou have dependencies that aren’t represented in the command.\"]\n      }), _jsxs(_components.p, {\n        children: [\"In summary, the \", _jsx(_components.a, {\n          href: \"/api/cli#project\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project\"\n          })\n        }), \" remote storages are designed\\nto make a particular set of trade-offs. Priority is placed on \", _jsx(_components.strong, {\n          children: \"convenience\"\n        }), \",\\n\", _jsx(_components.strong, {\n          children: \"correctness\"\n        }), \" and \", _jsx(_components.strong, {\n          children: \"avoiding data loss\"\n        }), \". You can use\\n\", _jsx(_components.a, {\n          href: \"/api/cli#project-push\",\n          children: _jsx(InlineCode, {\n            children: \"project push\"\n          })\n        }), \" freely, as you’ll never overwrite remote\\nstate, and you don’t have to come up with names or version numbers. However,\\nit’s up to you to manage the size of your remote storage, and to remove files\\nthat are no longer relevant to you.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.section, {\n      id: \"section-integrations\",\n      children: [_jsx(_components.h2, {\n        id: \"integrations\",\n        children: \"Integrations \"\n      }), _jsxs(H3, {\n        id: \"dvc\",\n        children: [\" Data Version Control (DVC)\", _jsx(IntegrationLogo, {\n          name: \"dvc\",\n          title: \"DVC\",\n          width: 70,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsx(_components.p, {\n        children: \"Data assets like training corpora or pretrained weights are at the core of any\\nNLP project, but they’re often difficult to manage: you can’t just check them\\ninto your Git repo to version and keep track of them. And if you have multiple\\nsteps that depend on each other, like a preprocessing step that generates your\\ntraining data, you need to make sure the data is always up-to-date, and re-run\\nall steps of your process every time, just to be safe.\"\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://dvc.org\",\n          children: \"Data Version Control\"\n        }), \" (DVC) is a standalone open-source tool\\nthat integrates into your workflow like Git, builds a dependency graph for your\\ndata pipelines and tracks and caches your data files. If you’re downloading data\\nfrom an external source, like a storage bucket, DVC can tell whether the\\nresource has changed. It can also determine whether to re-run a step, depending\\non whether its input have changed or not. All metadata can be checked into a Git\\nrepo, so you’ll always be able to reproduce your experiments.\"]\n      }), _jsxs(_components.p, {\n        children: [\"To set up DVC, install the package and initialize your spaCy project as a Git\\nand DVC repo. You can also\\n\", _jsx(_components.a, {\n          href: \"https://dvc.org/doc/install/macos#install-with-pip\",\n          children: \"customize your DVC installation\"\n        }), \"\\nto include support for remote storage like Google Cloud Storage, S3, Azure, SSH\\nand more.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ pip install dvc   # Install DVC\\n$ git init          # Initialize a Git repo\\n$ dvc init          # Initialize a DVC project\\n\"\n        })\n      }), _jsx(Infobox, {\n        title: \"Important note on privacy\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"DVC enables usage analytics by default, so if you’re working in a\\nprivacy-sensitive environment, make sure to\\n\", _jsx(_components.a, {\n            href: \"https://dvc.org/doc/user-guide/analytics#opting-out\",\n            children: _jsx(_components.strong, {\n              children: \"opt-out manually\"\n            })\n          }), \".\"]\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"/api/cli#project-dvc\",\n          children: _jsx(InlineCode, {\n            children: \"spacy project dvc\"\n          })\n        }), \" command creates a \", _jsx(InlineCode, {\n          children: \"dvc.yaml\"\n        }), \"\\nconfig file based on a workflow defined in your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \". Whenever you\\nupdate your project, you can re-run the command to update your DVC config. You\\ncan then manage your spaCy project like any other DVC project, run\\n\", _jsx(_components.a, {\n          href: \"https://dvc.org/doc/command-reference/add\",\n          children: _jsx(InlineCode, {\n            children: \"dvc add\"\n          })\n        }), \" to add and track assets\\nand \", _jsx(_components.a, {\n          href: \"https://dvc.org/doc/command-reference/repro\",\n          children: _jsx(InlineCode, {\n            children: \"dvc repro\"\n          })\n        }), \" to reproduce the\\nworkflow or individual commands.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ python -m spacy project dvc [project_dir] [workflow_name]\\n\"\n        })\n      }), _jsx(Infobox, {\n        title: \"Important note for multiple workflows\",\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"DVC currently expects a single workflow per project, so when creating the config\\nwith \", _jsx(_components.a, {\n            href: \"/api/cli#project-dvc\",\n            children: _jsx(InlineCode, {\n              children: \"spacy project dvc\"\n            })\n          }), \", you need to specify the name\\nof a workflow defined in your \", _jsx(InlineCode, {\n            children: \"project.yml\"\n          }), \". You can still use multiple\\nworkflows, but only one can be tracked by DVC.\"]\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"prodigy\",\n        children: [\"Prodigy\", _jsx(IntegrationLogo, {\n          name: \"prodigy\",\n          width: 100,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://prodi.gy\",\n          children: \"Prodigy\"\n        }), \" is a modern annotation tool for creating training\\ndata for machine learning models, developed by us. It integrates with spaCy\\nout-of-the-box and provides many different\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/recipes\",\n          children: \"annotation recipes\"\n        }), \" for a variety of NLP tasks,\\nwith and without a model in the loop. If Prodigy is installed in your project,\\nyou can start the annotation server from your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" for a tight feedback\\nloop between data development and training.\"]\n      }), _jsx(Infobox, {\n        variant: \"warning\",\n        children: _jsxs(_components.p, {\n          children: [\"This integration requires \", _jsx(_components.a, {\n            href: \"https://prodi.gy/docs/changelog#v1.11\",\n            children: \"Prodigy v1.11\"\n          }), \"\\nor higher. If you’re using an older version of Prodigy, you can still use your\\nannotations in spaCy v3 by exporting your data with\\n\", _jsx(_components.a, {\n            href: \"https://prodi.gy/docs/recipes#data-to-spacy\",\n            children: _jsx(InlineCode, {\n              children: \"data-to-spacy\"\n            })\n          }), \" and running\\n\", _jsx(_components.a, {\n            href: \"/api/cli#convert\",\n            children: _jsx(InlineCode, {\n              children: \"spacy convert\"\n            })\n          }), \" to convert it to the binary format.\"]\n        })\n      }), _jsx(_components.p, {\n        children: \"The following example shows a workflow for merging and exporting NER annotations\\ncollected with Prodigy and training a spaCy pipeline:\"\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example usage\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project run all\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"vars:\\n  prodigy:\\n    train_dataset: \\\"fashion_brands_training\\\"\\n    eval_dataset: \\\"fashion_brands_eval\\\"\\n\\nworkflows:\\n  all:\\n    - data-to-spacy\\n    - train_spacy\\n\\ncommands:\\n  - name: \\\"data-to-spacy\\\"\\n    help: \\\"Merge your annotations and create data in spaCy's binary format\\\"\\n    script:\\n      - \\\"python -m prodigy data-to-spacy corpus/ --ner ${vars.prodigy.train_dataset},eval:${vars.prodigy.eval_dataset}\\\"\\n    outputs:\\n      - \\\"corpus/train.spacy\\\"\\n      - \\\"corpus/dev.spacy\\\"\\n  - name: \\\"train_spacy\\\"\\n    help: \\\"Train a named entity recognition model with spaCy\\\"\\n    script:\\n      - \\\"python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy --paths.dev corpus/dev.spacy\\\"\\n    deps:\\n      - \\\"corpus/train.spacy\\\"\\n      - \\\"corpus/dev.spacy\\\"\\n    outputs:\\n      - \\\"training/model-best\\\"\\n\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example train curve output\"\n        }), \"\\n\", _jsx(Image, {\n          src: \"/images/prodigy_train_curve.jpg\",\n          href: \"https://prodi.gy/docs/recipes#train-curve\",\n          alt: \"Screenshot of train curve terminal output\"\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/recipes#train-curve\",\n          children: _jsx(InlineCode, {\n            children: \"train-curve\"\n          })\n        }), \" recipe is another\\ncool workflow you can include in your project. It will run the training with\\ndifferent portions of the data, e.g. 25%, 50%, 75% and 100%. As a rule of thumb,\\nif accuracy increases in the last segment, this could indicate that collecting\\nmore annotations of the same type might improve the model further.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml (excerpt)\",\n          children: \"- name: \\\"train_curve\\\"\\n    help: \\\"Train the model with Prodigy by using different portions of training examples to evaluate if more annotations can potentially improve the performance\\\"\\n    script:\\n      - \\\"python -m prodigy train-curve --ner ${vars.prodigy.train_dataset},eval:${vars.prodigy.eval_dataset} --config configs/${vars.config} --show-plot\\\"\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"You can use the same approach for various types of projects and annotation\\nworkflows, including\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/named-entity-recognition\",\n          children: \"named entity recognition\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/span-categorization\",\n          children: \"span categorization\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/text-classification\",\n          children: \"text classification\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/dependencies-relations\",\n          children: \"dependency parsing\"\n        }), \",\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/recipes#pos\",\n          children: \"part-of-speech tagging\"\n        }), \" or fully\\n\", _jsx(_components.a, {\n          href: \"https://prodi.gy/docs/custom-recipes\",\n          children: \"custom recipes\"\n        }), \". You can also use spaCy\\nproject templates to quickly start the annotation server to collect more\\nannotations and add them to your Prodigy dataset.\"]\n      }), _jsx(Project, {\n        id: \"integrations/prodigy\",\n        children: _jsx(_components.p, {\n          children: \"Get started with spaCy and Prodigy using our project template. It includes\\ncommands to create a merged training corpus from your Prodigy annotations,\\ntraining and packaging a spaCy pipeline and analyzing if more annotations may\\nimprove performance.\"\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"streamlit\",\n        children: [\"Streamlit\", _jsx(IntegrationLogo, {\n          name: \"streamlit\",\n          width: 150,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://streamlit.io\",\n          children: \"Streamlit\"\n        }), \" is a Python framework for building interactive\\ndata apps. The \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-streamlit\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-streamlit\"\n          })\n        }), \"\\npackage helps you integrate spaCy visualizations into your Streamlit apps and\\nquickly spin up demos to explore your pipelines interactively. It includes a\\nfull embedded visualizer, as well as individual components.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Installation\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ pip install spacy-streamlit --pre\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.img, {\n        src: \"/images/spacy-streamlit.png\",\n        alt: \"Screenshot of the spacy-streamlit package in Streamlit\"\n      }), _jsxs(_components.p, {\n        children: [\"Using \", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-streamlit\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-streamlit\"\n          })\n        }), \", your\\nprojects can easily define their own scripts that spin up an interactive\\nvisualizer, using the latest pipeline you trained, or a selection of pipelines\\nso you can compare their results.\"]\n      }), _jsx(Project, {\n        id: \"integrations/streamlit\",\n        children: _jsx(_components.p, {\n          children: \"Get started with spaCy and Streamlit using our project template. It includes a\\nscript to spin up a custom visualizer and commands you can adjust to showcase\\nand explore your own custom trained pipelines.\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example usage\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project run visualize\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"commands:\\n  - name: visualize\\n    help: \\\"Visualize the pipeline's output interactively using Streamlit\\\"\\n    script:\\n      - 'streamlit run ./scripts/visualize.py ./training/model-best \\\"I like Adidas shoes.\\\"'\\n    deps:\\n      - \\\"training/model-best\\\"\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The following script is called from the \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \" and takes two positional\\ncommand-line argument: a comma-separated list of paths or packages to load the\\npipelines from and an example text to use as the default text.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          github: \"https://github.com/explosion/projects/blob/v3/integrations/streamlit/scripts/visualize.py\",\n          children: \"https://github.com/explosion/projects/blob/v3/integrations/streamlit/scripts/visualize.py\\n\"\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"fastapi\",\n        children: [\"FastAPI\", _jsx(IntegrationLogo, {\n          name: \"fastapi\",\n          width: 100,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://fastapi.tiangolo.com/\",\n          children: \"FastAPI\"\n        }), \" is a modern high-performance framework\\nfor building REST APIs with Python, based on Python\\n\", _jsx(_components.a, {\n          href: \"https://fastapi.tiangolo.com/python-types/\",\n          children: \"type hints\"\n        }), \". It’s become a popular\\nlibrary for serving machine learning models and you can use it in your spaCy\\nprojects to quickly serve up a trained pipeline and make it available behind a\\nREST API.\"]\n      }), _jsx(Project, {\n        id: \"integrations/fastapi\",\n        children: _jsx(_components.p, {\n          children: \"Get started with spaCy and FastAPI using our project template. It includes a\\nsimple REST API for processing batches of text, and usage examples for how to\\nquery your API from Python and JavaScript (Vanilla JS and React).\"\n        })\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example usage\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ python -m spacy project run serve\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"  - name: \\\"serve\\\"\\n    help: \\\"Serve the models via a FastAPI REST API using the given host and port\\\"\\n    script:\\n      - \\\"uvicorn scripts.main:app --reload --host 127.0.0.1 --port 5000\\\"\\n    deps:\\n      - \\\"scripts/main.py\\\"\\n    no_skip: true\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"The script included in the template shows a simple REST API with a \", _jsx(InlineCode, {\n          children: \"POST\"\n        }), \"\\nendpoint that accepts batches of texts and returns batches of predictions, e.g.\\nnamed entities found in the documents. Type hints and\\n\", _jsx(_components.a, {\n          href: \"https://github.com/samuelcolvin/pydantic\",\n          children: _jsx(InlineCode, {\n            children: \"pydantic\"\n          })\n        }), \" are used to define the\\nexpected data types.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          lang: \"python\",\n          github: \"https://github.com/explosion/projects/blob/v3/integrations/fastapi/scripts/main.py\",\n          children: \"https://github.com/explosion/projects/blob/v3/integrations/fastapi/scripts/main.py\\n\"\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"wandb\",\n        children: [\"Weights \u0026 Biases\", _jsx(IntegrationLogo, {\n          name: \"wandb\",\n          width: 175,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://www.wandb.com/\",\n          children: \"Weights \u0026 Biases\"\n        }), \" is a popular platform for experiment\\ntracking. spaCy integrates with it out-of-the-box via the\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-loggers#wandblogger\",\n          children: _jsx(InlineCode, {\n            children: \"WandbLogger\"\n          })\n        }), \", which\\nyou can add as the \", _jsx(InlineCode, {\n          children: \"[training.logger]\"\n        }), \" block of your training\\n\", _jsx(_components.a, {\n          href: \"/usage/training#config\",\n          children: \"config\"\n        }), \". The results of each step are then logged in\\nyour project, together with the full \", _jsx(_components.strong, {\n          children: \"training config\"\n        }), \". This means that\\n\", _jsx(_components.em, {\n          children: \"every\"\n        }), \" hyperparameter, registered function name and argument will be tracked\\nand you’ll be able to see the impact it has on your results.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Example config\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-ini\",\n            lang: \"ini\",\n            children: \"[training.logger]\\n@loggers = \\\"spacy.WandbLogger.v3\\\"\\nproject_name = \\\"monitor_spacy_training\\\"\\nremove_config_values = [\\\"paths.train\\\", \\\"paths.dev\\\", \\\"corpora.train.path\\\", \\\"corpora.dev.path\\\"]\\nlog_dataset_dir = \\\"corpus\\\"\\nmodel_log_interval = 1000\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsx(_components.img, {\n        src: \"/images/wandb1.jpg\",\n        alt: \"Screenshot: Visualized training results\"\n      }), _jsx(_components.img, {\n        src: \"/images/wandb2.jpg\",\n        alt: \"Screenshot: Parameter importance using config values\",\n        title: \"Parameter importance using config values\"\n      }), _jsx(Project, {\n        id: \"integrations/wandb\",\n        children: _jsxs(_components.p, {\n          children: [\"Get started with tracking your spaCy training runs in Weights \u0026 Biases using our\\nproject template. It trains on the IMDB Movie Review Dataset and includes a\\nsimple config with the built-in \", _jsx(InlineCode, {\n            children: \"WandbLogger\"\n          }), \", as well as a custom example of\\ncreating variants of the config for a simple hyperparameter grid search and\\nlogging the results.\"]\n        })\n      }), _jsx(_components.hr, {}), _jsxs(H3, {\n        id: \"huggingface_hub\",\n        children: [\"Hugging Face Hub\", _jsx(IntegrationLogo, {\n          name: \"huggingface_hub\",\n          width: 175,\n          height: \"auto\",\n          align: \"right\"\n        })]\n      }), _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"https://huggingface.co/\",\n          children: \"Hugging Face Hub\"\n        }), \" lets you upload models and share\\nthem with others. It hosts models as Git-based repositories which are storage\\nspaces that can contain all your files. It support versioning, branches and\\ncustom metadata out-of-the-box, and provides browser-based visualizers for\\nexploring your models interactively, as well as an API for production use. The\\n\", _jsx(_components.a, {\n          href: \"https://github.com/explosion/spacy-huggingface-hub\",\n          children: _jsx(InlineCode, {\n            children: \"spacy-huggingface-hub\"\n          })\n        }), \"\\npackage automatically adds the \", _jsx(InlineCode, {\n          children: \"huggingface-hub\"\n        }), \" command to your \", _jsx(InlineCode, {\n          children: \"spacy\"\n        }), \" CLI if\\nit’s installed.\"]\n      }), _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsx(_components.h4, {\n          children: \"Installation\"\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            lang: \"bash\",\n            children: \"$ pip install spacy-huggingface-hub\\n# Check that the CLI is registered\\n$ python -m spacy huggingface-hub --help\\n\"\n          })\n        }), \"\\n\"]\n      }), _jsxs(_components.p, {\n        children: [\"You can then upload any pipeline packaged with\\n\", _jsx(_components.a, {\n          href: \"/api/cli#package\",\n          children: _jsx(InlineCode, {\n            children: \"spacy package\"\n          })\n        }), \". Make sure to set \", _jsx(InlineCode, {\n          children: \"--build wheel\"\n        }), \" to output\\na binary \", _jsx(InlineCode, {\n          children: \".whl\"\n        }), \" file. The uploader will read all metadata from the pipeline\\npackage, including the auto-generated pretty \", _jsx(InlineCode, {\n          children: \"README.md\"\n        }), \" and the model details\\navailable in the \", _jsx(InlineCode, {\n          children: \"meta.json\"\n        }), \". For examples, check out the\\n\", _jsx(_components.a, {\n          href: \"https://huggingface.co/spacy\",\n          children: \"spaCy pipelines\"\n        }), \" we’ve uploaded.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          lang: \"bash\",\n          children: \"$ huggingface-cli login\\n$ python -m spacy package ./en_ner_fashion ./output --build wheel\\n$ cd ./output/en_ner_fashion-0.0.0/dist\\n$ python -m spacy huggingface-hub push en_ner_fashion-0.0.0-py3-none-any.whl\\n\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"After uploading, you will see the live URL of your pipeline packages, as well as\\nthe direct URL to the model wheel you can install via \", _jsx(InlineCode, {\n          children: \"pip install\"\n        }), \". You’ll also\\nbe able to test your pipeline interactively from your browser:\"]\n      }), _jsx(_components.img, {\n        src: \"/images/huggingface_hub.jpg\",\n        alt: \"Screenshot: interactive NER visualizer\"\n      }), _jsxs(_components.p, {\n        children: [\"In your \", _jsx(InlineCode, {\n          children: \"project.yml\"\n        }), \", you can add a command that uploads your trained and\\npackaged pipeline to the hub. You can either run this as a manual step, or\\nautomatically as part of a workflow. Make sure to set \", _jsx(InlineCode, {\n          children: \"--build wheel\"\n        }), \" when\\nrunning \", _jsx(InlineCode, {\n          children: \"spacy package\"\n        }), \" to build a wheel file for your pipeline package.\"]\n      }), _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-yaml\",\n          lang: \"yaml\",\n          title: \"project.yml\",\n          children: \"- name: \\\"push_to_hub\\\"\\n  help: \\\"Upload the trained model to the Hugging Face Hub\\\"\\n  script:\\n    - \\\"python -m spacy huggingface-hub push packages/en_${vars.name}-${vars.version}/dist/en_${vars.name}-${vars.version}-py3-none-any.whl\\\"\\n  deps:\\n    - \\\"packages/en_${vars.name}-${vars.version}/dist/en_${vars.name}-${vars.version}-py3-none-any.whl\\\"\\n\"\n        })\n      }), _jsx(Project, {\n        id: \"integrations/huggingface_hub\",\n        children: _jsx(_components.p, {\n          children: \"Get started with uploading your models to the Hugging Face hub using our project\\ntemplate. It trains a simple pipeline, packages it and uploads it if the\\npackaged model has changed. This makes it easy to deploy your models end-to-end.\"\n        })\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{"title":"Projects","version":3,"menu":[["Intro \u0026 Workflow","intro"],["Directory \u0026 Assets","directory"],["Custom Projects","custom"],["Remote Storage","remote"],["Integrations","integrations"]]},"scope":{}},"sectionTitle":"Usage Documentation","theme":"blue","section":"usage","apiDetails":{"stringName":null,"baseClass":null,"trainable":null},"isIndex":false,"next":{"slug":"/usage/saving-loading","title":"Saving \u0026 Loading"}},"__N_SSG":true},"page":"/[...listPathPage]","query":{"listPathPage":["usage","projects"]},"buildId":"2lY2cUyEfZosk4VLgkHb2","isFallback":false,"dynamicIds":[728,5561],"gsp":true,"scriptLoader":[]}</script></body></html>